const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/eruda-indexeddb-C1qvMOYU.js","assets/eruda-CmQLyEKj.js"])))=>i.map(i=>d[i]);
var T1=Object.defineProperty;var Pp=t=>{throw TypeError(t)};var R1=(t,e,r)=>e in t?T1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var it=(t,e,r)=>R1(t,typeof e!="symbol"?e+"":e,r),O1=(t,e,r)=>e.has(t)||Pp("Cannot "+r);var so=(t,e,r)=>(O1(t,e,"read from private field"),r?r.call(t):e.get(t)),$p=(t,e,r)=>e.has(t)?Pp("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const C1="modulepreload",k1=function(t){return"/"+t},Lp={},sn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(r.map(c=>{if(c=k1(c),c in Lp)return;Lp[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":C1,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Od=(t,e)=>e.some(r=>t instanceof r);let Np,Mp;function D1(){return Np||(Np=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P1(){return Mp||(Mp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cd=new WeakMap,qc=new WeakMap,zl=new WeakMap;function $1(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Es(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return zl.set(e,t),e}function L1(t){if(Cd.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Cd.set(t,e)}let kd={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Cd.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Es(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rb(t){kd=t(kd)}function N1(t){return P1().includes(t)?function(...e){return t.apply(Dd(this),e),Es(this.request)}:function(...e){return Es(t.apply(Dd(this),e))}}function M1(t){return typeof t=="function"?N1(t):(t instanceof IDBTransaction&&L1(t),Od(t,D1())?new Proxy(t,kd):t)}function Es(t){if(t instanceof IDBRequest)return $1(t);if(qc.has(t))return qc.get(t);const e=M1(t);return e!==t&&(qc.set(t,e),zl.set(e,t)),e}const Dd=t=>zl.get(t);function Fp(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Es(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Es(o.result),l.oldVersion,l.newVersion,Es(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}function jp(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),Es(r).then(()=>{})}const F1=["get","getKey","getAll","getAllKeys","count"],j1=["put","add","delete","clear"],Vc=new Map;function Up(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vc.get(e))return Vc.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=j1.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||F1.includes(r)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(a.shift())),(await Promise.all([c[r](...a),s&&l.done]))[0]};return Vc.set(e,i),i}Rb(t=>({...t,get:(e,r,n)=>Up(e,r)||t.get(e,r,n),has:(e,r)=>!!Up(e,r)||t.has(e,r)}));const U1=["continue","continuePrimaryKey","advance"],Bp={},Pd=new WeakMap,Ob=new WeakMap,B1={get(t,e){if(!U1.includes(e))return t[e];let r=Bp[e];return r||(r=Bp[e]=function(...n){Pd.set(this,Ob.get(this)[e](...n))}),r}};async function*q1(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,B1);for(Ob.set(r,e),zl.set(r,Dd(e));e;)yield r,e=await(Pd.get(r)||e.continue()),Pd.delete(r)}function qp(t,e){return e===Symbol.asyncIterator&&Od(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Od(t,[IDBIndex,IDBObjectStore])}Rb(t=>({...t,get(e,r,n){return qp(e,r)?q1:t.get(e,r,n)},has(e,r){return qp(e,r)||t.has(e,r)}}));var Cb={},V1=Object.defineProperty,H1=(t,e,r)=>e in t?V1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pr=(t,e,r)=>H1(t,typeof e!="symbol"?e+"":e,r);function kb(t){return typeof t=="function"?t():t}function z1(t,e,...r){kb(t)||We(e,...r)}function We(t="Something went wrong",...e){const r=typeof t=="string"?Error:t;throw new r(...typeof t=="string"?[t]:e)}function W1(){return typeof global<"u"?global:typeof globalThis<"u"?globalThis:window}const K1=W1().Error;let Yr=class extends K1{constructor(e,r){super(e,r),this.name=new.target.name==="JSError"?"Error":new.target.name,Object.setPrototypeOf(this,new.target.prototype)}};function G1(t,e){return t==null&&e==null?[t===null?1:0,e===null?1:0]:[t??null,e??null]}function Hc(t,e){const[r,n]=G1(t,e);return r>n?1:n>r?-1:0}function jf(t,e){return t===e?!0:!lt(t)||!lt(e)?!1:t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():Object.keys(t).length!==Object.keys(e).length?!1:!Object.keys(t).some(r=>!jf(t[r],e[r]))}function _a(t,e){let r=t;const n=e.split(".");for(const s of n){if(Array.isArray(r)){r=r[Number(s)];continue}if(!lt(r))return;r=r[s]}return r}function J1(t){return Object.entries(t).reduce((e,[r,n])=>(e[n]=r,e),{})}const X1=Array.isArray.bind(Array);function Ro(t){return t==null?!0:Array.isArray(t)||typeof t=="string"?t.length===0:typeof t=="object"?Object.keys(t).length===0:!1}function As(t,e){return t instanceof e}function Y1(t){return typeof(t==null?void 0:t[Symbol.iterator])=="function"}function lt(t){return typeof t=="object"&&t!==null}function Q1(t){return lt(t)&&Object.getPrototypeOf(t)===Object.prototype}function Z1(t){return typeof t=="string"||t instanceof String}function $d(t){return typeof t>"u"||t===null}function rn(t){t={...t};for(const e in t)tx(t,e)&&(t[e]=rn(t[e]));return t}Object.entries.bind(Object);Object.fromEntries.bind(Object);Object.values.bind(Object);Object.keys.bind(Object);function pl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ex(t,e){return t.reduce((r,n)=>(r[n[e]]=n,r),{})}function wa(t,e){const r={},n=Array.isArray(e)?e:[e];for(const s of n)s in t&&(r[s]=t[s]);return r}function tx(t,e){let r;return pl(t,e)&&lt(r=t[e])&&r.constructor===Object}function ji(t,e){if(typeof e=="function"){const s=e,i={};for(const[o,a]of Object.entries(t))s(a)||(i[o]=a);return i}const r={...t},n=Array.isArray(e)?e:[e];for(const s of n)delete r[s];return r}function xr(t){return ji(t,e=>e==null)}function Db(t,e,r){t.prototype[e]=r}function Rt(t){return String(t)}function rx(t){t.splice(0,t.length)}function Ki(t,e,r){const n=t.slice(0),s=[],i=r?(o,a)=>a.findIndex(l=>r(o,l)):(o,a)=>a.indexOf(o);for(const o of e){const a=i(o,n);a!==-1?n.splice(a,1):s.push(o)}return{added:s,removed:n}}function nx(t,e){return t.length!==e.length?!1:!t.some((r,n)=>e[n]!==r)}function Xt(t,e){return e?t.filter(e):t.filter(r=>!!r)}function sx(t,e){for(const r of t)if(e(r))return r;return null}function ix(t,e){return[...t.entries()].flatMap(([r,n])=>e(n,r))}function ox(t,e){const r=typeof e=="string"?n=>Rt(n[e]):e;return t.reduce((n,s)=>{var i;return(n[i=r(s)]??(n[i]=[])).push(s),n},{})}function ax(t){return t.length===0}function lx(t,e){return t.map(r=>r[e])}function cx(t){return t.length===0?null:t[Math.floor(Math.random()*t.length)]}function ux(t,e){const r=t.slice(0),n=[];for(;r.length>0&&n.length<e;){const s=Math.floor(Math.random()*r.length);n.push(r[s]),r.splice(s,1)}return n}function $r(t,e){const r=t.indexOf(e);return r===-1?!1:(t.splice(r,1),!0)}function dx(t,e){return t.splice(Number(e),1).length>0}function Pb(t,e,r){const n=t.indexOf(e);return n===-1?!1:(t[n]=r,!0)}function Ja(t,e,r){r=e==="asc"||e==="desc"?e:r;const n={},s=a=>{switch(typeof a){case"string":return"";case"number":return Number.MIN_SAFE_INTEGER;case"boolean":return!1;default:return null}},i=(a,l)=>{if(!(l in n)){const c=_a(t.find(u=>_a(u,l)!==void 0&&_a(u,l)!==null),l);n[l]=s(c)}return _a(a,l)??n[l]},o=()=>{const a=r==="desc"?l=>(c,u)=>Hc(i(u,l),i(c,l)):l=>(c,u)=>Hc(i(c,l),i(u,l));switch(typeof e){case"function":return e;case"string":return e==="asc"?void 0:e==="desc"?(l,c)=>Hc(c,l):a(e);case"object":{const l=e.map(c=>a(c));return(c,u)=>{for(const d of l){const f=d(c,u);if(f!==0)return f}return 0}}}};return t.slice(0).sort(o())}function Cr(t,e){return e?Object.values(t.reduce((r,n)=>{const s=e(n);return r[s]=r[s]??n,r},{})):[...new Set(t)]}function fx(t,e,r){return t.filter(n=>{const s=n[e],i=typeof s=="function"?s.call(n):s;return r?i===r:!!i})}function Wr(t,e){return Array.isArray(e)?Xt(t,r=>e.indexOf(r)===-1):hx(t,t.indexOf(e))}function hx(t,e){return Uf(t,[e])}function Uf(t,e){return t.map((r,n)=>[r,n]).filter(([r,n])=>!e.includes(n)).map(([r])=>r)}function fr(t,e=!1){return Array.isArray(t)||Y1(t)&&!Z1(t)?Array.from(t):e&&t==null?[]:[t]}let px=class{constructor(){Pr(this,"listeners",[])}add(e){return this.listeners.push(e),()=>this.remove(e)}remove(e){$r(this.listeners,e)}async emit(e,...r){for(const n of this.listeners){const s=n[e];typeof s=="function"&&await(s==null?void 0:s.call(n,...r))}}},ml=class{static isConjuring(){return this.__conjuring}static isMagicReady(){return this.__reservedProperties.has(this)}static prepareMagic(){this.__conjuring=!0,this.__reservedProperties.set(this,new Set(Object.getOwnPropertyNames(new this))),this.__conjuring=!1}static isReservedProperty(e){var r;return!!((r=this.__reservedProperties.get(this))!=null&&r.has(e))}constructor(...e){if(!this.static().isConjuring())return this.static().isMagicReady()||this.static().prepareMagic(),this._proxy=this.createProxy(),this.initialize(...e),this._proxy.instance}static(e){const r=this.constructor;return e?r[e]:r}reserveProperty(e){Object.assign(this,{[e]:null})}initialize(...e){}__get(e){return Reflect.get(this._proxy.target,e)}__set(e,r){Reflect.set(this._proxy.target,e,r)}__delete(e){Reflect.deleteProperty(this._proxy.target,e)}createProxy(){const e=this.static();return{target:this,instance:new Proxy(this,{get(r,n,s){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.get(r,n,s):r.__get(n)},set(r,n,s,i){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.set(r,n,s,i):(r.__set(n,s),!0)},deleteProperty(r,n){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.deleteProperty(r,n):(r.__delete(n),!0)}})}}};Pr(ml,"__conjuring"),Pr(ml,"__reservedProperties",new WeakMap);let mx=class $b{constructor(e){Pr(this,"keysToItems"),Pr(this,"itemsToKeys"),Pr(this,"getKey"),this.keysToItems=new Map,this.itemsToKeys=new WeakMap,this.getKey=e??(r=>Rt(r))}static createFromArray(e,r){const n=typeof r=="string"?i=>i[r]:r,s=new $b(n);for(const i of e)s.add(i);return s}*[Symbol.iterator](){yield*this.keysToItems}get size(){return this.keysToItems.size}items(){return this.keysToItems.values()}keys(){return this.keysToItems.keys()}entries(){return this.keysToItems.entries()}add(e){const r=this.getKey(e);this.keysToItems.set(r,e),this.itemsToKeys.set(e,r)}require(e){return this.keysToItems.get(e)??We(`Couldn't find item with '${e}' key`)}get(e){return this.keysToItems.get(e)}getKeys(){return[...this.keysToItems.keys()]}getItems(){return[...this.keysToItems.values()]}hasKey(e){return this.keysToItems.has(e)}hasItem(e){return this.itemsToKeys.has(e)}delete(e){const r=this.itemsToKeys.get(e);r&&(this.itemsToKeys.delete(e),this.keysToItems.delete(r))}filter(e){const r=this.constructor.createFromArray([],this.getKey);for(const[n,s]of this.entries())e(s,n)&&r.add(s);return r}clear(){this.itemsToKeys=new WeakMap,this.keysToItems.clear()}clone(){const e=this.constructor,r=new e(this.getKey);r.keysToItems=new Map(this.keysToItems),r.itemsToKeys=new WeakMap;for(const[n,s]of r.keysToItems.entries())r.itemsToKeys.set(s,n);return r}},ks=class Lb{constructor(){Pr(this,"resolveListeners",[]),Pr(this,"rejectListeners",[]),Pr(this,"resetListeners",[]),this.setPromiseValues()}static from(e){const r=new Lb;return e.then(r.resolve.bind(r)).catch(r.reject.bind(r)),r}get value(){return this._value||null}isResolved(){return"_value"in this}then(e,r){return this.promise.then(e,r)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}resolve(e){this.isResolved()&&this.reset(),this._value=e,this._resolve(e),this.resolveListeners.forEach(r=>r(e))}reject(e){this.isResolved()&&this.reset(),delete this._value,this._reject(e),this.rejectListeners.forEach(r=>r(e))}onResolve(e){return this.resolveListeners.push(e),()=>$r(this.resolveListeners,e)}onReject(e){return this.rejectListeners.push(e),()=>$r(this.rejectListeners,e)}onReset(e){return this.resetListeners.push(e),()=>$r(this.resetListeners,e)}reset(){this.setPromiseValues(),this.rejectListeners.forEach(e=>e())}setPromiseValues(){this.promise=new Promise((e,r)=>{this._resolve=e,this._reject=r})}},Bf=class{constructor(e=1){Pr(this,"count"),Pr(this,"listeners"),this.count=e,this.listeners=new Set}acquire(){return this.count===0?this.waitAvailable().then(()=>this.acquire()):(this.count=Math.max(this.count-1,0),Promise.resolve())}release(){this.count++,this.notifyAvailable()}isAvailable(){return this.count!==0}async run(e){await this.acquire();try{return await e()}finally{this.release()}}async waitAvailable(){for(;!this.isAvailable();)await new Promise(e=>{const r=()=>{this.listeners.delete(r),e(null)};this.listeners.add(r)})}notifyAvailable(){this.listeners.forEach(e=>e())}};const Vp={},Nb=class Mb{static get instance(){return this._instance=this._instance??new Mb}constructor(){}set(e,r){typeof r>"u"&&(r="__undefined__"),localStorage.setItem(e,JSON.stringify(r))}get(e,r=null){const n=localStorage.getItem(e);if(n===null)return r;if(n!=="__undefined__")return JSON.parse(n)}require(e){const r=this.get(e,Vp);if(r===Vp)throw new Error(`Failed getting required key from local storage: '${e}'`);return r}has(e){return localStorage.getItem(e)!==null}remove(e){localStorage.removeItem(e)}pull(e,r=null){if(!this.has(e))return r;const n=this.get(e);return this.remove(e),n}};Pr(Nb,"_instance");let gx=Nb;const nn=gx.instance;function Hp(t){return!(!t||["0","false"].includes(t))}const zc={},Ss={},Ui={};function zp(t,e){return Ss[t]=Ss[t]??ks.from(e()),Ss[t]}function Xa(t,e){return zc[t]=zc[t]??e(),zc[t]}function Wp(t,e,r){var n,s;return(n=Ui[t])!=null&&n.has(e)||qf(t,e,r()),((s=Ui[t])==null?void 0:s.get(e))??We()}function Ya(t,e){var r;return((r=Ui[t])==null?void 0:r.get(e))??null}function Kp(t){fr(t??Object.keys(Ss)).forEach(e=>delete Ss[e])}function Wc(t,e){var r;(r=Ui[t])==null||r.delete(e)}function Gp(t,e){var r;Ss[t]=Ss[t]??new ks,(r=Ss[t])==null||r.resolve(e)}function qf(t,e,r){(Ui[t]??(Ui[t]=new WeakMap)).set(e,r)}function Kc(t){if(!t)return null;try{const e=new Date(t),r=e.getTime();return isNaN(r)||r===0?null:e}catch{return null}}function Fb(){return typeof globalThis=="object"&&("Cypress"in globalThis||typeof globalThis.top=="object"&&globalThis.top&&"Cypress"in globalThis.top)?"e2e":typeof process=="object"&&Cb.VITEST?"unit":null}function Wl(){var t;if(Fb())return"testing";if(typeof process=="object"&&(t=Cb)!=null&&t.NODE_ENV)return"production";try{return"production"}catch{return null}}function Ds(){return Wl()==="development"}function Vf(t){return Wl()!=="testing"?!1:!t||t===Fb()}function yx(){const t=Wl();return t==="development"||t==="testing"}function bx(t){return Ex(t)}function Gc(t,e){let r=t[0],n=t[1],s=t[2],i=t[3];r=er(r,n,s,i,e[0],7,-680876936),i=er(i,r,n,s,e[1],12,-389564586),s=er(s,i,r,n,e[2],17,606105819),n=er(n,s,i,r,e[3],22,-1044525330),r=er(r,n,s,i,e[4],7,-176418897),i=er(i,r,n,s,e[5],12,1200080426),s=er(s,i,r,n,e[6],17,-1473231341),n=er(n,s,i,r,e[7],22,-45705983),r=er(r,n,s,i,e[8],7,1770035416),i=er(i,r,n,s,e[9],12,-1958414417),s=er(s,i,r,n,e[10],17,-42063),n=er(n,s,i,r,e[11],22,-1990404162),r=er(r,n,s,i,e[12],7,1804603682),i=er(i,r,n,s,e[13],12,-40341101),s=er(s,i,r,n,e[14],17,-1502002290),n=er(n,s,i,r,e[15],22,1236535329),r=tr(r,n,s,i,e[1],5,-165796510),i=tr(i,r,n,s,e[6],9,-1069501632),s=tr(s,i,r,n,e[11],14,643717713),n=tr(n,s,i,r,e[0],20,-373897302),r=tr(r,n,s,i,e[5],5,-701558691),i=tr(i,r,n,s,e[10],9,38016083),s=tr(s,i,r,n,e[15],14,-660478335),n=tr(n,s,i,r,e[4],20,-405537848),r=tr(r,n,s,i,e[9],5,568446438),i=tr(i,r,n,s,e[14],9,-1019803690),s=tr(s,i,r,n,e[3],14,-187363961),n=tr(n,s,i,r,e[8],20,1163531501),r=tr(r,n,s,i,e[13],5,-1444681467),i=tr(i,r,n,s,e[2],9,-51403784),s=tr(s,i,r,n,e[7],14,1735328473),n=tr(n,s,i,r,e[12],20,-1926607734),r=rr(r,n,s,i,e[5],4,-378558),i=rr(i,r,n,s,e[8],11,-2022574463),s=rr(s,i,r,n,e[11],16,1839030562),n=rr(n,s,i,r,e[14],23,-35309556),r=rr(r,n,s,i,e[1],4,-1530992060),i=rr(i,r,n,s,e[4],11,1272893353),s=rr(s,i,r,n,e[7],16,-155497632),n=rr(n,s,i,r,e[10],23,-1094730640),r=rr(r,n,s,i,e[13],4,681279174),i=rr(i,r,n,s,e[0],11,-358537222),s=rr(s,i,r,n,e[3],16,-722521979),n=rr(n,s,i,r,e[6],23,76029189),r=rr(r,n,s,i,e[9],4,-640364487),i=rr(i,r,n,s,e[12],11,-421815835),s=rr(s,i,r,n,e[15],16,530742520),n=rr(n,s,i,r,e[2],23,-995338651),r=nr(r,n,s,i,e[0],6,-198630844),i=nr(i,r,n,s,e[7],10,1126891415),s=nr(s,i,r,n,e[14],15,-1416354905),n=nr(n,s,i,r,e[5],21,-57434055),r=nr(r,n,s,i,e[12],6,1700485571),i=nr(i,r,n,s,e[3],10,-1894986606),s=nr(s,i,r,n,e[10],15,-1051523),n=nr(n,s,i,r,e[1],21,-2054922799),r=nr(r,n,s,i,e[8],6,1873313359),i=nr(i,r,n,s,e[15],10,-30611744),s=nr(s,i,r,n,e[6],15,-1560198380),n=nr(n,s,i,r,e[13],21,1309151649),r=nr(r,n,s,i,e[4],6,-145523070),i=nr(i,r,n,s,e[11],10,-1120210379),s=nr(s,i,r,n,e[2],15,718787259),n=nr(n,s,i,r,e[9],21,-343485551),t[0]=vs(r,t[0]),t[1]=vs(n,t[1]),t[2]=vs(s,t[2]),t[3]=vs(i,t[3])}function Kl(t,e,r,n,s,i){return e=vs(vs(e,t),vs(n,i)),vs(e<<s|e>>>32-s,r)}function er(t,e,r,n,s,i,o){return Kl(e&r|~e&n,t,e,s,i,o)}function tr(t,e,r,n,s,i,o){return Kl(e&n|r&~n,t,e,s,i,o)}function rr(t,e,r,n,s,i,o){return Kl(e^r^n,t,e,s,i,o)}function nr(t,e,r,n,s,i,o){return Kl(r^(e|~n),t,e,s,i,o)}function vx(t){const e=t.length,r=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=t.length;n+=64)Gc(r,_x(t.substring(n-64,n)));t=t.substring(n-64);const s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)s[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(s[n>>2]|=128<<(n%4<<3),n>55)for(Gc(r,s),n=0;n<16;n++)s[n]=0;return s[14]=e*8,Gc(r,s),r}function _x(t){let e;const r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}const Jp="0123456789abcdef".split("");function wx(t){let e="",r=0;for(;r<4;r++)e+=Jp[t>>r*8+4&15]+Jp[t>>r*8&15];return e}function xx(t){for(let e=0;e<t.length;e++)t[e]=wx(t[e]);return t.join("")}function vs(t,e){return t+e&4294967295}function Ex(t){return xx(vx(t))}function jb(t){const e=t;return(e^Math.random()*16>>e/4).toString(16)}function Ub(t=9){return(10**(t-1)).toString().replace(/[01]/g,jb)}function Ar(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,jb)}function Rn(t={}){const e=typeof t=="number"?t:(t.milliseconds||t.ms||0)+(t.seconds||0)*1e3;return new Promise(r=>setTimeout(r,e))}async function Ax(){await new Promise(()=>{})}async function Sx(t){for(;location.href!==t;)await Rn({ms:1})}function Jc(t){return Ix()[t]}function Ix(){const t=new URL(location.href),e={};return t.searchParams.forEach((r,n)=>e[n]=r),e}function xa(t){return new URL(location.href).searchParams.has(t)}async function Tx(t){const e=Object.entries(t).reduce((r,[n,s])=>(s?r.searchParams.set(n,s):r.searchParams.delete(n),r),new URL(location.href));history.pushState(null,document.title,e.href),await Sx(e.href)}const Rx=Object.getPrototypeOf(Object);function Ox(t,e){class r extends t{constructor(...s){super(...s);for(const i of e){const o=new i(...s);Object.assign(this,o)}return this}}return Pr(r,"__mixins",e),kx(r,e),r}function Cx(t,e){if(e===Object)return;let r=e;do{const n=ji(Object.getOwnPropertyDescriptors(r.prototype),["constructor"]);for(const[s,i]of Object.entries(n))Object.defineProperty(t.prototype,s,i);r=Object.getPrototypeOf(r)}while(r!==Rx)}function kx(t,e=[]){for(const r of e)Cx(t,r)}function Bb(t,e=[]){const r=Array.isArray(t)?Object:t,n=Array.isArray(t)?t:e;return Ox(r,n)}function Gl(...t){return Bb(...t)}function Jl(t,e){var r,n;return((t==null?void 0:t.__mixins)??((n=(r=t==null?void 0:t.__proto__)==null?void 0:r.constructor)==null?void 0:n.__mixins)??[]).includes(e)}async function Dx(t,e){for(const r of t){const n=await e(r);if(n)return n}return null}function Px(t){return"then"in t}function qb(t,e=null){return typeof t!="function"?t.catch(()=>e):async(...r)=>{try{return await t(...r)}catch{return e??null}}}function $x(t,e=300,r="..."){return t.length<e?t:t.substring(0,e-r.length)+r}function Vb(t,e){return t.match(e)}function Hb(t,e){return t.matchAll(e)}function Lx(t){return t.split("").reverse().join("")}function Hf(t){return t.split(/_|-|\s|(?=[A-Z])/)}function ti(t){const[e,...r]=Hf(t);return(e??"").toLowerCase()+r.map(n=>n.slice(0,1).toUpperCase()+n.slice(1).toLowerCase()).join("")}function zf(t,e="-"){return t=t.normalize("NFD").replace(/[֊־᐀‐‑‒–—―⸗⸚⸺⸻~〜〰゠︱︲﹘﹣－(){}><[\]]/g," ").replace(/[\u0300-\u036f]/g,"").replace(/[\u3000-\u303f]/g,"").replace(/['".,#!$%/\\^&*;:=`@+?]/g,"").toLowerCase().trim().replace(/\s+/g,e),e.length>0&&(t=t.replace(new RegExp(`${e}+`,"g"),e)),t}function Nx(t){return Hf(t).map(e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()).join("")}function Mx(t){return Hf(t).map(e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function an(t){return Hr(t)??We(`Failed getting parent directory from '${t}'`)}function Fx(t){return zb(t)??We(`Failed getting directory name from '${t}'`)}function jx(t){return sa(t)??We(`Failed parsing url from '${t}'`)}function Bi(...t){let e=t.shift();for(;t.length>0;){const r=t.shift();r.startsWith("/")?e=Nn(e)+r:r.match(/^[\w-]+:\/\//)?e=r:e.endsWith("/")?e+=r:e+="/"+r}return e}function Xp(...t){const e=Bi(...t);return e.endsWith("/")?e:e+"/"}function Nn(t){const e=t.indexOf("://")+3,r=t.substr(e).indexOf("/");return r!==-1?t.substring(0,e+r):t}function Hr(t){if(t.endsWith("/")&&(t=t.substring(0,t.length-1)),Nn(t)===t)return null;const e=t.lastIndexOf("/");return e!==-1?t.substr(0,e+1):null}function zb(t){t.endsWith("/")||(t=Hr(t)??t+"/");const e=t.slice(0,-1);return Nn(t)===e?null:Wb(e)}function Wb(t){const e=t.lastIndexOf("/");return(e!==-1?t.slice(e+1):"").replace(/#.*$/,"").replace(/\?.*$/,"")}function sa(t){const e=t.trim().match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/);if(!e)return null;const r=e[4]||"",[n,s]=r.indexOf(":")===-1?[r]:r.split(":");return{protocol:e[2]||void 0,domain:n||void 0,port:s||void 0,path:e[5]||void 0,query:e[7]||void 0,fragment:e[9]||void 0}}function Kb(t,e){const r=sa(t);if(!r)return t;for(const[n,s]of Object.entries(r))r[n]=e[n]!==!1&&s||"";return[r.protocol?`${r.protocol}://`:"",r.domain??"",r.port?`:${r.port}`:"",r.path??"",r.query?`?${r.query}`:"",r.fragment?`#${r.fragment}`:""].join("")}function In(t){return Kb(t,{protocol:!0,domain:!0,port:!0,path:!0,query:!1,fragment:!1})}function Gb(t,e){const r=t.prototype;for(const[n,s]of Object.entries(e))r[n]=function(...i){var o;const a=s(this.value,...i);return(o=this.chain)==null?void 0:o.call(this,a)}}function Jb(t,e){const r=t.prototype,n=Object.getOwnPropertyDescriptors(e.prototype);for(const[s,i]of Object.entries(n))if(!(s in r)){if(typeof i.value!="function"){Object.defineProperty(r,s,{get(){return this.chain(this.value[s])}});continue}r[s]=function(...o){var a;const l=i.value.call(this.value,...o);return(a=this.chain)==null?void 0:a.call(this,l)}}}let Xb=class{constructor(e){this.value=e}static isPrimitive(e){return this.prototype.isPrimitive(e)}create(e){const r=this.constructor;return new r(e)}chain(e){return this.isPrimitive(e)?this.create(e):e}};const Ux={clear:rx,diff:Ki,filter:Xt,first:sx,flatMap:ix,groupBy:ox,isEmpty:ax,project:lx,randomItem:cx,randomItems:ux,remove:$r,removeIndex:dx,replace:Pb,sorted:Ja,unique:Cr,where:fx,without:Wr,withoutIndexes:Uf};let Wf=class extends Xb{static create(e=[]){const{prototype:r}=this;return r.create(e)}*[Symbol.iterator](){yield*this.value}get(e){return this.value[e]}toArray(){return this.value.slice(0)}isPrimitive(e){return Array.isArray(e)}};Gb(Wf,Ux);Jb(Wf,Array);const Bx={reverse:Lx,toCamelCase:ti,toSlug:zf,toStudlyCase:Nx,toTitleCase:Mx};let Yb=class extends Xb{static create(e=""){const{prototype:r}=this;return r.create(e)}toString(){return this.value}isPrimitive(e){return typeof e=="string"}};Gb(Yb,Bx);Jb(Yb,String);const qx=[];function Ns(t){let e=null;function r(){try{return t()}catch{return new t}}function n(i){return e=i,i}const s={setInstance:n,newInstance:r,requireInstance:()=>e??n(r()),reset:()=>n(r())};return qx.forEach(i=>i(s)),new Proxy(s,{get:(i,o,a)=>{const l=o!=="constructor"&&o in s?s:s.requireInstance();return Reflect.get(l,o,a)},set:(i,o,a)=>Reflect.set(s.requireInstance(),o,a)})}function Vx(t){const e=new Proxy(t,{get(r,n,s){const i=Reflect.get(r,n,s);return typeof i!="function"?i:(...o)=>(i.call(r,...o),e)}});return e}function Ne(t,e){if(!e)return Vx(t);const r=e(t);return r instanceof Promise?r.then(()=>t):t}let Hx=class{constructor(e,r){this.errorMessage=e,this.getValue=r}get(e,r,n){const s=this.getValue()??We(this.errorMessage),i=Reflect.get(s,r,n);return typeof i=="function"?i.bind(s):i}set(e,r,n,s){const i=this.getValue()??We(this.errorMessage);return Reflect.set(i,r,n,s)}getPrototypeOf(){const e=this.getValue()??We(this.errorMessage);return Object.getPrototypeOf(e)}};function gl(t,e){return e??(e="Required value is missing"),typeof t=="function"?new Proxy({},new Hx(e,t)):t??We(e)}function Ld(t,e){const r=typeof e=="function"?e(t):!!e;return new Proxy(t,{get(n,s,i){return r?Reflect.get(n,s,i):()=>{}}})}function Qb(t=[]){return Wf.create(fr(t))}function qo(t=[],e){if(!Array.isArray(t)||typeof t[0]!="string")return mx.createFromArray(t,e);const r=e;return t.reduce((n,s)=>(n[s]=r(s),n),{})}var zx=Object.defineProperty,Wx=(t,e,r)=>e in t?zx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ot=(t,e,r)=>Wx(t,typeof e!="symbol"?e+"":e,r);let Me=class extends Error{constructor(e,r){super(...r?[e,r]:[e]),this.name=new.target.name,Object.setPrototypeOf(this,new.target.prototype)}},Kf=class extends Me{constructor(e){super(`Could not create document with id ${e} because it is already in use.`),Ot(this,"id"),this.id=e}},_s=class extends Me{constructor(e,r){super(r?`Couldn't find document with id '${e}' in '${r}' Collection.`:`Couldn't find document with id '${e}'`),Ot(this,"id"),Ot(this,"collection"),this.id=e,this.collection=r}};function Kx(t){return t instanceof Gx||"getProxySubject"in t}let Gx=class{constructor(e,r={}){Ot(this,"subject"),Ot(this,"overrides"),this.subject=e,this.overrides={create:(...n)=>e.create(...n),readOne:(...n)=>e.readOne(...n),readMany:(...n)=>e.readMany(...n),update:(...n)=>e.update(...n),delete:(...n)=>e.delete(...n),...r}}getProxySubject(){return this.subject}async create(e,r,n){return this.overrides.create(e,r,n)}async readOne(e,r){return this.overrides.readOne(e,r)}async readMany(e,r){return this.overrides.readMany(e,r)}async update(e,r,n){return this.overrides.update(e,r,n)}async delete(e,r){return this.overrides.delete(e,r)}},Xl=class{constructor(){Ot(this,"rootFilters"),Ot(this,"rootUpdates"),Ot(this,"attributeFilters"),Ot(this,"attributeUpdates"),Ot(this,"documentsIn",(e,r,n)=>n.includes(e)),Ot(this,"documentOverwrite",(e,r)=>{for(const n of Object.getOwnPropertyNames(e))delete e[n];Object.assign(e,r)}),Ot(this,"attributeEq",(e,r,n)=>jf(e[r],n)),Ot(this,"attributeContains",(e,r,n)=>{Array.isArray(n)||(n=[n]);const s=e&&e[r];return Array.isArray(s)?!n.find(i=>!s.find(o=>this.filterValue(o,i))):!1}),Ot(this,"attributeOr",(e,r,n)=>!!n.find(s=>!!this.filterValue(e,{[r]:s}))),Ot(this,"attributeIn",(e,r,n)=>n.includes(e[r])),Ot(this,"attributeUpdate",(e,r,n)=>{if(Array.isArray(n)||!lt(n)){e[r]=n;return}if(this.isOperation(n,this.attributeUpdates)){this.runOperation(n,this.attributeUpdates,e,r);return}if(!lt(e[r])){e[r]=n;return}this.updateAttributes(e[r],n)}),Ot(this,"attributeUpdateItems",(e,r,n)=>{Array.isArray(n)||(n=[n]);for(const{$where:s,$update:i,$override:o,$unset:a}of n){s&&s.$in&&(s.$in=s.$in.map(u=>u.toString()));const l=this.requireArrayProperty("$updateItems",e,r),c=this.filterDocuments(l.reduce((u,d,f)=>({...u,[f]:lt(d)?d:{}}),{}),s||{});i&&Object.keys(c).forEach(u=>{this.updateAttributes(c,{[u]:i}),l[parseInt(u)]=c[u]}),o&&Object.keys(c).forEach(u=>{l[parseInt(u)]=o}),a&&(e[r]=Uf(l,Object.keys(c).map(parseInt)))}}),Ot(this,"attributePush",(e,r,n)=>{this.requireArrayProperty("$push",e,r).push(n)}),Ot(this,"attributeUnset",(e,r,n)=>{if(n===!0){delete e[r];return}const s=e[r];if(lt(s)){n=Array.isArray(n)?n:[n];for(const i of n)delete s[i]}}),Ot(this,"attributeApply",(e,r,n)=>{for(const s of n)this.runOperation(s,this.attributeUpdates,e,r)}),Ot(this,"attributeOverwrite",(e,r,n)=>{e[r]=n}),this.rootFilters={$in:this.documentsIn},this.rootUpdates={$overwrite:this.documentOverwrite},this.attributeFilters={$eq:this.attributeEq,$contains:this.attributeContains,$or:this.attributeOr,$in:this.attributeIn},this.attributeUpdates={$update:this.attributeUpdate,$updateItems:this.attributeUpdateItems,$push:this.attributePush,$unset:this.attributeUnset,$apply:this.attributeApply,$overwrite:this.attributeOverwrite}}filterDocuments(e,r={}){return Object.entries(e).reduce((n,[s,i])=>(this.filterDocument(s,i,r)&&(n[s]=i),n),{})}updateAttributes(e,r){if(this.isOperation(r,{$unset:this.attributeUnset})){const n=r.$unset,s=Array.isArray(n)?n:[n];for(const i of s)this.attributeUnset(e,i,!0);return}if(this.isOperation(r,this.rootUpdates)){const[[n,s]]=Object.entries(r);this.rootUpdates[n](e,s);return}for(const[n,s]of Object.entries(r))this.attributeUpdate(e,n,s)}obtainDocumentId(e){return e??Ar()}filterDocument(e,r,n={}){n={...n};for(const[s,i]of Object.entries(this.rootFilters))if(s in n){if(!i(e,r,n[s]))return!1;delete n[s]}return this.filterValue(r,n)}filterValue(e,r={}){return lt(r)?this.isOperation(r,this.attributeFilters)?this.runOperation(r,this.attributeFilters,{value:e},"value"):lt(e)?!Object.entries(r).find(([n,s])=>!(this.isOperation(s,this.attributeFilters)?this.runOperation(s,this.attributeFilters,e,n):this.attributeEq(e,n,s))):!1:this.attributeEq({value:e},"value",r)}isOperation(e,r){if(!lt(e))return!1;const[n,...s]=Object.keys(e);return!!(n&&s.length===0&&n in r)}runOperation(e,r,...n){const[s,i]=Object.entries(e)[0];return r[s](...n,i)}requireArrayProperty(e,r,n){if(!r||!lt(r)||!Array.isArray(r[n]))throw new Error(`${e} operator can only be applied to array attributes`);return r[n]}},yl;function Ea(t){for(;t&&Kx(t);)t=t.getProxySubject();return t}function Jx(){return yl}function Xx(){return yl||We(Me,"Engine must be initialized before performing any operations. Learn more at https://soukai.js.org/guide/core-concepts/engines.html")}function Zb(t){if(!t){yl=void 0;return}yl=t}var Yx=Object.defineProperty,Qx=(t,e,r)=>e in t?Yx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xe=(t,e,r)=>Qx(t,typeof e!="symbol"?e+"":e,r);let Zx=class extends Me{constructor(e,r,n){super(`Model ${e}: Invalid attributes (${JSON.stringify(r)}).`,n),Xe(this,"modelName"),Xe(this,"attributes"),this.modelName=e,this.attributes=r}},ws=class extends Me{constructor(e,r){super(`Model ${e}: ${r}. Learn more at https://soukai.js.org/guide/core-concepts/models.html`),Xe(this,"modelName"),this.modelName=e}},eE=class{constructor(e=null){Xe(this,"database"),Xe(this,"helper"),Xe(this,"lock"),Xe(this,"_metadata"),Xe(this,"_metadataConnection"),Xe(this,"_documentsConnection"),this.database=e?"soukai-"+e:"soukai",this.helper=new Xl,this.lock=Xa(`idb-${this.database}`,()=>new Bf)}getCollections(){return this.lock.run(()=>this.__getCollections())}async dropCollections(e){await this.lock.run(async()=>{await this.withMetadataTransaction("readwrite",r=>(e.forEach(n=>{var s;r.store.put({name:n,dropped:!0,updates:(((s=this._metadata)==null?void 0:s[n].updates)??1)+1})}),r.done)),this.closeConnections(),await this.getDocumentsConnection()})}async purgeDatabase(){await this.lock.run(async()=>{this.closeConnections(),await Promise.all([jp(`${this.database}-meta`,{blocked:()=>this.throwDatabaseBlockedError()}),jp(this.database,{blocked:()=>this.throwDatabaseBlockedError()})]),delete this._metadata})}async closeConnections(){this._metadataConnection&&this._metadataConnection.close(),this._documentsConnection&&this._documentsConnection.close(),delete this._metadata,delete this._metadataConnection,delete this._documentsConnection}create(e,r,n){return this.lock.run(async()=>{const s=this.helper.obtainDocumentId(n);if(await this.documentExists(e,s))throw new Kf(s);return await this.createDocument(e,s,r),s})}async readOne(e,r){return this.lock.run(async()=>{if(!await this.collectionExists(e))throw new _s(r,e);const n=await this.getDocument(e,r);if(!n)throw new _s(r,e);return n})}async readMany(e,r){return this.lock.run(async()=>{const n={};return(await this.__getCollections()).indexOf(e)===-1?n:(await this.withDocumentsTransaction(e,"readonly",s=>{const i=async o=>{if(o)return n[o.key]=o.value,o.continue().then(i)};return s.store.openCursor().then(i)}),this.helper.filterDocuments(n,r))})}async update(e,r,n){await this.lock.run(async()=>{const s=await this.getDocument(e,r);if(!s)throw new _s(r,e);this.helper.updateAttributes(s,n),await this.updateDocument(e,r,s)})}async delete(e,r){await this.lock.run(async()=>{if(!await this.documentExists(e,r))throw new _s(r,e);await this.deleteDocument(e,r)})}async __getCollections(){const e=await this.getMetadata();return Object.values(e).filter(({dropped:r})=>!r).map(({name:r})=>r.toString())}async collectionExists(e){return(await this.__getCollections()).indexOf(e)!==-1}async documentExists(e,r){return!!await this.getDocument(e,r)}async getDocument(e,r){try{return(await this.__getCollections()).indexOf(e)===-1?null:await this.withDocumentsTransaction(e,"readonly",n=>n.store.get(r))||null}catch{return null}}async createDocument(e,r,n){const s=await this.__getCollections();return s.indexOf(e)===-1&&(await this.createCollection(e),s.push(e)),this.withDocumentsTransaction(e,"readwrite",i=>(i.store.add(n,r),i.done))}async updateDocument(e,r,n){if((await this.__getCollections()).indexOf(e)!==-1)return this.withDocumentsTransaction(e,"readwrite",s=>(s.store.put(n,r),s.done))}async deleteDocument(e,r){if((await this.__getCollections()).indexOf(e)!==-1)return this.withDocumentsTransaction(e,"readwrite",n=>(n.store.delete(r),n.done))}async withMetadataTransaction(e,r){const n=this._metadataConnection=this._metadataConnection||await Fp(`${this.database}-meta`,1,{upgrade(s){s.objectStoreNames.contains("collections")||s.createObjectStore("collections",{keyPath:"name"})},blocked:()=>this.throwDatabaseBlockedError()});return this.retryingOnTransactionInactive(()=>{const s=n.transaction("collections",e);return r(s)})}async withDocumentsTransaction(e,r,n){const s=await this.getDocumentsConnection();return this.retryingOnTransactionInactive(()=>{const i=s.transaction(e,r);return n(i)})}async getDocumentsConnection(){const e=await this.getMetadata(),r=Object.values(e).reduce((n,{updates:s})=>n+(s??1),0);return this._documentsConnection=this._documentsConnection||await Fp(this.database,r,{upgrade(n){for(const{name:s,dropped:i}of Object.values(e))n.objectStoreNames.contains(s)&&!i||!n.objectStoreNames.contains(s)&&i||(i?n.deleteObjectStore(s):n.createObjectStore(s))},blocked:()=>this.throwDatabaseBlockedError()})}async getMetadata(){return this._metadata??(this._metadata=await this.initializeMetadata())}async initializeMetadata(){return(await this.withMetadataTransaction("readonly",e=>e.store.getAll())).reduce((e,r)=>(e[r.name]=r,e),{})}retryingOnTransactionInactive(e){try{return e()}catch(r){if(!(r instanceof Error)||!r.name.toLowerCase().includes("inactive")&&!r.message.toLowerCase().includes("inactive"))throw r;return e()}}async createCollection(e){await this.withMetadataTransaction("readwrite",r=>(r.store.add({name:e}),r.done)),delete this._metadata,this._documentsConnection&&(this._documentsConnection.close(),delete this._documentsConnection)}throwDatabaseBlockedError(){throw new Me("An attempt to open an IndexedDB connection has been blocked, remember to call IndexedDBEngine.closeConnections when necessary. Learn more at https://developer.mozilla.org/en-US/docs/Web/API/IDBOpenDBRequest/blocked_event")}},kr=class Nd{constructor(e){Xe(this,"value"),this.value=String(e)}static from(e){return e instanceof Nd?e:new Nd(e)}equals(e){return this.value===e.value}toString(){return this.value}};const tE={},rE={},Xc=new WeakMap;let Qa=new WeakMap;function Yp(t){if(t==null)return tE;switch(typeof t){case"string":return Xa(`listeners-string-key-${t}`,()=>new String(t));case"number":return Xa(`listeners-number-key-${t}`,()=>new Number(t));case"boolean":return Xa(`listeners-boolean-key-${t}`,()=>new Boolean(t));case"object":return t;default:return rE}}function nE(t,e,r){Qa.has(t)||Qa.set(t,{});const n=Qa.get(t),s=n[e]??(n[e]=[]);return s.push(r),()=>$r(s,r)}async function Qp(...t){var e;const r="__attributeGetters"in t[0]?t[0]:t[0].static(),n="__attributeGetters"in t[0]?null:t[0],s=t[1],i=t[2],o=n??r,a=(e=Qa.get(r))==null?void 0:e[s],l=Yp(s),c=Yp(i),u=Xc.has(l)?Xc.get(l):Ne(new WeakMap,f=>Xc.set(l,f)),d=u.has(c)?u.get(c):Ne(new WeakSet,f=>u.set(c,f));!a||d.has(o)||(d.add(o),await Promise.all(a.map(f=>n?f(n,i):f(i))),d.delete(o))}const io=new WeakMap;function Zp(t){const e=t.target,[r,n]=io.get(e)??[t.getTargetEngine(),0],s=()=>{const[o,a]=io.get(e);if(a>1){io.set(e,[o,a-1]);return}io.delete(e),e.setEngine(o)},i=o=>{const a=o();return a instanceof Promise?a.then(()=>Ne(a,()=>s())):Ne(a,()=>s())};return io.set(e,[r,n+1]),e.setEngine(t.engine),t.operation?i(t.operation):new Proxy(e,{get(o,a,l){const c=Reflect.get(o,a,l);return typeof c!="function"?(s(),c):(...u)=>i(()=>c.call(o,...u))}})}function em(t,e){let r=t;for(;r;){if(r!==e){r=Object.getPrototypeOf(r);continue}return!0}return!1}let bl=class{constructor(e,r,n,s){Xe(this,"name"),Xe(this,"parent"),Xe(this,"relatedClass"),Xe(this,"foreignKeyName"),Xe(this,"localKeyName"),Xe(this,"enabled",!0),Xe(this,"deleteStrategy",null),Xe(this,"_related"),this.parent=e,this.relatedClass=r,this.foreignKeyName=n,this.localKeyName=s||r.primaryKey}get loaded(){return this.related!==void 0}get related(){return this._related}set related(e){const r=this._related;this._related=e,this.onRelatedUpdated(r,e)}static(){return this.constructor}enable(){this.enabled=!0}disable(){this.enabled=!1}resolve(){return this.load()}isEmpty(){return null}async getModels(){return this.loaded||await this.load(),this.getLoadedModels()}getLoadedModels(){return this.related?fr(this.related):[]}unload(){this.related=void 0}onDelete(e){return this.deleteStrategy=e,this}clone(e={}){const r=e.clones??new WeakMap,n=e.constructors??new WeakMap,s=Object.create(Object.getPrototypeOf(this));return s.name=this.name,s.parent=this.parent,s.foreignKeyName=this.foreignKeyName,s.localKeyName=this.localKeyName,s.deleteStrategy=this.deleteStrategy,s.enabled=this.enabled,s.relatedClass=n.get(this.relatedClass)??this.relatedClass,this.related===null?s.related=null:Array.isArray(this.related)?s.related=this.related.map(i=>i.clone({clones:r,constructors:n})):this.related&&(s.related=this.related.clone({clones:r,constructors:n})),s}initializeInverseRelations(e){for(const r of this.relatedClass.relations){const n=e.requireRelation(r);!n.enabled||!n.isInverseOf(this)||(n.setForeignAttributes(this.parent),n.addRelated(this.parent))}}clearInverseRelations(e){for(const r of this.relatedClass.relations){const n=e.requireRelation(r);!n.enabled||!n.isInverseOf(this)||(n.clearForeignAttributes(this.parent),n.removeRelated(this.parent))}}isInverseOf(e){const r=n=>e instanceof n;return this.static().inverseBelongsToRelationClasses.some(r)?em(e.parent.static(),this.relatedClass)&&e.foreignKeyName===this.foreignKeyName&&e.localKeyName===this.localKeyName:this.static().inverseHasRelationClasses.some(r)?em(e.parent.static(),this.relatedClass)&&this.foreignKeyName===e.foreignKeyName&&this.localKeyName===e.localKeyName:!1}onRelatedUpdated(e,r){}};Xe(bl,"inverseHasRelationClasses",[]),Xe(bl,"inverseBelongsToRelationClasses",[]);let Is=class extends bl{constructor(e,r,n,s){super(e,r,n||ti(r.modelName+"_"+r.primaryKey+"s"),s)}get related(){return this._related}set related(e){const r=this.related;this._related=e,this.onRelatedUpdated(r,e)}attach(e={}){const r=e instanceof this.relatedClass?e:this.relatedClass.newInstance(e);return Ne(r,()=>{!this.assertLoaded("attach")||this.isRelated(r)||(this.addRelated(r),this.initializeInverseRelations(r),this.setForeignAttributes(r))})}async create(e={}){const r=this.attach(e);return await r.save(),r}addRelated(e){var r;(r=this.related)!=null&&r.includes(e)||(this.related=(this.related??[]).concat(e))}removeRelated(e){var r;(r=this.related)!=null&&r.includes(e)&&(this.related=Wr(this.related,e))}isRelated(e){var r;return!!((r=this.related)!=null&&r.includes(e))}onRelatedUpdated(e,r){}assertLoaded(e){if(this.loaded)return!0;if(!this.parent.exists())return this.related=[],!0;throw new Me(`The "${e}" method can't be called before loading the relationship`)}};class Ti extends Is{isEmpty(){return this.parent.getAttribute(this.foreignKeyName).length===0}async load(){const e=this.parent.getAttribute(this.foreignKeyName);return this.related=this.isEmpty()?[]:this.localKeyName===this.relatedClass.primaryKey?await this.relatedClass.all({$in:e}):await this.relatedClass.all({[this.localKeyName]:{$or:[...e.map(r=>({$eq:r})),...e.map(r=>({$contains:r}))]}}),this.related}setForeignAttributes(e){const r=e.getAttribute(this.localKeyName);if(!r)return;const n=this.parent.getAttribute(this.foreignKeyName);n.includes(r)||this.parent.setAttribute(this.foreignKeyName,n.concat([r]))}clearForeignAttributes(e){const r=e.getAttribute(this.localKeyName);if(!r)return;const n=this.parent.getAttribute(this.foreignKeyName);n.includes(r)&&this.parent.setAttribute(this.foreignKeyName,Wr(n,r))}}let Gi=class extends bl{constructor(e,r,n,s){super(e,r,n||ti(r.modelName+"_"+r.primaryKey),s)}get related(){return this._related}set related(e){const r=this.related;this._related=e,this.onRelatedUpdated(r,e)}attach(e={}){const r=e instanceof this.relatedClass?e:this.relatedClass.newInstance(e);return Ne(r,()=>{if(this.loaded&&this.related&&!this.isRelated(r))throw new Me(`The "attach" method can't be called because a related model already exists, use a hasMany relationship if you want to support multiple related models.`);this.addRelated(r),this.initializeInverseRelations(r),this.setForeignAttributes(r)})}addRelated(e){e!==this.related&&(this.related=e)}removeRelated(e){e===this.related&&(this.related=null)}isRelated(e){return e===this.related}onRelatedUpdated(e,r){}},Oo=class extends Gi{isEmpty(){return!this.parent.getAttribute(this.foreignKeyName)}async load(){const e=this.parent.getAttribute(this.foreignKeyName);return this.related=this.isEmpty()?null:this.localKeyName===this.relatedClass.primaryKey?await this.relatedClass.find(e):await this.relatedClass.first({[this.localKeyName]:e}),this.related}setForeignAttributes(e){const r=e.getAttribute(this.localKeyName);r&&this.parent.setAttribute(this.foreignKeyName,r)}clearForeignAttributes(e){e.getAttribute(this.localKeyName)===this.parent.getAttribute(this.foreignKeyName)&&this.parent.setAttribute(this.foreignKeyName,null)}},Ri=class extends Is{async load(){const e=this.parent.getAttribute(this.localKeyName);return this.related=await this.relatedClass.all({[this.foreignKeyName]:{$or:[{$eq:e},{$contains:e}]}}),this.related}setForeignAttributes(e){const r=this.parent.getAttribute(this.localKeyName);if(!r)return;const n=e.getAttribute(this.foreignKeyName);if(!Array.isArray(n)){e.setAttribute(this.foreignKeyName,r);return}n.includes(r)||e.setAttribute(this.foreignKeyName,n.concat([r]))}clearForeignAttributes(e){const r=this.parent.getAttribute(this.localKeyName);if(!r)return;const n=e.getAttribute(this.foreignKeyName);if(!Array.isArray(n)){e.getAttribute(this.foreignKeyName)===r&&e.setAttribute(this.foreignKeyName,null);return}n.includes(r)&&e.setAttribute(this.foreignKeyName,Wr(n,r))}},ri=class extends Gi{async load(){const e=this.parent.getAttribute(this.localKeyName);return this.related=await this.relatedClass.first({[this.foreignKeyName]:{$or:[{$eq:e},{$contains:e}]}}),this.related}setForeignAttributes(e){const r=this.parent.getAttribute(this.localKeyName);if(!r)return;const n=e.getAttribute(this.foreignKeyName);if(!Array.isArray(n)){e.setAttribute(this.foreignKeyName,r);return}n.includes(r)||e.setAttribute(this.foreignKeyName,n.concat([r]))}clearForeignAttributes(e){const r=this.parent.getAttribute(this.localKeyName);if(!r)return;const n=e.getAttribute(this.foreignKeyName);if(!Array.isArray(n)){e.getAttribute(this.foreignKeyName)===r&&e.setAttribute(this.foreignKeyName,null);return}n.includes(r)&&e.setAttribute(this.foreignKeyName,Wr(n,r))}};const _e={Number:"number",String:"string",Boolean:"boolean",Array:"array",Object:"object",Date:"date",Key:"key",Any:"any"},tm=Object.values(_e);function Md(t,e,r,n=!1){let s={};if(typeof r=="string"&&tm.indexOf(r)!==-1)s.type=r;else if(typeof r=="object")s=r;else throw new ws(t,`Invalid field definition ${e}`);if(typeof s.type>"u")s={type:_e.Object,fields:s};else if(tm.indexOf(s.type)===-1)throw new ws(t,`Invalid field definition ${e}`);switch(n||(s.required=!!s.required),s.type){case _e.Object:if(typeof s.fields>"u")throw new ws(t,`Field definition of type object requires fields attribute ${e}`);for(const i in s.fields)pl(s.fields,i)&&(s.fields[i]=Md(t,i,s.fields[i]));break;case _e.Array:if(typeof s.items>"u")throw new ws(t,`Field definition of type array requires items attribute. Field: '${e}'`);s.items=Md(t,"items",s.items,!0);break}return s}function ev(t){return t.type===_e.Array}function tv(t,e){for(const[r,n]of Object.entries(e)){if(!(r in t))switch(n.type){case _e.Object:t[r]={};break;case _e.Array:t[r]=[];break;default:t[r]=void 0;break}if(n.type===_e.Object){const s=t[r];if(!lt(s))throw new Me(`Invalid value for field ${r}`);t[r]=tv(s,n.fields)}}return t}function Fd(t,e){for(const[r,n]of Object.entries(e)){if(n.required&&(!(r in t)||$d(t[r])))throw new Me(`The ${r} attribute is required.`);if(r in t&&!$d(t[r])&&n.type===_e.Object){const s=t[r];if(!lt(s))throw new Me(`Invalid value for field ${r}`);Fd(s,n.fields)}}}function Za(t,e){t=rn(t);for(const r in t){const n=e[r];if(typeof t[r]>"u")delete t[r];else if(r in e&&n.type===_e.Object){const s=Za(t[r],n.fields);Ro(s)?delete t[r]:t[r]=s}}return t}const bt={CreatedAt:"createdAt",UpdatedAt:"updatedAt"},rm=Object.values(bt);function sE(){ri.inverseBelongsToRelationClasses.length>0||(ri.inverseBelongsToRelationClasses=[Oo,Ti],Ri.inverseBelongsToRelationClasses=[Oo,Ti],Oo.inverseHasRelationClasses=[ri,Ri],Ti.inverseHasRelationClasses=[ri,Ri])}const nm=new WeakSet,Yc=new WeakMap,Kt=class el{static boot(e){sE();const r={};this.bootedModels.set(this,!0),this.modelName=this.bootModelName(e),this.collection=this.bootCollection(),this.timestamps=this.bootTimestamps(this.timestamps,r);const{fields:n,fieldAliases:s}=this.bootFields(this.fields,this.primaryKey,this.timestamps,r);this.fields=n,this.fieldAliases=s;const{classFields:i,relations:o,attributeGetters:a,attributeSetters:l}=this.bootClassDefinitions();this.classFields=i,this.relations=o,this.__attributeGetters=a,this.__attributeSetters=l;const c=this.bootHooks(this.hooks);this.hooks=c}static ensureBooted(){this.bootedModels.has(this)||this.boot()}static async updateSchema(e){await this.performSchemaUpdate(e),await Qp(this,"schema-updated",e)}static create(e={}){return new this(e).save()}static createFromEngineDocument(e,r){return this.instance().createFromEngineDocument(e,r)}static createManyFromEngineDocuments(e){return this.instance().createManyFromEngineDocuments(e)}static async findOrFail(e){return await this.find(e)??We(`Failed getting required model ${e}`)}static async find(e){this.ensureBooted();try{const r=await this.requireEngine().readOne(this.collection,this.instance().serializeKey(e));return await this.createFromEngineDocument(e,r)}catch{return null}}static async all(e){this.ensureBooted();const r=await this.requireEngine().readMany(this.collection,e);return await this.createManyFromEngineDocuments(r)}static async first(e){const[r]=await this.all(e);return r||null}static newInstance(...e){return this.instance().newInstance(...e)}static on(e,r){return nE(this,e,r)}static instance(){return this.instances.has(this)||this.instances.set(this,new this),this.instances.get(this)}static hasAutomaticTimestamp(e){return this.timestamps.indexOf(e)!==-1}static hasAutomaticTimestamps(){return this.timestamps.length>0}static getEngine(){return this.engines.get(this)??Jx()}static getFinalEngine(){const e=this.getEngine();return e&&Ea(e)}static requireEngine(){return this.engines.get(this)??Xx()}static requireFinalEngine(){return Ea(this.requireEngine())}static setEngine(e){if(!e){this.engines.delete(this);return}this.engines.set(this,e)}static withEngine(e,r){return Zp({target:this,getTargetEngine:()=>this.engines.get(this),engine:e,operation:r})}static async withCollection(e,r){return this.collection===e?r():this.exclusive(async()=>{const n=this.collection;this.collection=e||n;try{return await r()}finally{this.collection=n}})}static async withoutTimestamps(e){return this.ignoringTimestamps.set(this,!0),Ne(await e(),()=>this.ignoringTimestamps.delete(this))}static async exclusive(e){return Yc.has(this)||Yc.set(this,new Bf),gl(Yc.get(this)).run(async()=>e())}static pureInstance(){return this.pureInstances.has(this)||this.pureInstances.set(this,new this({__pureInstance:!0})),this.pureInstances.get(this)}static bootModelName(e){const r=Object.getOwnPropertyDescriptor(this,"modelName");return(r==null?void 0:r.value)??e??this.name}static bootCollection(){let e=this;for(;e!==el&&(!e.hasOwnProperty("collection")||nm.has(e));)e=Object.getPrototypeOf(e);return e===el&&nm.add(this),e.collection??this.pureInstance().getDefaultCollection()}static bootTimestamps(e,r){if(typeof e!="boolean"&&typeof e<"u"&&!Array.isArray(e))throw new ws(this.modelName,"Invalid timestamps definition");if(e===!1)return[];Array.isArray(e)||(e=rm);const n=e.find(s=>!rm.includes(s));if(n)throw new ws(this.modelName,`Invalid timestamp field defined (${n})`);for(const s of e)r[s]={type:_e.Date,required:!1};return e}static bootFields(e,r,n,s){if(typeof e>"u")return s[r]={type:_e.Key,required:!1},{fields:s,fieldAliases:{}};const i={};for(const[o,a]of Object.entries(e)){if(!pl(e,o))continue;const l=s[o]=Md(this.modelName,o,a);if(l.alias&&(i[o]=l.alias,i[l.alias]=o),n.includes(o)&&(l.type!==_e.Date||l.required))throw new ws(this.modelName,`Field ${o} definition must be type Date and not required because it is used an automatic timestamp. Learn more at https://soukai.js.org/guide/core-concepts/models.html#automatic-timestamps`)}return r in s||(s[r]={type:_e.Key,required:!1}),{fields:s,fieldAliases:i}}static bootClassDefinitions(){const e=this.pureInstance(),r=["_engine","_recentlyDeletedPrimaryKey"],n=Object.getOwnPropertyNames(e).concat(r),s=[],i=new Map,o=new Map;let a=Object.getPrototypeOf(e);for(;a!==el.prototype;){a.constructor.classFields&&n.push(...a.constructor.classFields);for(const[l,c]of Object.entries(Object.getOwnPropertyDescriptors(a))){const u=l;typeof c.value=="function"&&(u.endsWith("Relationship")?s.push(u.slice(0,-12)):u.match(/get.+Attribute/)?i.set(ti(u.slice(3,-9)),e[u]):u.match(/set.+Attribute/)&&o.set(ti(u.slice(3,-9)),e[u]))}a=Object.getPrototypeOf(a)}return{classFields:Cr(n),relations:Cr(s),attributeGetters:i,attributeSetters:o}}static bootHooks(e){return e??{}}static async performSchemaUpdate(e){const r=e.primaryKey??"id",n={},s=this.bootTimestamps(e.timestamps,n),i=this.bootHooks(e.hooks),{fields:o,fieldAliases:a}=this.bootFields(e.fields,r,s,n);this.primaryKey=r,this.timestamps=s,this.hooks=i,this.fields=o,this.fieldAliases=a}constructor(e={},r){var n;if("__pureInstance"in e)return;this.static().ensureBooted(),this.initializeProxy();const s=arguments[1]??!1;return this.initialize(e,s),(n=this.static("hooks").afterInitialize)==null||n.call(this._proxy),this._proxy}static(e){const r=this.constructor;return e?r[e]:r}newInstance(...e){const r=this.constructor;return new r(...e)}async fresh(){const e=this.getPrimaryKey(),r=e?await this.static().find(e):null;if(!r)throw new Me(`Couldn't get fresh instance for ${this.static("modelName")} with id '${e}'`);return r}update(e={}){e=this.castAttributes(e,this.static("fields"));for(const r in e)this.setAttribute(r,e[r]);return this.save()}hasRelation(e){return this.static("relations").indexOf(e)!==-1}getRelation(e){return this._relations[e]||null}requireRelation(e){return this._relations[e]??We(Me,`Attempting to use undefined ${e} relation.`)}getEngine(){return this._engine??this.static().getEngine()}getFinalEngine(){const e=this.getEngine();return e&&Ea(e)}requireEngine(){return this._engine??this.static().requireEngine()}requireFinalEngine(){return Ea(this.requireEngine())}getDefaultCollection(){return this.static("modelName").toLowerCase()+"s"}async loadRelation(e){const r=this.requireRelation(e),n=await r.relatedClass.withEngine(this.requireEngine(),()=>r.load());return this.emit("relation-loaded",r),n}async loadRelationIfUnloaded(e){const r=this.requireRelation(e);return r.loaded?r.getLoadedModels():this.loadRelation(e)}unloadRelation(e){this.requireRelation(e).unload()}getRelationModel(e){var r;const n=this.requireRelation(e);return n instanceof Is?(console.warn(`You're getting a single model from the multi-model '${e}' relation in the '${this.static("modelName")}' model.`),((r=n.related)==null?void 0:r[0])??null):n.related??null}getRelationModels(e){const r=this.requireRelation(e);return r instanceof Gi?r.related?[r.related]:null:r.related??null}setRelationModel(e,r){const n=this.requireRelation(e);if(n instanceof Is){console.warn(`You're setting a single model for the multi-model '${e}' relation in the '${this.static("modelName")}' model.`),n.related=[r];return}n.related=r}setRelationModels(e,r){const n=this.requireRelation(e),s=()=>{if(r===null||n instanceof Is)return r;if(r.length>0)throw new Me("Can't set multiple models for SingleModelRelation, use setRelationModel instead");return r[0]??null};n.related=s()}isRelationLoaded(e){return this.requireRelation(e).loaded}hasAttribute(e){const r=e.split(".");let n=Za(this._attributes,this.static("fields"));for(const s of r){if(!lt(n)||!(s in n))return!1;n=n[s]}return n!==void 0}setAttribute(e,r){const n=this.static().fieldAliases[e],s=this.getAttribute(e);this.hasAttributeSetter(e)?this.callAttributeSetter(e,r):this.setAttributeValue(e,r),n&&this.attributeValueChanged(this.getAttribute(n),r)&&this.setAttribute(n,r),this.attributeValueChanged(s,r)&&this.emit("modified",e)}setAttributeValue(e,r){this._attributes[e]=r=this.castAttribute(r,{definition:this.static("fields")[e]}),this.markAttributeDirty(e,this._originalAttributes[e],r)?this._dirtyAttributes[e]=r:delete this._dirtyAttributes[e]}hasAttributeSetter(e){var r;return this.static("__attributeSetters").has(e)||!!((r=this.static("fields")[e])!=null&&r.set)}callAttributeSetter(e,r){var n;const s=this.static("__attributeSetters").get(e)??((n=this.static("fields")[e])==null?void 0:n.set);return s==null?void 0:s.call(this,r)}getOriginalAttribute(e){return this._originalAttributes[e]}getDeletedPrimaryKey(){return this._recentlyDeletedPrimaryKey??null}setOriginalAttribute(e,r){r=this.castAttribute(r,{definition:this.static("fields")[e]}),this._originalAttributes[e]=r,this._attributes[e]=r,delete this._dirtyAttributes[e]}setAttributes(e){for(const[r,n]of Object.entries(e))this.setAttribute(r,n)}getMalformedDocumentAttributes(){return this._malformedDocumentAttributes}setMalformedDocumentAttributes(e){this._malformedDocumentAttributes=e}setEngine(e){if(!e){delete this._engine;return}this._engine=e}withEngine(e,r){return Zp({target:this,getTargetEngine:()=>this._engine,operation:r&&(()=>r(this)),engine:e})}async withoutTimestamps(e){return this.static().ignoringTimestamps.set(this,!0),Ne(await e(),()=>this.static().ignoringTimestamps.delete(this))}getAttribute(e,r=!1){return this.hasAttributeGetter(e)?this.callAttributeGetter(e):this.getAttributeValue(e,r)}getAttributeValue(e,r=!1){const n=e.split(".");let s=this.getAttributes(r);for(;n.length>0;){const i=s[n.shift()];if(!lt(i))return i;s=i}return s}getAttributes(e=!1){return e?rn(this._attributes):Za(this._attributes,this.static("fields"))}hasAttributeGetter(e){var r;return this.static("__attributeGetters").has(e)||!!((r=this.static("fields")[e])!=null&&r.get)}callAttributeGetter(e){var r;const n=this.static("__attributeGetters").get(e)??((r=this.static("fields")[e])==null?void 0:r.get);return n==null?void 0:n.call(this)}unsetAttribute(e){pl(this._attributes,e)&&(e in this.static("fields")?this._attributes[e]=void 0:delete this._attributes[e],this.markAttributeDirty(e,this._originalAttributes[e],void 0)?this._dirtyAttributes[e]=void 0:delete this._dirtyAttributes[e])}hasIncompleteAttributes(){try{return Fd(this._attributes,this.static("fields")),!1}catch{return!0}}is(e){return this.getPrimaryKey()===e.getPrimaryKey()}isDirty(e){return e?e in this._dirtyAttributes:Object.values(this._dirtyAttributes).length>0}cleanDirty(){this._originalAttributes=rn(this._attributes),this._dirtyAttributes={},this._exists=!0}reset(){delete this._attributes[this.static("primaryKey")],this._exists=!1,this._dirtyAttributes=rn(this._attributes)}getPrimaryKey(){return this._attributes[this.static("primaryKey")]??null}getSerializedPrimaryKey(){const e=this.getPrimaryKey();return e?this.serializeKey(e):null}async delete(){return this._exists?(await this.performDelete(),await this.emit("deleted"),this):this}async save(){var e,r;Fd(this._attributes,this.static("fields"));const n=this.exists();return n&&!this.isDirty()?this:(await((e=this.static("hooks").beforeSave)==null?void 0:e.call(this)),await this.beforeSave(),await this.performSave(),await((r=this.static("hooks").afterSave)==null?void 0:r.call(this)),await this.afterSave(),await this.emit(n?"updated":"created"),this)}fixMalformedAttributes(){this.performMalformedAttributeFixes(),this._malformedDocumentAttributes={}}touch(){this.setAttribute(bt.UpdatedAt,new Date)}setExists(e){this._exists=e}exists(){return this._exists}wasRecentlyCreated(){return this._wasRecentlyCreated}wasRecentlyDeleted(){return!!this._recentlyDeletedPrimaryKey}clone(e={}){const r=e.clones??new WeakMap;if(r.has(this))return r.get(this);const n=e.constructors,s=Array.isArray(n)?Ne(new WeakMap,a=>{n.forEach(([l,c])=>a.set(l,c))}):n??new WeakMap,i=s.get(this.static())??this.static(),o=new i(this.getAttributes());r.set(this,o);for(const[a,l]of Object.entries(this._relations))o._relations[a]=Ne(l.clone({clones:r,constructors:s}),c=>c.parent=o);return e.clean&&o.cleanDirty(),o}initialize(e,r){this._exists=r,this._wasRecentlyCreated=!1,this.initializeAttributes(e,r),this.initializeRelations()}initializeProxy(){this._proxy=new Proxy(this,{get(e,r,n){if(typeof r!="string"||r in e||e.static("classFields").indexOf(r)!==-1)return Reflect.get(e,r,n);if(e.hasRelation(r))return e._proxy.isRelationLoaded(r)?e._proxy.requireRelation(r).related:void 0;if(r.startsWith("related")){const s=ti(r.substr(7));if(e._proxy.hasRelation(s))return e._relations[s]}return e._proxy.getAttribute(r)},set(e,r,n,s){return typeof r!="string"||r in e||e.static("classFields").indexOf(r)!==-1?Reflect.set(e,r,n,s):e._proxy.hasRelation(r)?(e._proxy.requireRelation(r).related=n,!0):(e._proxy.setAttribute(r,n),!0)},deleteProperty(e,r){return typeof r!="string"||r in e?Reflect.deleteProperty(e,r):e._proxy.hasRelation(r)?(e._proxy.unloadRelation(r),!0):!(r in e._attributes)||e.static("classFields").indexOf(r)!==-1?Reflect.deleteProperty(e,r):(e._proxy.unsetAttribute(r),!0)}})}initializeAttributes(e,r){try{const n=this.static("fields");this._malformedDocumentAttributes={},this._attributes=rn(e),this._attributes=this.castAttributes(tv(this._attributes,n),n,this._malformedDocumentAttributes);for(const[s,i]of Object.entries(this.static().fieldAliases)){const o=this._attributes[s]??this._attributes[i];this._attributes[s]=o,this._attributes[i]=o}this._originalAttributes=r?rn(this._attributes):{},this._dirtyAttributes=r?{}:rn(this._attributes),delete this._malformedDocumentAttributes[this.static("primaryKey")]}catch(n){throw new Zx(this.static("modelName"),e,{cause:n})}}initializeRelations(){this._relations=this.static("relations").reduce((e,r)=>{var n;const s=this._proxy,i=(n=s[ti(r)+"Relationship"])==null?void 0:n.call(s);return i.name=r,e[r]=i,e},{})}async createFromEngineDocument(e,r){const n=await this.parseEngineDocumentAttributes(e,r);n[this.static("primaryKey")]=e;for(const[s,i]of Object.entries(this.static("fields")))i.deserialize&&(n[s]=i.deserialize(n[s]));return this.newInstance(n,!0)}async createManyFromEngineDocuments(e){return Promise.all(Object.entries(e).map(([r,n])=>this.createFromEngineDocument(this.parseKey(r),n)))}async beforeSave(){const e=new Date,r=this.static().ignoringTimestamps;if(!r.has(this)&&!r.has(this.static())&&(this.static().hasAutomaticTimestamp(bt.CreatedAt)&&this.setAttribute(bt.CreatedAt,this.getAttribute(bt.CreatedAt)??e),this.static().hasAutomaticTimestamp(bt.UpdatedAt))){const n=this.isDirty(bt.UpdatedAt)?this.getAttribute(bt.UpdatedAt):e;this.setAttribute(bt.UpdatedAt,n??e)}}async performSave(){const e=this.exists(),r=await this.syncDirty();this._wasRecentlyCreated=this._wasRecentlyCreated||!e,this._attributes[this.static("primaryKey")]=this.parseKey(r)}async afterSave(){this.cleanDirty(),await this.loadEmptyRelations()}async performDelete(){const e=this.getPrimaryKey(),r=await this.getCascadeModels();await this.deleteModelsFromEngine(r),r.forEach(n=>n.reset()),this._recentlyDeletedPrimaryKey=e}performMalformedAttributeFixes(){const e=Object.keys(this._malformedDocumentAttributes),r=(n,s)=>s.type===_e.Array?e.some(i=>i.startsWith(`${n}.`)):n in this._malformedDocumentAttributes;for(const[n,s]of Object.entries(this.static("fields")))r(n,s)&&(this._dirtyAttributes[n]=this._attributes[n])}async emit(...e){return Qp(this,...e)}async syncDirty(){if(!this.exists())return this.requireEngine().create(this.static("collection"),this.toEngineDocument(),this.getSerializedPrimaryKey()||void 0);const e=this.getDirtyEngineDocumentUpdates(),r=this.getSerializedPrimaryKey();return await this.requireEngine().update(this.static("collection"),r,e),r}async getCascadeModels(){let e=Ya("cascade-models",this);if(!e){const r=new Set;await this.populateCascadeModels(r),e=Array.from(r).filter(n=>n.exists()),qf("cascade-models",this,e)}return e}async deleteModelsFromEngine(e){const r=e.map(n=>[n.static("collection"),n.getSerializedPrimaryKey()]);await Promise.all(r.map(([n,s])=>this.requireEngine().delete(n,s)))}resetEngineData(){this.reset()}hasOne(e,r,n){return new ri(this,e,r,n)}belongsToOne(e,r,n){return new Oo(this,e,r,n)}hasMany(e,r,n){return new Ri(this,e,r,n)}belongsToMany(e,r,n){return new Ti(this,e,r,n)}async loadEmptyRelations(){const e=this.wasRecentlyCreated();for(const r of Object.values(this._relations))if(!(!r.enabled||r.loaded)){if(e&&r instanceof Ri){r.related=[];continue}if(e&&r instanceof ri){r.related=null;continue}r.isEmpty()&&await r.load()}}attributeValueChanged(e,r){return e instanceof kr?Rt(e)!==Rt(r):!jf(e,r)}markAttributeDirty(e,r,n){return this.attributeValueChanged(r,n)}castAttributes(e,r,n,s=""){const i={};for(const o in e)i[o]=this.castAttribute(e[o],{field:s+o,malformedAttributes:n,definition:r[o]});return i}castAttribute(e,{field:r,definition:n,malformedAttributes:s}={}){if($d(e))return e;if(n!=null&&n.cast)return n.cast(e);if(typeof n>"u")switch(typeof e){case"object":return Array.isArray(e)?e.map((i,o)=>this.castAttribute(i,{field:r&&`${r}.${o}`,malformedAttributes:s})):e instanceof Date||e instanceof kr?e:Rt(e);case"symbol":case"function":case"undefined":return;default:return e}switch(n.type){case _e.Date:if(!["string","number"].includes(typeof e)&&!(e instanceof Date))throw new Me(`Invalid Date value (${e}) found in ${this.static("modelName")} ${this.getPrimaryKey()}.`);return new Date(e);case _e.Object:if(!lt(e))throw new Me(`Invalid Object value (${e}) found in ${this.static("modelName")} ${this.getPrimaryKey()}.`);return this.castAttributes(e,n.fields,s,r&&`${r}.`);case _e.Array:if(!Array.isArray(e))throw new Me(`Invalid Array value (${e}) found in ${this.static("modelName")} ${this.getPrimaryKey()}.`);return e.map((i,o)=>this.castAttribute(i,{field:r&&`${r}.${o}`,definition:n.items,malformedAttributes:s}));case _e.Boolean:return!!e;case _e.Number:{const i=parseFloat(e);if(isNaN(i))throw new Me(`Invalid Number value (${e}) found in ${this.static("modelName")} ${this.getPrimaryKey()}.`);return i}case _e.String:return Rt(e);case _e.Key:{if(e instanceof kr)return Rt(e);if(r&&s){const i=s[r]??[];s[r]=i.concat(["malformed-key"])}return e}default:return e}}toEngineDocument(){const e=this.static("fields"),r=Za(this._attributes,e);for(const[n,s]of Object.entries(e))s.serialize&&(r[n]=s.serialize(r[n]));return r}getDirtyEngineDocumentUpdates(){const e=rn(this._dirtyAttributes);for(const r in e)e[r]===void 0&&(e[r]={$unset:!0});return e}async populateCascadeModels(e){if(!e.has(this)){e.add(this);for(const r of Object.values(this._relations))!r.enabled||r.deleteStrategy!=="cascade"||(await r.getModels()).forEach(n=>n.populateCascadeModels(e))}}async parseEngineDocumentAttributes(e,r){return{...r}}serializeKey(e){return Rt(e)}parseKey(e){return e}};Xe(Kt,"collection"),Xe(Kt,"primaryKey","id"),Xe(Kt,"timestamps"),Xe(Kt,"fields"),Xe(Kt,"modelName"),Xe(Kt,"classFields",[]),Xe(Kt,"relations",[]),Xe(Kt,"hooks",{}),Xe(Kt,"__attributeGetters",new Map),Xe(Kt,"__attributeSetters",new Map),Xe(Kt,"instances",new WeakMap),Xe(Kt,"pureInstances",new WeakMap),Xe(Kt,"bootedModels",new WeakMap),Xe(Kt,"engines",new WeakMap),Xe(Kt,"ignoringTimestamps",new WeakMap),Xe(Kt,"fieldAliases",{});let Gf=Kt;function iE(t,e){const r=e?t:Gf;return Ne(class extends r{},n=>{Object.assign(n,e??t)})}const Jf=new Map;function oE(){return new Map(Jf)}function jt(t){return Jf.get(t)??We(Me,`Could not find Model with name '${t}', are you sure it's booted?`)}function rv(t){for(const[e,r]of Object.entries(t))r.boot(e),Jf.set(e,r)}function aE(t){let e=Object.getPrototypeOf(t);for(;e;){if(e!==Gf){e=Object.getPrototypeOf(e);continue}return!0}return!1}function lE(t,e=[".schema",".test"]){const r={};for(const[n,s]of Object.entries(t)){const i=(n.match(/^(.*\/)?(.+)\.(j|t)s$/)||[])[2];if(typeof i>"u"||e.some(a=>i.endsWith(a)))continue;const o=s.default??s[Object.keys(s)[0]];!o||!aE(o)||(r[i]=o)}return r}function cE(t,e=[".schema"]){const r=lE(t,e);rv(r)}var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dE(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Qc={},Zc,im;function Xf(){return im||(im=1,Zc=class nv{constructor(e,r=new Map,n=0){this.prefix=e,this._existing=r,this.counter=n}clone(){const{prefix:e,_existing:r,counter:n}=this;return new nv(e,new Map(r),n)}getId(e){const r=e&&this._existing.get(e);if(r)return r;const n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}),Zc}var eu={},om;function fE(){return om||(om=1,(function(t,e){if(t.setImmediate)return;var r=1,n={},s=!1,i=t.document,o;function a(A){typeof A!="function"&&(A=new Function(""+A));for(var w=new Array(arguments.length-1),p=0;p<w.length;p++)w[p]=arguments[p+1];var b={callback:A,args:w};return n[r]=b,o(r),r++}function l(A){delete n[A]}function c(A){var w=A.callback,p=A.args;switch(p.length){case 0:w();break;case 1:w(p[0]);break;case 2:w(p[0],p[1]);break;case 3:w(p[0],p[1],p[2]);break;default:w.apply(e,p);break}}function u(A){if(s)setTimeout(u,0,A);else{var w=n[A];if(w){s=!0;try{c(w)}finally{l(A),s=!1}}}}function d(){o=function(A){process.nextTick(function(){u(A)})}}function f(){if(t.postMessage&&!t.importScripts){var A=!0,w=t.onmessage;return t.onmessage=function(){A=!1},t.postMessage("","*"),t.onmessage=w,A}}function h(){var A="setImmediate$"+Math.random()+"$",w=function(p){p.source===t&&typeof p.data=="string"&&p.data.indexOf(A)===0&&u(+p.data.slice(A.length))};t.addEventListener?t.addEventListener("message",w,!1):t.attachEvent("onmessage",w),o=function(p){t.postMessage(A+p,"*")}}function m(){var A=new MessageChannel;A.port1.onmessage=function(w){var p=w.data;u(p)},o=function(w){A.port2.postMessage(w)}}function y(){var A=i.documentElement;o=function(w){var p=i.createElement("script");p.onreadystatechange=function(){u(w),p.onreadystatechange=null,A.removeChild(p),p=null},A.appendChild(p)}}function _(){o=function(A){setTimeout(u,0,A)}}var x=Object.getPrototypeOf&&Object.getPrototypeOf(t);x=x&&x.setTimeout?x:t,{}.toString.call(t.process)==="[object process]"?d():f()?h():t.MessageChannel?m():i&&"onreadystatechange"in i.createElement("script")?y():_(),x.setImmediate=a,x.clearImmediate=l})(typeof self>"u"?typeof sm>"u"?eu:sm:self)),eu}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var tu,am;function Yl(){if(am)return tu;am=1,fE();const t=self.crypto||self.msCrypto;return tu=class{constructor(r){if(!(t&&t.subtle))throw new Error("crypto.subtle not found.");if(r==="sha256")this.algorithm={name:"SHA-256"};else if(r==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${r}".`);this._content=""}update(r){this._content+=r}async digest(){const r=new TextEncoder().encode(this._content),n=new Uint8Array(await t.subtle.digest(this.algorithm,r));let s="";for(let i=0;i<n.length;++i)s+=n[i].toString(16).padStart(2,"0");return s}},tu}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var ru,lm;function sv(){return lm||(lm=1,ru=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let r=0;r<e.length;++r)this.dir.set(e[r],!0)}hasNext(){return!this.done}next(){const{current:e,dir:r}=this,n=e.slice();let s=null,i=0;const o=e.length;for(let a=0;a<o;++a){const l=e[a],c=r.get(l);(s===null||l>s)&&(c&&a>0&&l>e[a-1]||!c&&a<o-1&&l>e[a+1])&&(s=l,i=a)}if(s===null)this.done=!0;else{const a=r.get(s)?i-1:i+1;e[i]=e[a],e[a]=s;for(const l of e)l>s&&r.set(l,!r.get(l))}return n}}),ru}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var nu,cm;function Yf(){if(cm)return nu;cm=1;const e="http://www.w3.org/1999/02/22-rdf-syntax-ns#"+"langString",r="http://www.w3.org/2001/XMLSchema#string",n="NamedNode",s="BlankNode",i="Literal",o="DefaultGraph",a={};(()=>{const h="(?:<([^:]+:[^>]*)>)",y="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",_=y+"0-9-·̀-ͯ‿-⁀",A="(_:(?:["+y+"0-9])(?:(?:["+_+".])*(?:["+_+"]))?)",w='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',p="(?:\\^\\^"+h+")",E="(?:"+w+"(?:"+p+"|"+"(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))"+")?)",T="[ \\t]+",I="[ \\t]*",O="(?:"+h+"|"+A+")"+T,P=h+T,W="(?:"+h+"|"+A+"|"+E+")"+I,B="(?:\\.|(?:(?:"+h+"|"+A+")"+I+"\\.))";a.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,a.empty=new RegExp("^"+I+"$"),a.quad=new RegExp("^"+I+O+P+W+B+I+"$")})(),nu=class tl{static parse(m){const y=[],_={},x=m.split(a.eoln);let A=0;for(const w of x){if(A++,a.empty.test(w))continue;const p=w.match(a.quad);if(p===null)throw new Error("N-Quads parse error on line "+A+".");const b={subject:null,predicate:null,object:null,graph:null};if(p[1]!==void 0?b.subject={termType:n,value:p[1]}:b.subject={termType:s,value:p[2]},b.predicate={termType:n,value:p[3]},p[4]!==void 0?b.object={termType:n,value:p[4]}:p[5]!==void 0?b.object={termType:s,value:p[5]}:(b.object={termType:i,value:void 0,datatype:{termType:n}},p[7]!==void 0?b.object.datatype.value=p[7]:p[8]!==void 0?(b.object.datatype.value=e,b.object.language=p[8]):b.object.datatype.value=r,b.object.value=f(p[6])),p[9]!==void 0?b.graph={termType:n,value:p[9]}:p[10]!==void 0?b.graph={termType:s,value:p[10]}:b.graph={termType:o,value:""},!(b.graph.value in _))_[b.graph.value]=[b],y.push(b);else{let E=!0;const T=_[b.graph.value];for(const I of T)if(l(I,b)){E=!1;break}E&&(T.push(b),y.push(b))}}return y}static serialize(m){Array.isArray(m)||(m=tl.legacyDatasetToQuads(m));const y=[];for(const _ of m)y.push(tl.serializeQuad(_));return y.sort().join("")}static serializeQuadComponents(m,y,_,x){let A="";return m.termType===n?A+=`<${m.value}>`:A+=`${m.value}`,A+=` <${y.value}> `,_.termType===n?A+=`<${_.value}>`:_.termType===s?A+=_.value:(A+=`"${u(_.value)}"`,_.datatype.value===e?_.language&&(A+=`@${_.language}`):_.datatype.value!==r&&(A+=`^^<${_.datatype.value}>`)),x.termType===n?A+=` <${x.value}>`:x.termType===s&&(A+=` ${x.value}`),A+=` .
`,A}static serializeQuad(m){return tl.serializeQuadComponents(m.subject,m.predicate,m.object,m.graph)}static legacyDatasetToQuads(m){const y=[],_={"blank node":s,IRI:n,literal:i};for(const x in m)m[x].forEach(w=>{const p={};for(const b in w){const E=w[b],T={termType:_[E.type],value:E.value};T.termType===i&&(T.datatype={termType:n},"datatype"in E&&(T.datatype.value=E.datatype),"language"in E?("datatype"in E||(T.datatype.value=e),T.language=E.language):"datatype"in E||(T.datatype.value=r)),p[b]=T}x==="@default"?p.graph={termType:o,value:""}:p.graph={termType:x.startsWith("_:")?s:n,value:x},y.push(p)});return y}};function l(h,m){return!(h.subject.termType===m.subject.termType&&h.object.termType===m.object.termType)||!(h.subject.value===m.subject.value&&h.predicate.value===m.predicate.value&&h.object.value===m.object.value)?!1:h.object.termType!==i?!0:h.object.datatype.termType===m.object.datatype.termType&&h.object.language===m.object.language&&h.object.datatype.value===m.object.datatype.value}const c=/["\\\n\r]/g;function u(h){return h.replace(c,function(m){switch(m){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const d=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function f(h){return h.replace(d,function(m,y,_,x){if(y)switch(y){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(_)return String.fromCharCode(parseInt(_,16));if(x)throw new Error("Unsupported U escape")})}return nu}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var su,um;function iv(){if(um)return su;um=1;const t=Xf(),e=Yl(),r=sv(),n=Yf();su=class{constructor({createMessageDigest:o=()=>new e("sha256"),canonicalIdMap:a=new Map,maxDeepIterations:l=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new t("_:c14n",a),this.createMessageDigest=o,this.maxDeepIterations=l,this.quads=null,this.deepIterations=null}async main(o){this.deepIterations=new Map,this.quads=o;for(const h of o)this._addBlankNodeQuadInfo({quad:h,component:h.subject}),this._addBlankNodeQuadInfo({quad:h,component:h.object}),this._addBlankNodeQuadInfo({quad:h,component:h.graph});const a=new Map,l=[...this.blankNodeInfo.keys()];let c=0;for(const h of l)++c%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:h,hashToBlankNodes:a});const u=[...a.keys()].sort(),d=[];for(const h of u){const m=a.get(h);if(m.length>1){d.push(m);continue}const y=m[0];this.canonicalIssuer.getId(y)}for(const h of d){const m=[];for(const y of h){if(this.canonicalIssuer.hasId(y))continue;const _=new t("_:b");_.getId(y);const x=await this.hashNDegreeQuads(y,_);m.push(x)}m.sort(s);for(const y of m){const _=y.issuer.getOldIds();for(const x of _)this.canonicalIssuer.getId(x)}}const f=[];for(const h of this.quads){const m=n.serializeQuadComponents(this._componentWithCanonicalId(h.subject),h.predicate,this._componentWithCanonicalId(h.object),this._componentWithCanonicalId(h.graph));f.push(m)}return f.sort(),f.join("")}async hashFirstDegreeQuads(o){const a=[],l=this.blankNodeInfo.get(o),c=l.quads;for(const d of c){const f={subject:null,predicate:d.predicate,object:null,graph:null};f.subject=this.modifyFirstDegreeComponent(o,d.subject,"subject"),f.object=this.modifyFirstDegreeComponent(o,d.object,"object"),f.graph=this.modifyFirstDegreeComponent(o,d.graph,"graph"),a.push(n.serializeQuad(f))}a.sort();const u=this.createMessageDigest();for(const d of a)u.update(d);return l.hash=await u.digest(),l.hash}async hashRelatedBlankNode(o,a,l,c){let u;this.canonicalIssuer.hasId(o)?u=this.canonicalIssuer.getId(o):l.hasId(o)?u=l.getId(o):u=this.blankNodeInfo.get(o).hash;const d=this.createMessageDigest();return d.update(c),c!=="g"&&d.update(this.getRelatedPredicate(a)),d.update(u),d.digest()}async hashNDegreeQuads(o,a){const l=this.deepIterations.get(o)||0;if(l>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(o,l+1);const c=this.createMessageDigest(),u=await this.createHashToRelated(o,a),d=[...u.keys()].sort();for(const f of d){c.update(f);let h="",m;const y=new r(u.get(f));let _=0;for(;y.hasNext();){const x=y.next();++_%3===0&&await this._yield();let A=a.clone(),w="";const p=[];let b=!1;for(const E of x)if(this.canonicalIssuer.hasId(E)?w+=this.canonicalIssuer.getId(E):(A.hasId(E)||p.push(E),w+=A.getId(E)),h.length!==0&&w>h){b=!0;break}if(!b){for(const E of p){const T=await this.hashNDegreeQuads(E,A);if(w+=A.getId(E),w+=`<${T.hash}>`,A=T.issuer,h.length!==0&&w>h){b=!0;break}}b||(h.length===0||w<h)&&(h=w,m=A)}}c.update(h),a=m}return{hash:await c.digest(),issuer:a}}modifyFirstDegreeComponent(o,a){return a.termType!=="BlankNode"?a:{termType:"BlankNode",value:a.value===o?"_:a":"_:z"}}getRelatedPredicate(o){return`<${o.predicate.value}>`}async createHashToRelated(o,a){const l=new Map,c=this.blankNodeInfo.get(o).quads;let u=0;for(const d of c)++u%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:d,component:d.subject,position:"s",id:o,issuer:a,hashToRelated:l}),this._addRelatedBlankNodeHash({quad:d,component:d.object,position:"o",id:o,issuer:a,hashToRelated:l}),this._addRelatedBlankNodeHash({quad:d,component:d.graph,position:"g",id:o,issuer:a,hashToRelated:l})]);return l}async _hashAndTrackBlankNode({id:o,hashToBlankNodes:a}){const l=await this.hashFirstDegreeQuads(o),c=a.get(l);c?c.push(o):a.set(l,[o])}_addBlankNodeQuadInfo({quad:o,component:a}){if(a.termType!=="BlankNode")return;const l=a.value,c=this.blankNodeInfo.get(l);c?c.quads.add(o):this.blankNodeInfo.set(l,{quads:new Set([o]),hash:null})}async _addRelatedBlankNodeHash({quad:o,component:a,position:l,id:c,issuer:u,hashToRelated:d}){if(!(a.termType==="BlankNode"&&a.value!==c))return;const f=a.value,h=await this.hashRelatedBlankNode(f,o,u,l),m=d.get(h);m?m.push(f):d.set(h,[f])}_componentWithCanonicalId(o){return o.termType==="BlankNode"&&!o.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(o.value)}:o}async _yield(){return new Promise(o=>setImmediate(o))}};function s(i,o){return i.hash<o.hash?-1:i.hash>o.hash?1:0}return su}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var iu,dm;function hE(){if(dm)return iu;dm=1;const t=Yl(),e=iv();return iu=class extends e{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new t("sha1")}modifyFirstDegreeComponent(n,s,i){return s.termType!=="BlankNode"?s:i==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:s.value===n?"_:a":"_:z"}}getRelatedPredicate(n){return n.predicate.value}async createHashToRelated(n,s){const i=new Map,o=this.blankNodeInfo.get(n).quads;let a=0;for(const l of o){let c,u;if(l.subject.termType==="BlankNode"&&l.subject.value!==n)u=l.subject.value,c="p";else if(l.object.termType==="BlankNode"&&l.object.value!==n)u=l.object.value,c="r";else continue;++a%100===0&&await this._yield();const d=await this.hashRelatedBlankNode(u,l,s,c),f=i.get(d);f?f.push(u):i.set(d,[u])}return i}},iu}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var ou,fm;function ov(){if(fm)return ou;fm=1;const t=Xf(),e=Yl(),r=sv(),n=Yf();ou=class{constructor({createMessageDigest:o=()=>new e("sha256"),canonicalIdMap:a=new Map,maxDeepIterations:l=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new t("_:c14n",a),this.createMessageDigest=o,this.maxDeepIterations=l,this.quads=null,this.deepIterations=null}main(o){this.deepIterations=new Map,this.quads=o;for(const f of o)this._addBlankNodeQuadInfo({quad:f,component:f.subject}),this._addBlankNodeQuadInfo({quad:f,component:f.object}),this._addBlankNodeQuadInfo({quad:f,component:f.graph});const a=new Map,l=[...this.blankNodeInfo.keys()];for(const f of l)this._hashAndTrackBlankNode({id:f,hashToBlankNodes:a});const c=[...a.keys()].sort(),u=[];for(const f of c){const h=a.get(f);if(h.length>1){u.push(h);continue}const m=h[0];this.canonicalIssuer.getId(m)}for(const f of u){const h=[];for(const m of f){if(this.canonicalIssuer.hasId(m))continue;const y=new t("_:b");y.getId(m);const _=this.hashNDegreeQuads(m,y);h.push(_)}h.sort(s);for(const m of h){const y=m.issuer.getOldIds();for(const _ of y)this.canonicalIssuer.getId(_)}}const d=[];for(const f of this.quads){const h=n.serializeQuadComponents(this._componentWithCanonicalId({component:f.subject}),f.predicate,this._componentWithCanonicalId({component:f.object}),this._componentWithCanonicalId({component:f.graph}));d.push(h)}return d.sort(),d.join("")}hashFirstDegreeQuads(o){const a=[],l=this.blankNodeInfo.get(o),c=l.quads;for(const d of c){const f={subject:null,predicate:d.predicate,object:null,graph:null};f.subject=this.modifyFirstDegreeComponent(o,d.subject,"subject"),f.object=this.modifyFirstDegreeComponent(o,d.object,"object"),f.graph=this.modifyFirstDegreeComponent(o,d.graph,"graph"),a.push(n.serializeQuad(f))}a.sort();const u=this.createMessageDigest();for(const d of a)u.update(d);return l.hash=u.digest(),l.hash}hashRelatedBlankNode(o,a,l,c){let u;this.canonicalIssuer.hasId(o)?u=this.canonicalIssuer.getId(o):l.hasId(o)?u=l.getId(o):u=this.blankNodeInfo.get(o).hash;const d=this.createMessageDigest();return d.update(c),c!=="g"&&d.update(this.getRelatedPredicate(a)),d.update(u),d.digest()}hashNDegreeQuads(o,a){const l=this.deepIterations.get(o)||0;if(l>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(o,l+1);const c=this.createMessageDigest(),u=this.createHashToRelated(o,a),d=[...u.keys()].sort();for(const f of d){c.update(f);let h="",m;const y=new r(u.get(f));for(;y.hasNext();){const _=y.next();let x=a.clone(),A="";const w=[];let p=!1;for(const b of _)if(this.canonicalIssuer.hasId(b)?A+=this.canonicalIssuer.getId(b):(x.hasId(b)||w.push(b),A+=x.getId(b)),h.length!==0&&A>h){p=!0;break}if(!p){for(const b of w){const E=this.hashNDegreeQuads(b,x);if(A+=x.getId(b),A+=`<${E.hash}>`,x=E.issuer,h.length!==0&&A>h){p=!0;break}}p||(h.length===0||A<h)&&(h=A,m=x)}}c.update(h),a=m}return{hash:c.digest(),issuer:a}}modifyFirstDegreeComponent(o,a){return a.termType!=="BlankNode"?a:{termType:"BlankNode",value:a.value===o?"_:a":"_:z"}}getRelatedPredicate(o){return`<${o.predicate.value}>`}createHashToRelated(o,a){const l=new Map,c=this.blankNodeInfo.get(o).quads;for(const u of c)this._addRelatedBlankNodeHash({quad:u,component:u.subject,position:"s",id:o,issuer:a,hashToRelated:l}),this._addRelatedBlankNodeHash({quad:u,component:u.object,position:"o",id:o,issuer:a,hashToRelated:l}),this._addRelatedBlankNodeHash({quad:u,component:u.graph,position:"g",id:o,issuer:a,hashToRelated:l});return l}_hashAndTrackBlankNode({id:o,hashToBlankNodes:a}){const l=this.hashFirstDegreeQuads(o),c=a.get(l);c?c.push(o):a.set(l,[o])}_addBlankNodeQuadInfo({quad:o,component:a}){if(a.termType!=="BlankNode")return;const l=a.value,c=this.blankNodeInfo.get(l);c?c.quads.add(o):this.blankNodeInfo.set(l,{quads:new Set([o]),hash:null})}_addRelatedBlankNodeHash({quad:o,component:a,position:l,id:c,issuer:u,hashToRelated:d}){if(!(a.termType==="BlankNode"&&a.value!==c))return;const f=a.value,h=this.hashRelatedBlankNode(f,o,u,l),m=d.get(h);m?m.push(f):d.set(h,[f])}_componentWithCanonicalId({component:o}){return o.termType==="BlankNode"&&!o.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(o.value)}:o}};function s(i,o){return i.hash<o.hash?-1:i.hash>o.hash?1:0}return ou}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */var au,hm;function pE(){if(hm)return au;hm=1;const t=Yl(),e=ov();return au=class extends e{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new t("sha1")}modifyFirstDegreeComponent(n,s,i){return s.termType!=="BlankNode"?s:i==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:s.value===n?"_:a":"_:z"}}getRelatedPredicate(n){return n.predicate.value}createHashToRelated(n,s){const i=new Map,o=this.blankNodeInfo.get(n).quads;for(const a of o){let l,c;if(a.subject.termType==="BlankNode"&&a.subject.value!==n)c=a.subject.value,l="p";else if(a.object.termType==="BlankNode"&&a.object.value!==n)c=a.object.value,l="r";else continue;const u=this.hashRelatedBlankNode(c,a,s,l),d=i.get(u);d?d.push(c):i.set(u,[c])}return i}},au}const mE={},gE=Object.freeze(Object.defineProperty({__proto__:null,default:mE},Symbol.toStringTag,{value:"Module"})),yE=dE(gE);var pm;function bE(){return pm||(pm=1,(function(t){const e=iv(),r=hE(),n=ov(),s=pE();let i;try{i=yE}catch{}function o(a){return Array.isArray(a)?a:t.NQuads.legacyDatasetToQuads(a)}t.NQuads=Yf(),t.IdentifierIssuer=Xf(),t._rdfCanonizeNative=function(a){return a&&(i=a),i},t.canonize=async function(a,l){const c=o(a);if(l.useNative){if(!i)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((u,d)=>i.canonize(c,l,(f,h)=>f?d(f):u(h)))}if(l.algorithm==="URDNA2015")return new e(l).main(c);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new r(l).main(c)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},t._canonizeSync=function(a,l){const c=o(a);if(l.useNative){if(!i)throw new Error("rdf-canonize-native not available");if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return i.canonizeSync(c,l)}if(l.algorithm==="URDNA2015")return new n(l).main(c);if(l.algorithm==="URGNA2012"){if(l.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new s(l).main(c)}throw"algorithm"in l?new Error("Invalid RDF Dataset Canonicalization algorithm: "+l.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(Qc)),Qc}var lu,mm;function Qf(){return mm||(mm=1,lu=bE()),lu}var cu,gm;function Mr(){if(gm)return cu;gm=1;const t={};return cu=t,t.isArray=Array.isArray,t.isBoolean=e=>typeof e=="boolean"||Object.prototype.toString.call(e)==="[object Boolean]",t.isDouble=e=>t.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&Object.keys(e).length===0,t.isNumber=e=>typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]",t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>Object.prototype.toString.call(e)==="[object Object]",t.isString=e=>typeof e=="string"||Object.prototype.toString.call(e)==="[object String]",t.isUndefined=e=>typeof e>"u",cu}var uu,ym;function ls(){if(ym)return uu;ym=1;const t=Mr(),e={};return uu=e,e.isSubject=r=>t.isObject(r)&&!("@value"in r||"@set"in r||"@list"in r)?Object.keys(r).length>1||!("@id"in r):!1,e.isSubjectReference=r=>t.isObject(r)&&Object.keys(r).length===1&&"@id"in r,e.isValue=r=>t.isObject(r)&&"@value"in r,e.isList=r=>t.isObject(r)&&"@list"in r,e.isGraph=r=>t.isObject(r)&&"@graph"in r&&Object.keys(r).filter(n=>n!=="@id"&&n!=="@index").length===1,e.isSimpleGraph=r=>e.isGraph(r)&&!("@id"in r),e.isBlankNode=r=>{if(t.isObject(r)){if("@id"in r){const n=r["@id"];return!t.isString(n)||n.indexOf("_:")===0}return Object.keys(r).length===0||!("@value"in r||"@set"in r||"@list"in r)}return!1},uu}var du,bm;function Qr(){return bm||(bm=1,du=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",r="jsonld.Error",n={}){super(e),this.name=r,this.message=e,this.details=n}}),du}var fu,vm;function Kr(){if(vm)return fu;vm=1;const t=ls(),e=Mr(),r=Qf().IdentifierIssuer,n=Qr(),s=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,i=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,o=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,a=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,l=/^@[a-zA-Z]+$/,c={headers:{accept:"application/ld+json, application/json"}},u={};fu=u,u.IdentifierIssuer=r,u.REGEX_BCP47=s,u.REGEX_KEYWORD=l,u.clone=function(f){if(f&&typeof f=="object"){let h;if(e.isArray(f)){h=[];for(let m=0;m<f.length;++m)h[m]=u.clone(f[m])}else if(f instanceof Map){h=new Map;for(const[m,y]of f)h.set(m,u.clone(y))}else if(f instanceof Set){h=new Set;for(const m of f)h.add(u.clone(m))}else if(e.isObject(f)){h={};for(const m in f)h[m]=u.clone(f[m])}else h=f.toString();return h}return f},u.asArray=function(f){return Array.isArray(f)?f:[f]},u.buildHeaders=(f={})=>{if(Object.keys(f).some(m=>m.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+c.headers.accept+'" is supported.');return Object.assign({Accept:c.headers.accept},f)},u.parseLinkHeader=f=>{const h={},m=f.match(i);for(let y=0;y<m.length;++y){let _=m[y].match(o);if(!_)continue;const x={target:_[1]},A=_[2];for(;_=a.exec(A);)x[_[1]]=_[2]===void 0?_[3]:_[2];const w=x.rel||"";Array.isArray(h[w])?h[w].push(x):h.hasOwnProperty(w)?h[w]=[h[w],x]:h[w]=x}return h},u.validateTypeValue=(f,h)=>{if(!e.isString(f)&&!(e.isArray(f)&&f.every(m=>e.isString(m)))){if(h&&e.isObject(f))switch(Object.keys(f).length){case 0:return;case 1:if("@default"in f&&u.asArray(f["@default"]).every(m=>e.isString(m)))return}throw new n('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:f})}},u.hasProperty=(f,h)=>{if(f.hasOwnProperty(h)){const m=f[h];return!e.isArray(m)||m.length>0}return!1},u.hasValue=(f,h,m)=>{if(u.hasProperty(f,h)){let y=f[h];const _=t.isList(y);if(e.isArray(y)||_){_&&(y=y["@list"]);for(let x=0;x<y.length;++x)if(u.compareValues(m,y[x]))return!0}else if(!e.isArray(m))return u.compareValues(m,y)}return!1},u.addValue=(f,h,m,y)=>{if(y=y||{},"propertyIsArray"in y||(y.propertyIsArray=!1),"valueIsArray"in y||(y.valueIsArray=!1),"allowDuplicate"in y||(y.allowDuplicate=!0),"prependValue"in y||(y.prependValue=!1),y.valueIsArray)f[h]=m;else if(e.isArray(m)){m.length===0&&y.propertyIsArray&&!f.hasOwnProperty(h)&&(f[h]=[]),y.prependValue&&(m=m.concat(f[h]),f[h]=[]);for(let _=0;_<m.length;++_)u.addValue(f,h,m[_],y)}else if(f.hasOwnProperty(h)){const _=!y.allowDuplicate&&u.hasValue(f,h,m);!e.isArray(f[h])&&(!_||y.propertyIsArray)&&(f[h]=[f[h]]),_||(y.prependValue?f[h].unshift(m):f[h].push(m))}else f[h]=y.propertyIsArray?[m]:m},u.getValues=(f,h)=>[].concat(f[h]||[]),u.removeProperty=(f,h)=>{delete f[h]},u.removeValue=(f,h,m,y)=>{y=y||{},"propertyIsArray"in y||(y.propertyIsArray=!1);const _=u.getValues(f,h).filter(x=>!u.compareValues(x,m));_.length===0?u.removeProperty(f,h):_.length===1&&!y.propertyIsArray?f[h]=_[0]:f[h]=_},u.relabelBlankNodes=(f,h)=>{h=h||{};const m=h.issuer||new r("_:b");return d(m,f)},u.compareValues=(f,h)=>f===h||t.isValue(f)&&t.isValue(h)&&f["@value"]===h["@value"]&&f["@type"]===h["@type"]&&f["@language"]===h["@language"]&&f["@index"]===h["@index"]?!0:e.isObject(f)&&"@id"in f&&e.isObject(h)&&"@id"in h?f["@id"]===h["@id"]:!1,u.compareShortestLeast=(f,h)=>f.length<h.length?-1:h.length<f.length?1:f===h?0:f<h?-1:1;function d(f,h){if(e.isArray(h))for(let m=0;m<h.length;++m)h[m]=d(f,h[m]);else if(t.isList(h))h["@list"]=d(f,h["@list"]);else if(e.isObject(h)){t.isBlankNode(h)&&(h["@id"]=f.getId(h["@id"]));const m=Object.keys(h).sort();for(let y=0;y<m.length;++y){const _=m[y];_!=="@id"&&(h[_]=d(f,h[_]))}}return h}return fu}var hu,_m;function Zf(){if(_m)return hu;_m=1;const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",e="http://www.w3.org/2001/XMLSchema#";return hu={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:e,XSD_BOOLEAN:e+"boolean",XSD_DOUBLE:e+"double",XSD_INTEGER:e+"integer",XSD_STRING:e+"string"},hu}var pu,wm;function av(){return wm||(wm=1,pu=class{constructor(){this._requests={}}wrapLoader(e){const r=this;return r._loader=e,function(){return r.add.apply(r,arguments)}}async add(e){let r=this._requests[e];if(r)return Promise.resolve(r);r=this._requests[e]=this._loader(e);try{return await r}finally{delete this._requests[e]}}}),pu}var mu,xm;function Ms(){if(xm)return mu;xm=1;const t=Mr(),e={};mu=e,e.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.parse=(n,s)=>{const i={},o=e.parsers[s||"full"],a=o.regex.exec(n);let l=o.keys.length;for(;l--;)i[o.keys[l]]=a[l]===void 0?null:a[l];return(i.scheme==="https"&&i.port==="443"||i.scheme==="http"&&i.port==="80")&&(i.href=i.href.replace(":"+i.port,""),i.authority=i.authority.replace(":"+i.port,""),i.port=null),i.normalizedPath=e.removeDotSegments(i.path),i},e.prependBase=(n,s)=>{if(n===null||e.isAbsolute(s))return s;(!n||t.isString(n))&&(n=e.parse(n||""));const i=e.parse(s),o={protocol:n.protocol||""};if(i.authority!==null)o.authority=i.authority,o.path=i.path,o.query=i.query;else if(o.authority=n.authority,i.path==="")o.path=n.path,i.query!==null?o.query=i.query:o.query=n.query;else{if(i.path.indexOf("/")===0)o.path=i.path;else{let l=n.path;l=l.substr(0,l.lastIndexOf("/")+1),(l.length>0||n.authority)&&l.substr(-1)!=="/"&&(l+="/"),l+=i.path,o.path=l}o.query=i.query}i.path!==""&&(o.path=e.removeDotSegments(o.path));let a=o.protocol;return o.authority!==null&&(a+="//"+o.authority),a+=o.path,o.query!==null&&(a+="?"+o.query),i.fragment!==null&&(a+="#"+i.fragment),a===""&&(a="./"),a},e.removeBase=(n,s)=>{if(n===null)return s;(!n||t.isString(n))&&(n=e.parse(n||""));let i="";if(n.href!==""?i+=(n.protocol||"")+"//"+(n.authority||""):s.indexOf("//")&&(i+="//"),s.indexOf(i)!==0)return s;const o=e.parse(s.substr(i.length)),a=n.normalizedPath.split("/"),l=o.normalizedPath.split("/"),c=o.fragment||o.query?0:1;for(;a.length>0&&l.length>c&&a[0]===l[0];)a.shift(),l.shift();let u="";if(a.length>0){a.pop();for(let d=0;d<a.length;++d)u+="../"}return u+=l.join("/"),o.query!==null&&(u+="?"+o.query),o.fragment!==null&&(u+="#"+o.fragment),u===""&&(u="./"),u},e.removeDotSegments=n=>{if(n.length===0)return"";const s=n.split("/"),i=[];for(;s.length>0;){const o=s.shift(),a=s.length===0;if(o==="."){a&&i.push("");continue}if(o===".."){i.pop(),a&&i.push("");continue}i.push(o)}return n[0]==="/"&&i.length>0&&i[0]!==""&&i.unshift(""),i.length===1&&i[0]===""?"/":i.join("/")};const r=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;return e.isAbsolute=n=>t.isString(n)&&r.test(n),e.isRelative=n=>t.isString(n),mu}var gu,Em;function vE(){if(Em)return gu;Em=1;const{parseLinkHeader:t,buildHeaders:e}=Kr(),{LINK_HEADER_CONTEXT:r}=Zf(),n=Qr(),s=av(),{prependBase:i}=Ms(),o=/(^|(\r\n))link:/i;gu=({secure:l,headers:c={},xhr:u}={headers:{}})=>{return c=e(c),new s().wrapLoader(f);async function f(h){if(h.indexOf("http:")!==0&&h.indexOf("https:")!==0)throw new n('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:h});if(l&&h.indexOf("https")!==0)throw new n(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:h});let m;try{m=await a(u,h,c)}catch(w){throw new n("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:h,cause:w})}if(m.status>=400)throw new n("URL could not be dereferenced: "+m.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:h,httpStatusCode:m.status});let y={contextUrl:null,documentUrl:h,document:m.response},_=null;const x=m.getResponseHeader("Content-Type");let A;if(o.test(m.getAllResponseHeaders())&&(A=m.getResponseHeader("Link")),A&&x!=="application/ld+json"){const w=t(A),p=w[r];if(Array.isArray(p))throw new n("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:h});p&&(y.contextUrl=p.target),_=w.alternate,_&&_.type=="application/ld+json"&&!(x||"").match(/^application\/(\w*\+)?json$/)&&(y=await f(i(h,_.target)))}return y}};function a(l,c,u){l=l||XMLHttpRequest;const d=new l;return new Promise((f,h)=>{d.onload=()=>f(d),d.onerror=m=>h(m),d.open("GET",c,!0);for(const m in u)d.setRequestHeader(m,u[m]);d.send()})}return gu}var yu,Am;function _E(){if(Am)return yu;Am=1;const t=vE(),e={};return yu=e,e.setupDocumentLoaders=function(r){typeof XMLHttpRequest<"u"&&(r.documentLoaders.xhr=t,r.useDocumentLoader("xhr"))},e.setupGlobals=function(r){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:r.JsonLdProcessor})},yu}var bu,Sm;function wE(){return Sm||(Sm=1,bu=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),bu}var vu,Im;function xE(){if(Im)return vu;Im=1,vu=t,t.Node=s,t.create=t;function t(i){var o=this;if(o instanceof t||(o=new t),o.tail=null,o.head=null,o.length=0,i&&typeof i.forEach=="function")i.forEach(function(c){o.push(c)});else if(arguments.length>0)for(var a=0,l=arguments.length;a<l;a++)o.push(arguments[a]);return o}t.prototype.removeNode=function(i){if(i.list!==this)throw new Error("removing node which does not belong to this list");var o=i.next,a=i.prev;return o&&(o.prev=a),a&&(a.next=o),i===this.head&&(this.head=o),i===this.tail&&(this.tail=a),i.list.length--,i.next=null,i.prev=null,i.list=null,o},t.prototype.unshiftNode=function(i){if(i!==this.head){i.list&&i.list.removeNode(i);var o=this.head;i.list=this,i.next=o,o&&(o.prev=i),this.head=i,this.tail||(this.tail=i),this.length++}},t.prototype.pushNode=function(i){if(i!==this.tail){i.list&&i.list.removeNode(i);var o=this.tail;i.list=this,i.prev=o,o&&(o.next=i),this.tail=i,this.head||(this.head=i),this.length++}},t.prototype.push=function(){for(var i=0,o=arguments.length;i<o;i++)r(this,arguments[i]);return this.length},t.prototype.unshift=function(){for(var i=0,o=arguments.length;i<o;i++)n(this,arguments[i]);return this.length},t.prototype.pop=function(){if(this.tail){var i=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,i}},t.prototype.shift=function(){if(this.head){var i=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,i}},t.prototype.forEach=function(i,o){o=o||this;for(var a=this.head,l=0;a!==null;l++)i.call(o,a.value,l,this),a=a.next},t.prototype.forEachReverse=function(i,o){o=o||this;for(var a=this.tail,l=this.length-1;a!==null;l--)i.call(o,a.value,l,this),a=a.prev},t.prototype.get=function(i){for(var o=0,a=this.head;a!==null&&o<i;o++)a=a.next;if(o===i&&a!==null)return a.value},t.prototype.getReverse=function(i){for(var o=0,a=this.tail;a!==null&&o<i;o++)a=a.prev;if(o===i&&a!==null)return a.value},t.prototype.map=function(i,o){o=o||this;for(var a=new t,l=this.head;l!==null;)a.push(i.call(o,l.value,this)),l=l.next;return a},t.prototype.mapReverse=function(i,o){o=o||this;for(var a=new t,l=this.tail;l!==null;)a.push(i.call(o,l.value,this)),l=l.prev;return a},t.prototype.reduce=function(i,o){var a,l=this.head;if(arguments.length>1)a=o;else if(this.head)l=this.head.next,a=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var c=0;l!==null;c++)a=i(a,l.value,c),l=l.next;return a},t.prototype.reduceReverse=function(i,o){var a,l=this.tail;if(arguments.length>1)a=o;else if(this.tail)l=this.tail.prev,a=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var c=this.length-1;l!==null;c--)a=i(a,l.value,c),l=l.prev;return a},t.prototype.toArray=function(){for(var i=new Array(this.length),o=0,a=this.head;a!==null;o++)i[o]=a.value,a=a.next;return i},t.prototype.toArrayReverse=function(){for(var i=new Array(this.length),o=0,a=this.tail;a!==null;o++)i[o]=a.value,a=a.prev;return i},t.prototype.slice=function(i,o){o=o||this.length,o<0&&(o+=this.length),i=i||0,i<0&&(i+=this.length);var a=new t;if(o<i||o<0)return a;i<0&&(i=0),o>this.length&&(o=this.length);for(var l=0,c=this.head;c!==null&&l<i;l++)c=c.next;for(;c!==null&&l<o;l++,c=c.next)a.push(c.value);return a},t.prototype.sliceReverse=function(i,o){o=o||this.length,o<0&&(o+=this.length),i=i||0,i<0&&(i+=this.length);var a=new t;if(o<i||o<0)return a;i<0&&(i=0),o>this.length&&(o=this.length);for(var l=this.length,c=this.tail;c!==null&&l>o;l--)c=c.prev;for(;c!==null&&l>i;l--,c=c.prev)a.push(c.value);return a},t.prototype.splice=function(i,o,...a){i>this.length&&(i=this.length-1),i<0&&(i=this.length+i);for(var l=0,c=this.head;c!==null&&l<i;l++)c=c.next;for(var u=[],l=0;c&&l<o;l++)u.push(c.value),c=this.removeNode(c);c===null&&(c=this.tail),c!==this.head&&c!==this.tail&&(c=c.prev);for(var l=0;l<a.length;l++)c=e(this,c,a[l]);return u},t.prototype.reverse=function(){for(var i=this.head,o=this.tail,a=i;a!==null;a=a.prev){var l=a.prev;a.prev=a.next,a.next=l}return this.head=o,this.tail=i,this};function e(i,o,a){var l=o===i.head?new s(a,null,o,i):new s(a,o,o.next,i);return l.next===null&&(i.tail=l),l.prev===null&&(i.head=l),i.length++,l}function r(i,o){i.tail=new s(o,i.tail,null,i),i.head||(i.head=i.tail),i.length++}function n(i,o){i.head=new s(o,null,i.head,i),i.tail||(i.tail=i.head),i.length++}function s(i,o,a,l){if(!(this instanceof s))return new s(i,o,a,l);this.list=l,this.value=i,o?(o.next=this,this.prev=o):this.prev=null,a?(a.prev=this,this.next=a):this.next=null}try{wE()(t)}catch{}return vu}var _u,Tm;function lv(){if(Tm)return _u;Tm=1;const t=xE(),e=Symbol("max"),r=Symbol("length"),n=Symbol("lengthCalculator"),s=Symbol("allowStale"),i=Symbol("maxAge"),o=Symbol("dispose"),a=Symbol("noDisposeOnSet"),l=Symbol("lruList"),c=Symbol("cache"),u=Symbol("updateAgeOnGet"),d=()=>1;class f{constructor(p){if(typeof p=="number"&&(p={max:p}),p||(p={}),p.max&&(typeof p.max!="number"||p.max<0))throw new TypeError("max must be a non-negative number");this[e]=p.max||1/0;const b=p.length||d;if(this[n]=typeof b!="function"?d:b,this[s]=p.stale||!1,p.maxAge&&typeof p.maxAge!="number")throw new TypeError("maxAge must be a number");this[i]=p.maxAge||0,this[o]=p.dispose,this[a]=p.noDisposeOnSet||!1,this[u]=p.updateAgeOnGet||!1,this.reset()}set max(p){if(typeof p!="number"||p<0)throw new TypeError("max must be a non-negative number");this[e]=p||1/0,y(this)}get max(){return this[e]}set allowStale(p){this[s]=!!p}get allowStale(){return this[s]}set maxAge(p){if(typeof p!="number")throw new TypeError("maxAge must be a non-negative number");this[i]=p,y(this)}get maxAge(){return this[i]}set lengthCalculator(p){typeof p!="function"&&(p=d),p!==this[n]&&(this[n]=p,this[r]=0,this[l].forEach(b=>{b.length=this[n](b.value,b.key),this[r]+=b.length})),y(this)}get lengthCalculator(){return this[n]}get length(){return this[r]}get itemCount(){return this[l].length}rforEach(p,b){b=b||this;for(let E=this[l].tail;E!==null;){const T=E.prev;A(this,p,E,b),E=T}}forEach(p,b){b=b||this;for(let E=this[l].head;E!==null;){const T=E.next;A(this,p,E,b),E=T}}keys(){return this[l].toArray().map(p=>p.key)}values(){return this[l].toArray().map(p=>p.value)}reset(){this[o]&&this[l]&&this[l].length&&this[l].forEach(p=>this[o](p.key,p.value)),this[c]=new Map,this[l]=new t,this[r]=0}dump(){return this[l].map(p=>m(this,p)?!1:{k:p.key,v:p.value,e:p.now+(p.maxAge||0)}).toArray().filter(p=>p)}dumpLru(){return this[l]}set(p,b,E){if(E=E||this[i],E&&typeof E!="number")throw new TypeError("maxAge must be a number");const T=E?Date.now():0,I=this[n](b,p);if(this[c].has(p)){if(I>this[e])return _(this,this[c].get(p)),!1;const W=this[c].get(p).value;return this[o]&&(this[a]||this[o](p,W.value)),W.now=T,W.maxAge=E,W.value=b,this[r]+=I-W.length,W.length=I,this.get(p),y(this),!0}const O=new x(p,b,I,T,E);return O.length>this[e]?(this[o]&&this[o](p,b),!1):(this[r]+=O.length,this[l].unshift(O),this[c].set(p,this[l].head),y(this),!0)}has(p){if(!this[c].has(p))return!1;const b=this[c].get(p).value;return!m(this,b)}get(p){return h(this,p,!0)}peek(p){return h(this,p,!1)}pop(){const p=this[l].tail;return p?(_(this,p),p.value):null}del(p){_(this,this[c].get(p))}load(p){this.reset();const b=Date.now();for(let E=p.length-1;E>=0;E--){const T=p[E],I=T.e||0;if(I===0)this.set(T.k,T.v);else{const O=I-b;O>0&&this.set(T.k,T.v,O)}}}prune(){this[c].forEach((p,b)=>h(this,b,!1))}}const h=(w,p,b)=>{const E=w[c].get(p);if(E){const T=E.value;if(m(w,T)){if(_(w,E),!w[s])return}else b&&(w[u]&&(E.value.now=Date.now()),w[l].unshiftNode(E));return T.value}},m=(w,p)=>{if(!p||!p.maxAge&&!w[i])return!1;const b=Date.now()-p.now;return p.maxAge?b>p.maxAge:w[i]&&b>w[i]},y=w=>{if(w[r]>w[e])for(let p=w[l].tail;w[r]>w[e]&&p!==null;){const b=p.prev;_(w,p),p=b}},_=(w,p)=>{if(p){const b=p.value;w[o]&&w[o](b.key,b.value),w[r]-=b.length,w[c].delete(b.key),w[l].removeNode(p)}};class x{constructor(p,b,E,T,I){this.key=p,this.value=b,this.length=E,this.now=T,this.maxAge=I||0}}const A=(w,p,b,E)=>{let T=b.value;m(w,T)&&(_(w,b),w[s]||(T=void 0)),T&&p.call(E,T.value,T.key,w)};return _u=f,_u}var wu,Rm;function EE(){if(Rm)return wu;Rm=1;const t=lv(),e=10;return wu=class{constructor({document:n}){this.document=n,this.cache=new t({max:e})}getProcessed(n){return this.cache.get(n)}setProcessed(n,s){this.cache.set(n,s)}},wu}var xu,Om;function AE(){if(Om)return xu;Om=1;const{isArray:t,isObject:e,isString:r}=Mr(),{asArray:n}=Kr(),{prependBase:s}=Ms(),i=Qr(),o=EE(),a=10;xu=class{constructor({sharedCache:d}){this.perOpCache=new Map,this.sharedCache=d}async resolve({activeCtx:d,context:f,documentLoader:h,base:m,cycles:y=new Set}){f&&e(f)&&f["@context"]&&(f=f["@context"]),f=n(f);const _=[];for(const x of f){if(r(x)){let p=this._get(x);p||(p=await this._resolveRemoteContext({activeCtx:d,url:x,documentLoader:h,base:m,cycles:y})),t(p)?_.push(...p):_.push(p);continue}if(x===null){_.push(new o({document:null}));continue}e(x)||l(f);const A=JSON.stringify(x);let w=this._get(A);w||(w=new o({document:x}),this._cacheResolvedContext({key:A,resolved:w,tag:"static"})),_.push(w)}return _}_get(d){let f=this.perOpCache.get(d);if(!f){const h=this.sharedCache.get(d);h&&(f=h.get("static"),f&&this.perOpCache.set(d,f))}return f}_cacheResolvedContext({key:d,resolved:f,tag:h}){if(this.perOpCache.set(d,f),h!==void 0){let m=this.sharedCache.get(d);m||(m=new Map,this.sharedCache.set(d,m)),m.set(h,f)}return f}async _resolveRemoteContext({activeCtx:d,url:f,documentLoader:h,base:m,cycles:y}){f=s(m,f);const{context:_,remoteDoc:x}=await this._fetchContext({activeCtx:d,url:f,documentLoader:h,cycles:y});m=x.documentUrl||f,c({context:_,base:m});const A=await this.resolve({activeCtx:d,context:_,documentLoader:h,base:m,cycles:y});return this._cacheResolvedContext({key:f,resolved:A,tag:x.tag}),A}async _fetchContext({activeCtx:d,url:f,documentLoader:h,cycles:m}){if(m.size>a)throw new i("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:d.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:a});if(m.has(f))throw new i("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:d.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:f});m.add(f);let y,_;try{_=await h(f),y=_.document||null,r(y)&&(y=JSON.parse(y))}catch(x){throw new i(`Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context. URL: "${f}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:f,cause:x})}if(!e(y))throw new i(`Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object. URL: "${f}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:f});return"@context"in y?y={"@context":y["@context"]}:y={"@context":{}},_.contextUrl&&(t(y["@context"])||(y["@context"]=[y["@context"]]),y["@context"].push(_.contextUrl)),{context:y,remoteDoc:_}}};function l(u){throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u})}function c({context:u,base:d}){if(!u)return;const f=u["@context"];if(r(f)){u["@context"]=s(d,f);return}if(t(f)){for(let h=0;h<f.length;++h){const m=f[h];if(r(m)){f[h]=s(d,m);continue}e(m)&&c({context:{"@context":m},base:d})}return}if(e(f))for(const h in f)c({context:f[h],base:d})}return xu}var Eu,Cm;function SE(){return Cm||(Cm=1,Eu=Qf().NQuads),Eu}var Au,km;function ia(){if(km)return Au;km=1;const t=Qr(),{isArray:e}=Mr(),{asArray:r}=Kr(),n={};Au=n,n.defaultEventHandler=null,n.setupEventHandler=({options:o={}})=>{const a=[].concat(o.safe?n.safeEventHandler:[],o.eventHandler?r(o.eventHandler):[],n.defaultEventHandler?n.defaultEventHandler:[]);return a.length===0?null:a},n.handleEvent=({event:o,options:a})=>{s({event:o,handlers:a.eventHandler})};function s({event:o,handlers:a}){let l=!0;for(let c=0;l&&c<a.length;++c){l=!1;const u=a[c];if(e(u))l=s({event:o,handlers:u});else if(typeof u=="function")u({event:o,next:()=>{l=!0}});else if(typeof u=="object")o.code in u?u[o.code]({event:o,next:()=>{l=!0}}):l=!0;else throw new t("Invalid event handler.","jsonld.InvalidEventHandler",{event:o})}return l}const i=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);return n.safeEventHandler=function({event:a,next:l}){if(a.level==="warning"&&i.has(a.code))throw new t("Safe mode validation error.","jsonld.ValidationError",{event:a});l()},n.logEventHandler=function({event:a,next:l}){console.log(`EVENT: ${a.message}`,{event:a}),l()},n.logWarningEventHandler=function({event:a,next:l}){a.level==="warning"&&console.warn(`WARNING: ${a.message}`,{event:a}),l()},n.unhandledEventHandler=function({event:a}){throw new t("No handler for event.","jsonld.UnhandledEvent",{event:a})},n.setDefaultEventHandler=function({eventHandler:o}={}){n.defaultEventHandler=o?r(o):null},Au}var Su,Dm;function ai(){if(Dm)return Su;Dm=1;const t=Kr(),e=Qr(),{isArray:r,isObject:n,isString:s,isUndefined:i}=Mr(),{isAbsolute:o,isRelative:a,prependBase:l}=Ms(),{handleEvent:c}=ia(),{REGEX_BCP47:u,REGEX_KEYWORD:d,asArray:f,compareShortestLeast:h}=Kr(),m=new Map,y=1e4,_={};Su=_,_.process=async({activeCtx:w,localCtx:p,options:b,propagate:E=!0,overrideProtected:T=!1,cycles:I=new Set})=>{if(n(p)&&"@context"in p&&r(p["@context"])&&(p=p["@context"]),f(p).length===0)return w;const P=[],W=[({event:te,next:R})=>{P.push(te),R()}];b.eventHandler&&W.push(b.eventHandler);const B=b;b={...b,eventHandler:W};const U=await b.contextResolver.resolve({activeCtx:w,context:p,documentLoader:b.documentLoader,base:b.base});n(U[0].document)&&typeof U[0].document["@propagate"]=="boolean"&&(E=U[0].document["@propagate"]);let M=w;!E&&!M.previousContext&&(M=M.clone(),M.previousContext=w);for(const te of U){let{document:R}=te;if(w=M,R===null){if(!T&&Object.keys(w.protected).length!==0)throw new e("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});M=w=_.getInitialContext(b).clone();continue}const q=te.getProcessed(w);if(q){if(B.eventHandler)for(const ee of q.events)c({event:ee,options:B});M=w=q.context;continue}if(n(R)&&"@context"in R&&(R=R["@context"]),!n(R))throw new e("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:R});M=M.clone();const F=new Map;if("@version"in R){if(R["@version"]!==1.1)throw new e("Unsupported JSON-LD version: "+R["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:R});if(w.processingMode&&w.processingMode==="json-ld-1.0")throw new e("@version: "+R["@version"]+" not compatible with "+w.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:R});M.processingMode="json-ld-1.1",M["@version"]=R["@version"],F.set("@version",!0)}if(M.processingMode=M.processingMode||w.processingMode,"@base"in R){let ee=R["@base"];if(!(ee===null||o(ee)))if(a(ee))ee=l(M["@base"],ee);else throw new e('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:R});M["@base"]=ee,F.set("@base",!0)}if("@vocab"in R){const ee=R["@vocab"];if(ee===null)delete M["@vocab"];else if(s(ee)){if(!o(ee)&&_.processingMode(M,1))throw new e('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:R});{const j=x(M,ee,{vocab:!0,base:!0},void 0,void 0,b);o(j)||b.eventHandler&&c({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:j}},options:b}),M["@vocab"]=j}}else throw new e('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:R});F.set("@vocab",!0)}if("@language"in R){const ee=R["@language"];if(ee===null)delete M["@language"];else if(s(ee))ee.match(u)||b.eventHandler&&c({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ee}},options:b}),M["@language"]=ee.toLowerCase();else throw new e('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:R});F.set("@language",!0)}if("@direction"in R){const ee=R["@direction"];if(w.processingMode==="json-ld-1.0")throw new e("Invalid JSON-LD syntax; @direction not compatible with "+w.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:R});if(ee===null)delete M["@direction"];else{if(ee!=="ltr"&&ee!=="rtl")throw new e('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:R});M["@direction"]=ee}F.set("@direction",!0)}if("@propagate"in R){const ee=R["@propagate"];if(w.processingMode==="json-ld-1.0")throw new e("Invalid JSON-LD syntax; @propagate not compatible with "+w.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:R});if(typeof ee!="boolean")throw new e("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:p});F.set("@propagate",!0)}if("@import"in R){const ee=R["@import"];if(w.processingMode==="json-ld-1.0")throw new e("Invalid JSON-LD syntax; @import not compatible with "+w.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:R});if(!s(ee))throw new e("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:p});const j=await b.contextResolver.resolve({activeCtx:w,context:ee,documentLoader:b.documentLoader,base:b.base});if(j.length!==1)throw new e("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:p});const se=j[0].getProcessed(w);if(se)R=se;else{const oe=j[0].document;if("@import"in oe)throw new e("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:p});for(const ae in oe)R.hasOwnProperty(ae)||(R[ae]=oe[ae]);j[0].setProcessed(w,R)}F.set("@import",!0)}F.set("@protected",R["@protected"]||!1);for(const ee in R)if(_.createTermDefinition({activeCtx:M,localCtx:R,term:ee,defined:F,options:b,overrideProtected:T}),n(R[ee])&&"@context"in R[ee]){const j=R[ee]["@context"];let se=!0;if(s(j)){const oe=l(b.base,j);I.has(oe)?se=!1:I.add(oe)}if(se)try{await _.process({activeCtx:M.clone(),localCtx:R[ee]["@context"],overrideProtected:!0,options:b,cycles:I})}catch{throw new e("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:R[ee]["@context"],term:ee})}}te.setProcessed(w,{context:M,events:P})}return M},_.createTermDefinition=({activeCtx:w,localCtx:p,term:b,defined:E,options:T,overrideProtected:I=!1})=>{if(E.has(b)){if(E.get(b))return;throw new e("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:p,term:b})}E.set(b,!1);let O;if(p.hasOwnProperty(b)&&(O=p[b]),b==="@type"&&n(O)&&(O["@container"]||"@set")==="@set"&&_.processingMode(w,1.1)){const R=["@container","@id","@protected"],q=Object.keys(O);if(q.length===0||q.some(F=>!R.includes(F)))throw new e("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:p,term:b})}else{if(_.isKeyword(b))throw new e("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:p,term:b});if(b.match(d)){T.eventHandler&&c({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:b}},options:T});return}else if(b==="")throw new e("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:p})}const P=w.mappings.get(b);w.mappings.has(b)&&w.mappings.delete(b);let W=!1;if((s(O)||O===null)&&(W=!0,O={"@id":O}),!n(O))throw new e("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:p});const B={};w.mappings.set(b,B),B.reverse=!1;const U=["@container","@id","@language","@reverse","@type"];_.processingMode(w,1.1)&&U.push("@context","@direction","@index","@nest","@prefix","@protected");for(const R in O)if(!U.includes(R))throw new e("Invalid JSON-LD syntax; a term definition must not contain "+R,"jsonld.SyntaxError",{code:"invalid term definition",context:p});const M=b.indexOf(":");if(B._termHasColon=M>0,"@reverse"in O){if("@id"in O)throw new e("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:p});if("@nest"in O)throw new e("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:p});const R=O["@reverse"];if(!s(R))throw new e("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:p});if(R.match(d)){T.eventHandler&&c({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:R}},options:T}),P?w.mappings.set(b,P):w.mappings.delete(b);return}const q=x(w,R,{vocab:!0,base:!1},p,E,T);if(!o(q))throw new e("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:p});B["@id"]=q,B.reverse=!0}else if("@id"in O){let R=O["@id"];if(R&&!s(R))throw new e("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:p});if(R===null)B["@id"]=null;else if(!_.isKeyword(R)&&R.match(d)){T.eventHandler&&c({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:R}},options:T}),P?w.mappings.set(b,P):w.mappings.delete(b);return}else if(R!==b){if(R=x(w,R,{vocab:!0,base:!1},p,E,T),!o(R)&&!_.isKeyword(R))throw new e("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:p});if(b.match(/(?::[^:])|\//)){const q=new Map(E).set(b,!0);if(x(w,b,{vocab:!0,base:!1},p,q,T)!==R)throw new e("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:p})}B["@id"]=R,B._prefix=W&&!B._termHasColon&&R.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in B))if(B._termHasColon){const R=b.substr(0,M);if(p.hasOwnProperty(R)&&_.createTermDefinition({activeCtx:w,localCtx:p,term:R,defined:E,options:T}),w.mappings.has(R)){const q=b.substr(M+1);B["@id"]=w.mappings.get(R)["@id"]+q}else B["@id"]=b}else if(b==="@type")B["@id"]=b;else{if(!("@vocab"in w))throw new e("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:p,term:b});B["@id"]=w["@vocab"]+b}if((O["@protected"]===!0||E.get("@protected")===!0&&O["@protected"]!==!1)&&(w.protected[b]=!0,B.protected=!0),E.set(b,!0),"@type"in O){let R=O["@type"];if(!s(R))throw new e("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:p});if(R==="@json"||R==="@none"){if(_.processingMode(w,1))throw new e(`Invalid JSON-LD syntax; an @context @type value must not be "${R}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:p})}else if(R!=="@id"&&R!=="@vocab"){if(R=x(w,R,{vocab:!0,base:!1},p,E,T),!o(R))throw new e("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:p});if(R.indexOf("_:")===0)throw new e("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:p})}B["@type"]=R}if("@container"in O){const R=s(O["@container"])?[O["@container"]]:O["@container"]||[],q=["@list","@set","@index","@language"];let F=!0;const ee=R.includes("@set");if(_.processingMode(w,1.1)){if(q.push("@graph","@id","@type"),R.includes("@list")){if(R.length!==1)throw new e("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:p})}else if(R.includes("@graph")){if(R.some(j=>j!=="@graph"&&j!=="@id"&&j!=="@index"&&j!=="@set"))throw new e("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:p})}else F&=R.length<=(ee?2:1);if(R.includes("@type")&&(B["@type"]=B["@type"]||"@id",!["@id","@vocab"].includes(B["@type"])))throw new e("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:p})}else F&=!r(O["@container"]),F&=R.length<=1;if(F&=R.every(j=>q.includes(j)),F&=!(ee&&R.includes("@list")),!F)throw new e("Invalid JSON-LD syntax; @context @container value must be one of the following: "+q.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:p});if(B.reverse&&!R.every(j=>["@index","@set"].includes(j)))throw new e("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:p});B["@container"]=R}if("@index"in O){if(!("@container"in O)||!B["@container"].includes("@index"))throw new e(`Invalid JSON-LD syntax; @index without @index in @container: "${O["@index"]}" on term "${b}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:p});if(!s(O["@index"])||O["@index"].indexOf("@")===0)throw new e(`Invalid JSON-LD syntax; @index must expand to an IRI: "${O["@index"]}" on term "${b}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:p});B["@index"]=O["@index"]}if("@context"in O&&(B["@context"]=O["@context"]),"@language"in O&&!("@type"in O)){let R=O["@language"];if(R!==null&&!s(R))throw new e("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:p});R!==null&&(R=R.toLowerCase()),B["@language"]=R}if("@prefix"in O){if(b.match(/:|\//))throw new e("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:p});if(_.isKeyword(B["@id"]))throw new e("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:p});if(typeof O["@prefix"]=="boolean")B._prefix=O["@prefix"]===!0;else throw new e("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:p})}if("@direction"in O){const R=O["@direction"];if(R!==null&&R!=="ltr"&&R!=="rtl")throw new e('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:p});B["@direction"]=R}if("@nest"in O){const R=O["@nest"];if(!s(R)||R!=="@nest"&&R.indexOf("@")===0)throw new e("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:p});B["@nest"]=R}// disallow aliasing @context and @preserve
const te=B["@id"];if(te==="@context"||te==="@preserve")throw new e("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:p});if(P&&P.protected&&!I&&(w.protected[b]=!0,B.protected=!0,!A(P,B)))throw new e("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:p,term:b})},_.expandIri=(w,p,b,E)=>x(w,p,b,void 0,void 0,E);function x(w,p,b,E,T,I){if(p===null||!s(p)||_.isKeyword(p))return p;if(p.match(d))return null;if(E&&E.hasOwnProperty(p)&&T.get(p)!==!0&&_.createTermDefinition({activeCtx:w,localCtx:E,term:p,defined:T,options:I}),b=b||{},b.vocab){const P=w.mappings.get(p);if(P===null)return null;if(n(P)&&"@id"in P)return P["@id"]}const O=p.indexOf(":");if(O>0){const P=p.substr(0,O),W=p.substr(O+1);if(P==="_"||W.indexOf("//")===0)return p;E&&E.hasOwnProperty(P)&&_.createTermDefinition({activeCtx:w,localCtx:E,term:P,defined:T,options:I});const B=w.mappings.get(P);if(B&&B._prefix)return B["@id"]+W;if(o(p))return p}if(b.vocab&&"@vocab"in w)p=w["@vocab"]+p;else if(b.base){let P,W;"@base"in w?w["@base"]?(W=l(I.base,w["@base"]),P=l(W,p)):(W=w["@base"],P=p):(W=I.base,P=l(I.base,p)),p=P}return p}_.getInitialContext=w=>{const p=JSON.stringify({processingMode:w.processingMode}),b=m.get(p);if(b)return b;const E={processingMode:w.processingMode,mappings:new Map,inverse:null,getInverse:T,clone:P,revertToPreviousContext:W,protected:{}};return m.size===y&&m.clear(),m.set(p,E),E;function T(){const B=this;if(B.inverse)return B.inverse;const U=B.inverse={},M=B.fastCurieMap={},te={},R=(B["@language"]||"@none").toLowerCase(),q=B["@direction"],F=B.mappings,ee=[...F.keys()].sort(h);for(const j of ee){const se=F.get(j);if(se===null)continue;let oe=se["@container"]||"@none";if(oe=[].concat(oe).sort().join(""),se["@id"]===null)continue;const ae=f(se["@id"]);for(const we of ae){let z=U[we];const H=_.isKeyword(we);if(z)!H&&!se._termHasColon&&te[we].push(j);else if(U[we]=z={},!H&&!se._termHasColon){te[we]=[j];const V={iri:we,terms:te[we]};we[0]in M?M[we[0]].push(V):M[we[0]]=[V]}if(z[oe]||(z[oe]={"@language":{},"@type":{},"@any":{}}),z=z[oe],O(j,z["@any"],"@none"),se.reverse)O(j,z["@type"],"@reverse");else if(se["@type"]==="@none")O(j,z["@any"],"@none"),O(j,z["@language"],"@none"),O(j,z["@type"],"@none");else if("@type"in se)O(j,z["@type"],se["@type"]);else if("@language"in se&&"@direction"in se){const V=se["@language"],le=se["@direction"];V&&le?O(j,z["@language"],`${V}_${le}`.toLowerCase()):V?O(j,z["@language"],V.toLowerCase()):le?O(j,z["@language"],`_${le}`):O(j,z["@language"],"@null")}else"@language"in se?O(j,z["@language"],(se["@language"]||"@null").toLowerCase()):"@direction"in se?se["@direction"]?O(j,z["@language"],`_${se["@direction"]}`):O(j,z["@language"],"@none"):q?(O(j,z["@language"],`_${q}`),O(j,z["@language"],"@none"),O(j,z["@type"],"@none")):(O(j,z["@language"],R),O(j,z["@language"],"@none"),O(j,z["@type"],"@none"))}}for(const j in M)I(M,j,1);return U}function I(B,U,M){const te=B[U],R=B[U]={};let q,F;for(const ee of te)q=ee.iri,M>=q.length?F="":F=q[M],F in R?R[F].push(ee):R[F]=[ee];for(const ee in R)ee!==""&&I(R,ee,M+1)}function O(B,U,M){U.hasOwnProperty(M)||(U[M]=B)}function P(){const B={};return B.mappings=t.clone(this.mappings),B.clone=this.clone,B.inverse=null,B.getInverse=this.getInverse,B.protected=t.clone(this.protected),this.previousContext&&(B.previousContext=this.previousContext.clone()),B.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(B["@base"]=this["@base"]),"@language"in this&&(B["@language"]=this["@language"]),"@vocab"in this&&(B["@vocab"]=this["@vocab"]),B}function W(){return this.previousContext?this.previousContext.clone():this}},_.getContextValue=(w,p,b)=>{if(p===null)return b==="@context"?void 0:null;if(w.mappings.has(p)){const E=w.mappings.get(p);if(i(b))return E;if(E.hasOwnProperty(b))return E[b]}if(b==="@language"&&b in w||b==="@direction"&&b in w)return w[b];if(b!=="@context")return null},_.processingMode=(w,p)=>p.toString()>="1.1"?!w.processingMode||w.processingMode>="json-ld-"+p.toString():w.processingMode==="json-ld-1.0",_.isKeyword=w=>{if(!s(w)||w[0]!=="@")return!1;switch(w){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function A(w,p){if(!(w&&typeof w=="object")||!(p&&typeof p=="object"))return w===p;const b=Array.isArray(w);if(b!==Array.isArray(p))return!1;if(b){if(w.length!==p.length)return!1;for(let I=0;I<w.length;++I)if(!A(w[I],p[I]))return!1;return!0}const E=Object.keys(w),T=Object.keys(p);if(E.length!==T.length)return!1;for(const I in w){let O=w[I],P=p[I];if(I==="@container"&&Array.isArray(O)&&Array.isArray(P)&&(O=O.slice().sort(),P=P.slice().sort()),!A(O,P))return!1}return!0}return Su}var Iu,Pm;function IE(){if(Pm)return Iu;Pm=1;const t=Qr(),{isArray:e,isObject:r,isEmptyObject:n,isString:s,isUndefined:i}=Mr(),{isList:o,isValue:a,isGraph:l,isSubject:c}=ls(),{expandIri:u,getContextValue:d,isKeyword:f,process:h,processingMode:m}=ai(),{isAbsolute:y}=Ms(),{REGEX_BCP47:_,REGEX_KEYWORD:x,addValue:A,asArray:w,getValues:p,validateTypeValue:b}=Kr(),{handleEvent:E}=ia(),T={};Iu=T,T.expand=async({activeCtx:U,activeProperty:M=null,element:te,options:R={},insideList:q=!1,insideIndex:F=!1,typeScopedContext:ee=null})=>{if(te==null)return null;if(M==="@default"&&(R=Object.assign({},R,{isFrame:!1})),!e(te)&&!r(te))return!q&&(M===null||u(U,M,{vocab:!0},R)==="@graph")?(R.eventHandler&&E({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:te}},options:R}),null):P({activeCtx:U,activeProperty:M,value:te,options:R});if(e(te)){let V=[];const le=d(U,M,"@container")||[];q=q||le.includes("@list");for(let ve=0;ve<te.length;++ve){let ce=await T.expand({activeCtx:U,activeProperty:M,element:te[ve],options:R,insideIndex:F,typeScopedContext:ee});q&&e(ce)&&(ce={"@list":ce}),ce!==null&&(e(ce)?V=V.concat(ce):V.push(ce))}return V}const j=u(U,M,{vocab:!0},R),se=d(U,M,"@context");ee=ee||(U.previousContext?U:null);let oe=Object.keys(te).sort(),ae=!F;if(ae&&ee&&oe.length<=2&&!oe.includes("@context"))for(const V of oe){const le=u(ee,V,{vocab:!0},R);if(le==="@value"){ae=!1,U=ee;break}if(le==="@id"&&oe.length===1){ae=!1;break}}ae&&(U=U.revertToPreviousContext()),i(se)||(U=await h({activeCtx:U,localCtx:se,propagate:!0,overrideProtected:!0,options:R})),"@context"in te&&(U=await h({activeCtx:U,localCtx:te["@context"],options:R})),ee=U;let we=null;for(const V of oe)if(u(U,V,{vocab:!0},R)==="@type"){we=we||V;const ve=te[V],ce=Array.isArray(ve)?ve.length>1?ve.slice().sort():ve:[ve];for(const Te of ce){const L=d(ee,Te,"@context");i(L)||(U=await h({activeCtx:U,localCtx:L,options:R,propagate:!1}))}}let z={};await O({activeCtx:U,activeProperty:M,expandedActiveProperty:j,element:te,expandedParent:z,options:R,insideList:q,typeKey:we,typeScopedContext:ee}),oe=Object.keys(z);let H=oe.length;if("@value"in z){if("@type"in z&&("@language"in z||"@direction"in z))throw new t('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:z});let V=H-1;if("@type"in z&&(V-=1),"@index"in z&&(V-=1),"@language"in z&&(V-=1),"@direction"in z&&(V-=1),V!==0)throw new t('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:z});const le=z["@value"]===null?[]:w(z["@value"]),ve=p(z,"@type");if(!(m(U,1.1)&&ve.includes("@json")&&ve.length===1))if(le.length===0)R.eventHandler&&E({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:z}},options:R}),z=null;else{if(!le.every(ce=>s(ce)||n(ce))&&"@language"in z)throw new t("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:z});if(!ve.every(ce=>y(ce)&&!(s(ce)&&ce.indexOf("_:")===0)||n(ce)))throw new t('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:z})}}else if("@type"in z&&!e(z["@type"]))z["@type"]=[z["@type"]];else if("@set"in z||"@list"in z){if(H>1&&!(H===2&&"@index"in z))throw new t('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:z});"@set"in z&&(z=z["@set"],oe=Object.keys(z),H=oe.length)}else H===1&&"@language"in z&&(R.eventHandler&&E({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:z}},options:R}),z=null);return r(z)&&!R.keepFreeFloatingNodes&&!q&&(M===null||j==="@graph"||(d(U,M,"@container")||[]).includes("@graph"))&&(z=I({value:z,count:H,options:R})),z};function I({value:U,count:M,options:te}){if(M===0||"@value"in U||"@list"in U||M===1&&"@id"in U){if(te.eventHandler){let R,q;M===0?(R="empty object",q="Dropping empty object."):"@value"in U?(R="object with only @value",q="Dropping object with only @value."):"@list"in U?(R="object with only @list",q="Dropping object with only @list."):M===1&&"@id"in U&&(R="object with only @id",q="Dropping object with only @id."),E({event:{type:["JsonLdEvent"],code:R,level:"warning",message:q,details:{value:U}},options:te})}return null}return U}async function O({activeCtx:U,activeProperty:M,expandedActiveProperty:te,element:R,expandedParent:q,options:F={},insideList:ee,typeKey:j,typeScopedContext:se}){const oe=Object.keys(R).sort(),ae=[];let we;const z=R[j]&&u(U,e(R[j])?R[j][0]:R[j],{vocab:!0},{...F,typeExpansion:!0})==="@json";for(const H of oe){let V=R[H],le;if(H==="@context")continue;const ve=u(U,H,{vocab:!0},F);if(ve===null||!(y(ve)||f(ve))){F.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:H,expandedProperty:ve}},options:F});continue}if(f(ve)){if(te==="@reverse")throw new t("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:V});if(ve in q&&ve!=="@included"&&ve!=="@type")throw new t("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:ve})}if(ve==="@id"){if(!s(V)){if(!F.isFrame)throw new t('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:V});if(r(V)){if(!n(V))throw new t('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:V})}else if(e(V)){if(!V.every(k=>s(k)))throw new t('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:V})}else throw new t('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:V})}A(q,"@id",w(V).map(k=>{if(s(k)){const X=u(U,k,{base:!0},F);return F.eventHandler&&(X===null?E(k===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:k}},options:F}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:k}},options:F}):y(X)||E({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:k,expandedId:X}},options:F})),X}return k}),{propertyIsArray:F.isFrame});continue}if(ve==="@type"){r(V)&&(V=Object.fromEntries(Object.entries(V).map(([k,X])=>[u(se,k,{vocab:!0}),w(X).map(he=>u(se,he,{base:!0,vocab:!0},{...F,typeExpansion:!0}))]))),b(V,F.isFrame),A(q,"@type",w(V).map(k=>{if(s(k)){const X=u(se,k,{base:!0,vocab:!0},{...F,typeExpansion:!0});return X!=="@json"&&!y(X)&&F.eventHandler&&E({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:k}},options:F}),X}return k}),{propertyIsArray:!!F.isFrame});continue}if(ve==="@included"&&m(U,1.1)){const k=w(await T.expand({activeCtx:U,activeProperty:M,element:V,options:F}));if(!k.every(X=>c(X)))throw new t("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:V});A(q,"@included",k,{propertyIsArray:!0});continue}if(ve==="@graph"&&!(r(V)||e(V)))throw new t('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:V});if(ve==="@value"){we=V,z&&m(U,1.1)?q["@value"]=V:A(q,"@value",V,{propertyIsArray:F.isFrame});continue}if(ve==="@language"){if(V===null)continue;if(!s(V)&&!F.isFrame)throw new t('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:V});V=w(V).map(k=>s(k)?k.toLowerCase():k);for(const k of V)s(k)&&!k.match(_)&&F.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:k}},options:F});A(q,"@language",V,{propertyIsArray:F.isFrame});continue}if(ve==="@direction"){if(!s(V)&&!F.isFrame)throw new t('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:V});V=w(V);for(const k of V)if(s(k)&&k!=="ltr"&&k!=="rtl")throw new t('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:V});A(q,"@direction",V,{propertyIsArray:F.isFrame});continue}if(ve==="@index"){if(!s(V))throw new t('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:V});A(q,"@index",V);continue}if(ve==="@reverse"){if(!r(V))throw new t('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:V});if(le=await T.expand({activeCtx:U,activeProperty:"@reverse",element:V,options:F}),"@reverse"in le)for(const X in le["@reverse"])A(q,X,le["@reverse"][X],{propertyIsArray:!0});let k=q["@reverse"]||null;for(const X in le){if(X==="@reverse")continue;k===null&&(k=q["@reverse"]={}),A(k,X,[],{propertyIsArray:!0});const he=le[X];for(let fe=0;fe<he.length;++fe){const pe=he[fe];if(a(pe)||o(pe))throw new t('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:le});A(k,X,pe,{propertyIsArray:!0})}}continue}if(ve==="@nest"){ae.push(H);continue}let ce=U;const Te=d(U,H,"@context");i(Te)||(ce=await h({activeCtx:U,localCtx:Te,propagate:!0,overrideProtected:!0,options:F}));const L=d(U,H,"@container")||[];if(L.includes("@language")&&r(V)){const k=d(ce,H,"@direction");le=W(ce,V,k,F)}else if(L.includes("@index")&&r(V)){const k=L.includes("@graph"),X=d(ce,H,"@index")||"@index",he=X!=="@index"&&u(U,X,{vocab:!0},F);le=await B({activeCtx:ce,options:F,activeProperty:H,value:V,asGraph:k,indexKey:X,propertyIndex:he})}else if(L.includes("@id")&&r(V)){const k=L.includes("@graph");le=await B({activeCtx:ce,options:F,activeProperty:H,value:V,asGraph:k,indexKey:"@id"})}else if(L.includes("@type")&&r(V))le=await B({activeCtx:ce.revertToPreviousContext(),options:F,activeProperty:H,value:V,asGraph:!1,indexKey:"@type"});else{const k=ve==="@list";if(k||ve==="@set"){let X=M;k&&te==="@graph"&&(X=null),le=await T.expand({activeCtx:ce,activeProperty:X,element:V,options:F,insideList:k})}else d(U,H,"@type")==="@json"?le={"@type":"@json","@value":V}:le=await T.expand({activeCtx:ce,activeProperty:H,element:V,options:F,insideList:!1})}if(!(le===null&&ve!=="@value")){if(ve!=="@list"&&!o(le)&&L.includes("@list")&&(le={"@list":w(le)}),L.includes("@graph")&&!L.some(k=>k==="@id"||k==="@index")){if(le=w(le),F.isFrame||(le=le.filter(k=>{const X=Object.keys(k).length;return I({value:k,count:X,options:F})!==null})),le.length===0)continue;le=le.map(k=>({"@graph":w(k)}))}if(ce.mappings.has(H)&&ce.mappings.get(H).reverse){const k=q["@reverse"]=q["@reverse"]||{};le=w(le);for(let X=0;X<le.length;++X){const he=le[X];if(a(he)||o(he))throw new t('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:le});A(k,ve,he,{propertyIsArray:!0})}continue}A(q,ve,le,{propertyIsArray:!0})}}if("@value"in q&&!(q["@type"]==="@json"&&m(U,1.1))){if((r(we)||e(we))&&!F.isFrame)throw new t('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:we})}for(const H of ae){const V=e(R[H])?R[H]:[R[H]];for(const le of V){if(!r(le)||Object.keys(le).some(ve=>u(U,ve,{vocab:!0},F)==="@value"))throw new t("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:le});await O({activeCtx:U,activeProperty:M,expandedActiveProperty:te,element:le,expandedParent:q,options:F,insideList:ee,typeScopedContext:se,typeKey:j})}}}function P({activeCtx:U,activeProperty:M,value:te,options:R}){if(te==null)return null;const q=u(U,M,{vocab:!0},R);if(q==="@id")return u(U,te,{base:!0},R);if(q==="@type")return u(U,te,{vocab:!0,base:!0},{...R,typeExpansion:!0});const F=d(U,M,"@type");if((F==="@id"||q==="@graph")&&s(te)){const j=u(U,te,{base:!0},R);return j===null&&te.match(x)&&R.eventHandler&&E({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:M}},options:R}),{"@id":j}}if(F==="@vocab"&&s(te))return{"@id":u(U,te,{vocab:!0,base:!0},R)};if(f(q))return te;const ee={};if(F&&!["@id","@vocab","@none"].includes(F))ee["@type"]=F;else if(s(te)){const j=d(U,M,"@language");j!==null&&(ee["@language"]=j);const se=d(U,M,"@direction");se!==null&&(ee["@direction"]=se)}return["boolean","number","string"].includes(typeof te)||(te=te.toString()),ee["@value"]=te,ee}function W(U,M,te,R){const q=[],F=Object.keys(M).sort();for(const ee of F){const j=u(U,ee,{vocab:!0},R);let se=M[ee];e(se)||(se=[se]);for(const oe of se){if(oe===null)continue;if(!s(oe))throw new t("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:M});const ae={"@value":oe};j!=="@none"&&(ee.match(_)||R.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ee}},options:R}),ae["@language"]=ee.toLowerCase()),te&&(ae["@direction"]=te),q.push(ae)}}return q}async function B({activeCtx:U,options:M,activeProperty:te,value:R,asGraph:q,indexKey:F,propertyIndex:ee}){const j=[],se=Object.keys(R).sort(),oe=F==="@type";for(let ae of se){if(oe){const H=d(U,ae,"@context");i(H)||(U=await h({activeCtx:U,localCtx:H,propagate:!1,options:M}))}let we=R[ae];e(we)||(we=[we]),we=await T.expand({activeCtx:U,activeProperty:te,element:we,options:M,insideList:!1,insideIndex:!0});let z;ee?ae==="@none"?z="@none":z=P({activeCtx:U,activeProperty:F,value:ae,options:M}):z=u(U,ae,{vocab:!0},M),F==="@id"?ae=u(U,ae,{base:!0},M):oe&&(ae=z);for(let H of we){if(q&&!l(H)&&(H={"@graph":[H]}),F==="@type")z==="@none"||(H["@type"]?H["@type"]=[ae].concat(H["@type"]):H["@type"]=[ae]);else{if(a(H)&&!["@language","@type","@index"].includes(F))throw new t(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${F}".`,"jsonld.SyntaxError",{code:"invalid value object",value:H});ee?z!=="@none"&&A(H,ee,z,{propertyIsArray:!0,prependValue:!0}):z!=="@none"&&!(F in H)&&(H[F]=ae)}j.push(H)}}return j}return Iu}var Tu,$m;function Ql(){if($m)return Tu;$m=1;const{isKeyword:t}=ai(),e=ls(),r=Mr(),n=Kr(),s=Qr(),i={};return Tu=i,i.createMergedNodeMap=(o,a)=>{a=a||{};const l=a.issuer||new n.IdentifierIssuer("_:b"),c={"@default":{}};return i.createNodeMap(o,c,"@default",l),i.mergeNodeMaps(c)},i.createNodeMap=(o,a,l,c,u,d)=>{if(r.isArray(o)){for(const y of o)i.createNodeMap(y,a,l,c,void 0,d);return}if(!r.isObject(o)){d&&d.push(o);return}if(e.isValue(o)){if("@type"in o){let y=o["@type"];y.indexOf("_:")===0&&(o["@type"]=y=c.getId(y))}d&&d.push(o);return}else if(d&&e.isList(o)){const y=[];i.createNodeMap(o["@list"],a,l,c,u,y),d.push({"@list":y});return}if("@type"in o){const y=o["@type"];for(const _ of y)_.indexOf("_:")===0&&c.getId(_)}r.isUndefined(u)&&(u=e.isBlankNode(o)?c.getId(o["@id"]):o["@id"]),d&&d.push({"@id":u});const f=a[l],h=f[u]=f[u]||{};h["@id"]=u;const m=Object.keys(o).sort();for(let y of m){if(y==="@id")continue;if(y==="@reverse"){const x={"@id":u},A=o["@reverse"];for(const w in A){const p=A[w];for(const b of p){let E=b["@id"];e.isBlankNode(b)&&(E=c.getId(E)),i.createNodeMap(b,a,l,c,E),n.addValue(f[E],w,x,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(y==="@graph"){u in a||(a[u]={}),i.createNodeMap(o[y],a,u,c);continue}if(y==="@included"){i.createNodeMap(o[y],a,l,c);continue}if(y!=="@type"&&t(y)){if(y==="@index"&&y in h&&(o[y]!==h[y]||o[y]["@id"]!==h[y]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[y]=o[y];continue}const _=o[y];if(y.indexOf("_:")===0&&(y=c.getId(y)),_.length===0){n.addValue(h,y,[],{propertyIsArray:!0});continue}for(let x of _)if(y==="@type"&&(x=x.indexOf("_:")===0?c.getId(x):x),e.isSubject(x)||e.isSubjectReference(x)){if("@id"in x&&!x["@id"])continue;const A=e.isBlankNode(x)?c.getId(x["@id"]):x["@id"];n.addValue(h,y,{"@id":A},{propertyIsArray:!0,allowDuplicate:!1}),i.createNodeMap(x,a,l,c,A)}else if(e.isValue(x))n.addValue(h,y,x,{propertyIsArray:!0,allowDuplicate:!1});else if(e.isList(x)){const A=[];i.createNodeMap(x["@list"],a,l,c,u,A),x={"@list":A},n.addValue(h,y,x,{propertyIsArray:!0,allowDuplicate:!1})}else i.createNodeMap(x,a,l,c,u),n.addValue(h,y,x,{propertyIsArray:!0,allowDuplicate:!1})}},i.mergeNodeMapGraphs=o=>{const a={};for(const l of Object.keys(o).sort())for(const c of Object.keys(o[l]).sort()){const u=o[l][c];c in a||(a[c]={"@id":c});const d=a[c];for(const f of Object.keys(u).sort())if(t(f)&&f!=="@type")d[f]=n.clone(u[f]);else for(const h of u[f])n.addValue(d,f,n.clone(h),{propertyIsArray:!0,allowDuplicate:!1})}return a},i.mergeNodeMaps=o=>{const a=o["@default"],l=Object.keys(o).sort();for(const c of l){if(c==="@default")continue;const u=o[c];let d=a[c];d?"@graph"in d||(d["@graph"]=[]):a[c]=d={"@id":c,"@graph":[]};const f=d["@graph"];for(const h of Object.keys(u).sort()){const m=u[h];e.isSubjectReference(m)||f.push(m)}}return a},Tu}var Ru,Lm;function TE(){if(Lm)return Ru;Lm=1;const{isSubjectReference:t}=ls(),{createMergedNodeMap:e}=Ql(),r={};return Ru=r,r.flatten=n=>{const s=e(n),i=[],o=Object.keys(s).sort();for(let a=0;a<o.length;++a){const l=s[o[a]];t(l)||i.push(l)}return i},Ru}var Ou,Nm;function RE(){if(Nm)return Ou;Nm=1;const t=Qr(),e=ls(),r=Mr(),{REGEX_BCP47:n,addValue:s}=Kr(),{handleEvent:i}=ia(),{RDF_LIST:o,RDF_FIRST:a,RDF_REST:l,RDF_NIL:c,RDF_TYPE:u,RDF_JSON_LITERAL:d,XSD_BOOLEAN:f,XSD_DOUBLE:h,XSD_INTEGER:m,XSD_STRING:y}=Zf(),_={};Ou=_,_.fromRDF=async(A,w)=>{const{useRdfType:p=!1,useNativeTypes:b=!1,rdfDirection:E=null}=w,T={},I={"@default":T},O={};if(E){if(E==="compound-literal")throw new t("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:E});if(E!=="i18n-datatype")throw new t("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:E})}for(const B of A){const U=B.graph.termType==="DefaultGraph"?"@default":B.graph.value;U in I||(I[U]={}),U!=="@default"&&!(U in T)&&(T[U]={"@id":U});const M=I[U],te=B.subject.value,R=B.predicate.value,q=B.object;te in M||(M[te]={"@id":te});const F=M[te],ee=q.termType.endsWith("Node");if(ee&&!(q.value in M)&&(M[q.value]={"@id":q.value}),R===u&&!p&&ee){s(F,"@type",q.value,{propertyIsArray:!0});continue}const j=x(q,b,E,w);if(s(F,R,j,{propertyIsArray:!0}),ee)if(q.value===c){const se=M[q.value];"usages"in se||(se.usages=[]),se.usages.push({node:F,property:R,value:j})}else q.value in O?O[q.value]=!1:O[q.value]={node:F,property:R,value:j}}for(const B in I){const U=I[B];if(!(c in U))continue;const M=U[c];if(M.usages){for(let te of M.usages){let R=te.node,q=te.property,F=te.value;const ee=[],j=[];let se=Object.keys(R).length;for(;q===l&&r.isObject(O[R["@id"]])&&r.isArray(R[a])&&R[a].length===1&&r.isArray(R[l])&&R[l].length===1&&(se===3||se===4&&r.isArray(R["@type"])&&R["@type"].length===1&&R["@type"][0]===o)&&(ee.push(R[a][0]),j.push(R["@id"]),te=O[R["@id"]],R=te.node,q=te.property,F=te.value,se=Object.keys(R).length,!!e.isBlankNode(R)););delete F["@id"],F["@list"]=ee.reverse();for(const oe of j)delete U[oe]}delete M.usages}}const P=[],W=Object.keys(T).sort();for(const B of W){const U=T[B];if(B in I){const M=U["@graph"]=[],te=I[B],R=Object.keys(te).sort();for(const q of R){const F=te[q];e.isSubjectReference(F)||M.push(F)}}e.isSubjectReference(U)||P.push(U)}return P};function x(A,w,p,b){if(A.termType.endsWith("Node"))return{"@id":A.value};const E={"@value":A.value};if(A.language)A.language.match(n)||b.eventHandler&&i({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:A.language}},options:b}),E["@language"]=A.language;else{let T=A.datatype.value;if(T||(T=y),T===d){T="@json";try{E["@value"]=JSON.parse(E["@value"])}catch(I){throw new t("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:E["@value"],cause:I})}}if(w){if(T===f)E["@value"]==="true"?E["@value"]=!0:E["@value"]==="false"&&(E["@value"]=!1);else if(r.isNumeric(E["@value"]))if(T===m){const I=parseInt(E["@value"],10);I.toFixed(0)===E["@value"]&&(E["@value"]=I)}else T===h&&(E["@value"]=parseFloat(E["@value"]));[f,m,h,y].includes(T)||(E["@type"]=T)}else if(p==="i18n-datatype"&&T.startsWith("https://www.w3.org/ns/i18n#")){const[,I,O]=T.split(/[#_]/);I.length>0&&(E["@language"]=I,I.match(n)||b.eventHandler&&i({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:I}},options:b})),E["@direction"]=O}else T!==y&&(E["@type"]=T)}return E}return Ou}var Cu,Mm;function OE(){return Mm||(Mm=1,Cu=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((r,n,s)=>{const i=s===0?"":",",o=n===void 0||typeof n=="symbol"?null:n;return r+i+t(o)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,s)=>{if(e[n]===void 0||typeof e[n]=="symbol")return r;const i=r.length===0?"":",";return r+i+t(n)+":"+t(e[n])},"")+"}"}),Cu}var ku,Fm;function CE(){if(Fm)return ku;Fm=1;const{createNodeMap:t}=Ql(),{isKeyword:e}=ai(),r=ls(),n=OE(),s=Qr(),i=Mr(),o=Kr(),{handleEvent:a}=ia(),{RDF_FIRST:l,RDF_REST:c,RDF_NIL:u,RDF_TYPE:d,RDF_JSON_LITERAL:f,RDF_LANGSTRING:h,XSD_BOOLEAN:m,XSD_DOUBLE:y,XSD_INTEGER:_,XSD_STRING:x}=Zf(),{isAbsolute:A}=Ms(),w={};ku=w,w.toRDF=(T,I)=>{const O=new o.IdentifierIssuer("_:b"),P={"@default":{}};t(T,P,"@default",O);const W=[],B=Object.keys(P).sort();for(const U of B){let M;if(U==="@default")M={termType:"DefaultGraph",value:""};else if(A(U))U.startsWith("_:")?M={termType:"BlankNode"}:M={termType:"NamedNode"},M.value=U;else{I.eventHandler&&a({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:U}},options:I});continue}p(W,P[U],M,O,I)}return W};function p(T,I,O,P,W){const B=Object.keys(I).sort();for(const U of B){const M=I[U],te=Object.keys(M).sort();for(let R of te){const q=M[R];if(R==="@type")R=d;else if(e(R))continue;for(const F of q){const ee={termType:U.startsWith("_:")?"BlankNode":"NamedNode",value:U};if(!A(U)){W.eventHandler&&a({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:U}},options:W});continue}const j={termType:R.startsWith("_:")?"BlankNode":"NamedNode",value:R};if(!A(R)){W.eventHandler&&a({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:R}},options:W});continue}if(j.termType==="BlankNode"&&!W.produceGeneralizedRdf){W.eventHandler&&a({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:P.getOldIds().find(oe=>P.getId(oe)===R)}},options:W});continue}const se=E(F,P,T,O,W.rdfDirection,W);se&&T.push({subject:ee,predicate:j,object:se,graph:O})}}}}function b(T,I,O,P,W,B){const U={termType:"NamedNode",value:l},M={termType:"NamedNode",value:c},te={termType:"NamedNode",value:u},R=T.pop(),q=R?{termType:"BlankNode",value:I.getId()}:te;let F=q;for(const ee of T){const j=E(ee,I,O,P,W,B),se={termType:"BlankNode",value:I.getId()};O.push({subject:F,predicate:U,object:j,graph:P}),O.push({subject:F,predicate:M,object:se,graph:P}),F=se}if(R){const ee=E(R,I,O,P,W,B);O.push({subject:F,predicate:U,object:ee,graph:P}),O.push({subject:F,predicate:M,object:te,graph:P})}return q}function E(T,I,O,P,W,B){const U={};if(r.isValue(T)){U.termType="Literal",U.value=void 0,U.datatype={termType:"NamedNode"};let M=T["@value"];const te=T["@type"]||null;if(te==="@json")U.value=n(M),U.datatype.value=f;else if(i.isBoolean(M))U.value=M.toString(),U.datatype.value=te||m;else if(i.isDouble(M)||te===y)i.isDouble(M)||(M=parseFloat(M)),U.value=M.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),U.datatype.value=te||y;else if(i.isNumber(M))U.value=M.toFixed(0),U.datatype.value=te||_;else if("@direction"in T&&W==="i18n-datatype"){const R=(T["@language"]||"").toLowerCase(),q=T["@direction"],F=`https://www.w3.org/ns/i18n#${R}_${q}`;U.datatype.value=F,U.value=M}else{if("@direction"in T&&W==="compound-literal")throw new s("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:W});if("@direction"in T&&W)throw new s("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:W});"@language"in T?("@direction"in T&&!W&&B.eventHandler&&a({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:U.value}},options:B}),U.value=M,U.datatype.value=te||h,U.language=T["@language"]):("@direction"in T&&!W&&B.eventHandler&&a({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:U.value}},options:B}),U.value=M,U.datatype.value=te||x)}}else if(r.isList(T)){const M=b(T["@list"],I,O,P,W,B);U.termType=M.termType,U.value=M.value}else{const M=i.isObject(T)?T["@id"]:T;U.termType=M.startsWith("_:")?"BlankNode":"NamedNode",U.value=M}return U.termType==="NamedNode"&&!A(U.value)?(B.eventHandler&&a({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:U.value}},options:B}),null):U}return ku}var Du,jm;function kE(){if(jm)return Du;jm=1;const{isKeyword:t}=ai(),e=ls(),r=Mr(),n=Kr(),s=Ms(),i=Qr(),{createNodeMap:o,mergeNodeMapGraphs:a}=Ql(),l={};Du=l,l.frameMergedOrDefault=(p,b,E)=>{const T={options:E,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},I=new n.IdentifierIssuer("_:b");o(p,T.graphMap,"@default",I),E.merged&&(T.graphMap["@merged"]=a(T.graphMap),T.graph="@merged"),T.subjects=T.graphMap[T.graph];const O=[];l.frame(T,Object.keys(T.subjects).sort(),b,O),E.pruneBlankNodeIdentifiers&&(E.bnodesToClear=Object.keys(T.bnodeMap).filter(P=>T.bnodeMap[P].length===1));// remove @preserve from results
return E.link={},_(O,E)},l.frame=(p,b,E,T,I=null)=>{f(E),E=E[0];const O=p.options,P={embed:d(E,O,"embed"),explicit:d(E,O,"explicit"),requireAll:d(E,O,"requireAll")};p.link.hasOwnProperty(p.graph)||(p.link[p.graph]={});const W=p.link[p.graph],B=h(p,b,E,P),U=Object.keys(B).sort();for(const M of U){const te=B[M];if(I===null?p.uniqueEmbeds={[p.graph]:{}}:p.uniqueEmbeds[p.graph]=p.uniqueEmbeds[p.graph]||{},P.embed==="@link"&&M in W){x(T,I,W[M]);continue}const R={"@id":M};if(M.indexOf("_:")===0&&n.addValue(p.bnodeMap,M,R,{propertyIsArray:!0}),W[M]=R,(P.embed==="@first"||P.embed==="@last")&&p.is11)throw new i("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:E});if(!(!p.embedded&&p.uniqueEmbeds[p.graph].hasOwnProperty(M))){if(p.embedded&&(P.embed==="@never"||u(te,p.graph,p.subjectStack))){x(T,I,R);continue}if(p.embedded&&(P.embed=="@first"||P.embed=="@once")&&p.uniqueEmbeds[p.graph].hasOwnProperty(M)){x(T,I,R);continue}if(P.embed==="@last"&&M in p.uniqueEmbeds[p.graph]&&y(p,M),p.uniqueEmbeds[p.graph][M]={parent:T,property:I},p.subjectStack.push({subject:te,graph:p.graph}),M in p.graphMap){let q=!1,F=null;"@graph"in E?(F=E["@graph"][0],q=!(M==="@merged"||M==="@default"),r.isObject(F)||(F={})):(q=p.graph!=="@merged",F={}),q&&l.frame({...p,graph:M,embedded:!1},Object.keys(p.graphMap[M]).sort(),[F],R,"@graph")}"@included"in E&&l.frame({...p,embedded:!1},b,E["@included"],R,"@included");for(const q of Object.keys(te).sort()){if(t(q)){if(R[q]=n.clone(te[q]),q==="@type")for(const F of te["@type"])F.indexOf("_:")===0&&n.addValue(p.bnodeMap,F,R,{propertyIsArray:!0});continue}if(!(P.explicit&&!(q in E)))for(const F of te[q]){const ee=q in E?E[q]:c(P);if(e.isList(F)){const j=E[q]&&E[q][0]&&E[q][0]["@list"]?E[q][0]["@list"]:c(P),se={"@list":[]};x(R,q,se);const oe=F["@list"];for(const ae of oe)e.isSubjectReference(ae)?l.frame({...p,embedded:!0},[ae["@id"]],j,se,"@list"):x(se,"@list",n.clone(ae))}else e.isSubjectReference(F)?l.frame({...p,embedded:!0},[F["@id"]],ee,R,q):w(ee[0],F)&&x(R,q,n.clone(F))}}for(const q of Object.keys(E).sort()){if(q==="@type"){if(!r.isObject(E[q][0])||!("@default"in E[q][0]))continue}else if(t(q))continue;const F=E[q][0]||{};if(!d(F,O,"omitDefault")&&!(q in R)){let j="@null";"@default"in F&&(j=n.clone(F["@default"])),r.isArray(j)||(j=[j]),R[q]=[{"@preserve":j}]}}for(const q of Object.keys(E["@reverse"]||{}).sort()){const F=E["@reverse"][q];for(const ee of Object.keys(p.subjects))n.getValues(p.subjects[ee],q).some(se=>se["@id"]===M)&&(R["@reverse"]=R["@reverse"]||{},n.addValue(R["@reverse"],q,[],{propertyIsArray:!0}),l.frame({...p,embedded:!0},[ee],F,R["@reverse"][q],I))}x(T,I,R),p.subjectStack.pop()}}},l.cleanupNull=(p,b)=>{if(r.isArray(p))return p.map(T=>l.cleanupNull(T,b)).filter(T=>T);if(p==="@null")return null;if(r.isObject(p)){if("@id"in p){const E=p["@id"];if(b.link.hasOwnProperty(E)){const T=b.link[E].indexOf(p);if(T!==-1)return b.link[E][T];b.link[E].push(p)}else b.link[E]=[p]}for(const E in p)p[E]=l.cleanupNull(p[E],b)}return p};function c(p){const b={};for(const E in p)p[E]!==void 0&&(b["@"+E]=[p[E]]);return[b]}function u(p,b,E){for(let T=E.length-1;T>=0;--T){const I=E[T];if(I.graph===b&&I.subject["@id"]===p["@id"])return!0}return!1}function d(p,b,E){const T="@"+E;let I=T in p?p[T][0]:b[E];if(E==="embed"){if(I===!0)I="@once";else if(I===!1)I="@never";else if(I!=="@always"&&I!=="@never"&&I!=="@link"&&I!=="@first"&&I!=="@last"&&I!=="@once")throw new i("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:p})}return I}function f(p){if(!r.isArray(p)||p.length!==1||!r.isObject(p[0]))throw new i("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:p});if("@id"in p[0]){for(const b of n.asArray(p[0]["@id"]))if(!(r.isObject(b)||s.isAbsolute(b))||r.isString(b)&&b.indexOf("_:")===0)throw new i("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:p})}if("@type"in p[0]){for(const b of n.asArray(p[0]["@type"]))if(!(r.isObject(b)||s.isAbsolute(b)||b==="@json")||r.isString(b)&&b.indexOf("_:")===0)throw new i("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:p})}}function h(p,b,E,T){const I={};for(const O of b){const P=p.graphMap[p.graph][O];m(p,P,E,T)&&(I[O]=P)}return I}function m(p,b,E,T){let I=!0,O=!1;for(const P in E){let W=!1;const B=n.getValues(b,P),U=n.getValues(E,P).length===0;if(P==="@id"){if(r.isEmptyObject(E["@id"][0]||{})?W=!0:E["@id"].length>=0&&(W=E["@id"].includes(B[0])),!T.requireAll)return W}else if(P==="@type"){if(I=!1,U){if(B.length>0)return!1;W=!0}else if(E["@type"].length===1&&r.isEmptyObject(E["@type"][0]))W=B.length>0;else for(const M of E["@type"])r.isObject(M)&&"@default"in M?W=!0:W=W||B.some(te=>te===M);if(!T.requireAll)return W}else{if(t(P))continue;{const M=n.getValues(E,P)[0];let te=!1;if(M&&(f([M]),te="@default"in M),I=!1,B.length===0&&te)continue;if(B.length>0&&U)return!1;if(M===void 0){if(B.length>0)return!1;W=!0}else if(e.isList(M)){const R=M["@list"][0];if(e.isList(B[0])){const q=B[0]["@list"];e.isValue(R)?W=q.some(F=>w(R,F)):(e.isSubject(R)||e.isSubjectReference(R))&&(W=q.some(F=>A(p,R,F,T)))}}else e.isValue(M)?W=B.some(R=>w(M,R)):e.isSubjectReference(M)?W=B.some(R=>A(p,M,R,T)):r.isObject(M)?W=B.length>0:W=!1}}if(!W&&T.requireAll)return!1;O=O||W}return I||O}function y(p,b){const E=p.uniqueEmbeds[p.graph],T=E[b],I=T.parent,O=T.property,P={"@id":b};if(r.isArray(I)){for(let B=0;B<I.length;++B)if(n.compareValues(I[B],P)){I[B]=P;break}}else{const B=r.isArray(I[O]);n.removeValue(I,O,P,{propertyIsArray:B}),n.addValue(I,O,P,{propertyIsArray:B})}const W=B=>{const U=Object.keys(E);for(const M of U)M in E&&r.isObject(E[M].parent)&&E[M].parent["@id"]===B&&(delete E[M],W(M))};W(b)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function _(p,b){if(r.isArray(p))return p.map(E=>_(E,b));if(r.isObject(p)){// remove @preserve
if("@preserve"in p)return p["@preserve"][0];if(e.isValue(p))return p;if(e.isList(p))return p["@list"]=_(p["@list"],b),p;if("@id"in p){const E=p["@id"];if(b.link.hasOwnProperty(E)){const T=b.link[E].indexOf(p);if(T!==-1)return b.link[E][T];b.link[E].push(p)}else b.link[E]=[p]}for(const E in p){if(E==="@id"&&b.bnodesToClear.includes(p[E])){delete p["@id"];continue}p[E]=_(p[E],b)}}return p}function x(p,b,E){r.isObject(p)?n.addValue(p,b,E,{propertyIsArray:!0}):p.push(E)}function A(p,b,E,T){if(!("@id"in E))return!1;const I=p.subjects[E["@id"]];return I&&m(p,I,b,T)}function w(p,b){const E=b["@value"],T=b["@type"],I=b["@language"],O=p["@value"]?r.isArray(p["@value"])?p["@value"]:[p["@value"]]:[],P=p["@type"]?r.isArray(p["@type"])?p["@type"]:[p["@type"]]:[],W=p["@language"]?r.isArray(p["@language"])?p["@language"]:[p["@language"]]:[];return O.length===0&&P.length===0&&W.length===0?!0:!(!(O.includes(E)||r.isEmptyObject(O[0]))||!(!T&&P.length===0||P.includes(T)||T&&r.isEmptyObject(P[0]))||!(!I&&W.length===0||W.includes(I)||I&&r.isEmptyObject(W[0])))}return Du}var Pu,Um;function DE(){if(Um)return Pu;Um=1;const t=Qr(),{isArray:e,isObject:r,isString:n,isUndefined:s}=Mr(),{isList:i,isValue:o,isGraph:a,isSimpleGraph:l,isSubjectReference:c}=ls(),{expandIri:u,getContextValue:d,isKeyword:f,process:h,processingMode:m}=ai(),{removeBase:y,prependBase:_}=Ms(),{REGEX_KEYWORD:x,addValue:A,asArray:w,compareShortestLeast:p}=Kr(),b={};Pu=b,b.compact=async({activeCtx:I,activeProperty:O=null,element:P,options:W={}})=>{if(e(P)){let U=[];for(let M=0;M<P.length;++M){const te=await b.compact({activeCtx:I,activeProperty:O,element:P[M],options:W});te!==null&&U.push(te)}return W.compactArrays&&U.length===1&&(d(I,O,"@container")||[]).length===0&&(U=U[0]),U}const B=d(I,O,"@context");if(s(B)||(I=await h({activeCtx:I,localCtx:B,propagate:!0,overrideProtected:!0,options:W})),r(P)){if(W.link&&"@id"in P&&W.link.hasOwnProperty(P["@id"])){const j=W.link[P["@id"]];for(let se=0;se<j.length;++se)if(j[se].expanded===P)return j[se].compacted}if(o(P)||c(P)){const j=b.compactValue({activeCtx:I,activeProperty:O,value:P,options:W});return W.link&&c(P)&&(W.link.hasOwnProperty(P["@id"])||(W.link[P["@id"]]=[]),W.link[P["@id"]].push({expanded:P,compacted:j})),j}if(i(P)&&(d(I,O,"@container")||[]).includes("@list"))return b.compact({activeCtx:I,activeProperty:O,element:P["@list"],options:W});const U=O==="@reverse",M={},te=I;!o(P)&&!c(P)&&(I=I.revertToPreviousContext());const R=d(te,O,"@context");s(R)||(I=await h({activeCtx:I,localCtx:R,propagate:!0,overrideProtected:!0,options:W})),W.link&&"@id"in P&&(W.link.hasOwnProperty(P["@id"])||(W.link[P["@id"]]=[]),W.link[P["@id"]].push({expanded:P,compacted:M}));let q=P["@type"]||[];q.length>1&&(q=Array.from(q).sort());const F=I;for(const j of q){const se=b.compactIri({activeCtx:F,iri:j,relativeTo:{vocab:!0}}),oe=d(te,se,"@context");s(oe)||(I=await h({activeCtx:I,localCtx:oe,options:W,propagate:!1}))}const ee=Object.keys(P).sort();for(const j of ee){const se=P[j];if(j==="@id"){let oe=w(se).map(we=>b.compactIri({activeCtx:I,iri:we,relativeTo:{vocab:!1},base:W.base}));oe.length===1&&(oe=oe[0]);const ae=b.compactIri({activeCtx:I,iri:"@id",relativeTo:{vocab:!0}});M[ae]=oe;continue}if(j==="@type"){let oe=w(se).map(V=>b.compactIri({activeCtx:te,iri:V,relativeTo:{vocab:!0}}));oe.length===1&&(oe=oe[0]);const ae=b.compactIri({activeCtx:I,iri:"@type",relativeTo:{vocab:!0}}),H=(d(I,ae,"@container")||[]).includes("@set")&&m(I,1.1)||e(oe)&&se.length===0;A(M,ae,oe,{propertyIsArray:H});continue}if(j==="@reverse"){const oe=await b.compact({activeCtx:I,activeProperty:"@reverse",element:se,options:W});for(const ae in oe)if(I.mappings.has(ae)&&I.mappings.get(ae).reverse){const we=oe[ae],H=(d(I,ae,"@container")||[]).includes("@set")||!W.compactArrays;A(M,ae,we,{propertyIsArray:H}),delete oe[ae]}if(Object.keys(oe).length>0){const ae=b.compactIri({activeCtx:I,iri:j,relativeTo:{vocab:!0}});A(M,ae,oe)}continue}if(j==="@preserve"){const oe=await b.compact({activeCtx:I,activeProperty:O,element:se,options:W});e(oe)&&oe.length===0||A(M,j,oe);continue}if(j==="@index"){if((d(I,O,"@container")||[]).includes("@index"))continue;const ae=b.compactIri({activeCtx:I,iri:j,relativeTo:{vocab:!0}});A(M,ae,se);continue}if(j!=="@graph"&&j!=="@list"&&j!=="@included"&&f(j)){const oe=b.compactIri({activeCtx:I,iri:j,relativeTo:{vocab:!0}});A(M,oe,se);continue}if(!e(se))throw new t("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(se.length===0){const oe=b.compactIri({activeCtx:I,iri:j,value:se,relativeTo:{vocab:!0},reverse:U}),ae=I.mappings.has(oe)?I.mappings.get(oe)["@nest"]:null;let we=M;ae&&(T(I,ae,W),r(M[ae])||(M[ae]={}),we=M[ae]),A(we,oe,se,{propertyIsArray:!0})}for(const oe of se){const ae=b.compactIri({activeCtx:I,iri:j,value:oe,relativeTo:{vocab:!0},reverse:U}),we=I.mappings.has(ae)?I.mappings.get(ae)["@nest"]:null;let z=M;we&&(T(I,we,W),r(M[we])||(M[we]={}),z=M[we]);const H=d(I,ae,"@container")||[],V=a(oe),le=i(oe);let ve;le?ve=oe["@list"]:V&&(ve=oe["@graph"]);let ce=await b.compact({activeCtx:I,activeProperty:ae,element:le||V?ve:oe,options:W});if(le)if(e(ce)||(ce=[ce]),!H.includes("@list"))ce={[b.compactIri({activeCtx:I,iri:"@list",relativeTo:{vocab:!0}})]:ce},"@index"in oe&&(ce[b.compactIri({activeCtx:I,iri:"@index",relativeTo:{vocab:!0}})]=oe["@index"]);else{A(z,ae,ce,{valueIsArray:!0,allowDuplicate:!0});continue}if(V)if(H.includes("@graph")&&(H.includes("@id")||H.includes("@index")&&l(oe))){let Te;z.hasOwnProperty(ae)?Te=z[ae]:z[ae]=Te={};const L=(H.includes("@id")?oe["@id"]:oe["@index"])||b.compactIri({activeCtx:I,iri:"@none",relativeTo:{vocab:!0}});A(Te,L,ce,{propertyIsArray:!W.compactArrays||H.includes("@set")})}else H.includes("@graph")&&l(oe)?(e(ce)&&ce.length>1&&(ce={"@included":ce}),A(z,ae,ce,{propertyIsArray:!W.compactArrays||H.includes("@set")})):(e(ce)&&ce.length===1&&W.compactArrays&&(ce=ce[0]),ce={[b.compactIri({activeCtx:I,iri:"@graph",relativeTo:{vocab:!0}})]:ce},"@id"in oe&&(ce[b.compactIri({activeCtx:I,iri:"@id",relativeTo:{vocab:!0}})]=oe["@id"]),"@index"in oe&&(ce[b.compactIri({activeCtx:I,iri:"@index",relativeTo:{vocab:!0}})]=oe["@index"]),A(z,ae,ce,{propertyIsArray:!W.compactArrays||H.includes("@set")}));else if(H.includes("@language")||H.includes("@index")||H.includes("@id")||H.includes("@type")){let Te;z.hasOwnProperty(ae)?Te=z[ae]:z[ae]=Te={};let L;if(H.includes("@language"))o(ce)&&(ce=ce["@value"]),L=oe["@language"];else if(H.includes("@index")){const k=d(I,ae,"@index")||"@index",X=b.compactIri({activeCtx:I,iri:k,relativeTo:{vocab:!0}});if(k==="@index")L=oe["@index"],delete ce[X];else{let he;if([L,...he]=w(ce[k]||[]),!n(L))L=null;else switch(he.length){case 0:delete ce[k];break;case 1:ce[k]=he[0];break;default:ce[k]=he;break}}}else if(H.includes("@id")){const k=b.compactIri({activeCtx:I,iri:"@id",relativeTo:{vocab:!0}});L=ce[k],delete ce[k]}else if(H.includes("@type")){const k=b.compactIri({activeCtx:I,iri:"@type",relativeTo:{vocab:!0}});let X;switch([L,...X]=w(ce[k]||[]),X.length){case 0:delete ce[k];break;case 1:ce[k]=X[0];break;default:ce[k]=X;break}Object.keys(ce).length===1&&"@id"in oe&&(ce=await b.compact({activeCtx:I,activeProperty:ae,element:{"@id":oe["@id"]},options:W}))}L||(L=b.compactIri({activeCtx:I,iri:"@none",relativeTo:{vocab:!0}})),A(Te,L,ce,{propertyIsArray:H.includes("@set")})}else{const Te=!W.compactArrays||H.includes("@set")||H.includes("@list")||e(ce)&&ce.length===0||j==="@list"||j==="@graph";A(z,ae,ce,{propertyIsArray:Te})}}}return M}return P},b.compactIri=({activeCtx:I,iri:O,value:P=null,relativeTo:W={vocab:!1},reverse:B=!1,base:U=null})=>{if(O===null)return O;I.isPropertyTermScoped&&I.previousContext&&(I=I.previousContext);const M=I.getInverse();if(f(O)&&O in M&&"@none"in M[O]&&"@type"in M[O]["@none"]&&"@none"in M[O]["@none"]["@type"])return M[O]["@none"]["@type"]["@none"];if(W.vocab&&O in M){const ee=I["@language"]||"@none",j=[];r(P)&&"@index"in P&&!("@graph"in P)&&j.push("@index","@index@set"),r(P)&&"@preserve"in P&&(P=P["@preserve"][0]),a(P)?("@index"in P&&j.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in P&&j.push("@graph@id","@graph@id@set"),j.push("@graph","@graph@set","@set"),"@index"in P||j.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in P||j.push("@graph@id","@graph@id@set")):r(P)&&!o(P)&&j.push("@id","@id@set","@type","@set@type");let se="@language",oe="@null";if(B)se="@type",oe="@reverse",j.push("@set");else if(i(P)){"@index"in P||j.push("@list");const we=P["@list"];if(we.length===0)se="@any",oe="@none";else{let z=we.length===0?ee:null,H=null;for(let V=0;V<we.length;++V){const le=we[V];let ve="@none",ce="@none";if(o(le))if("@direction"in le){const Te=(le["@language"]||"").toLowerCase(),L=le["@direction"];ve=`${Te}_${L}`}else"@language"in le?ve=le["@language"].toLowerCase():"@type"in le?ce=le["@type"]:ve="@null";else ce="@id";if(z===null?z=ve:ve!==z&&o(le)&&(z="@none"),H===null?H=ce:ce!==H&&(H="@none"),z==="@none"&&H==="@none")break}z=z||"@none",H=H||"@none",H!=="@none"?(se="@type",oe=H):oe=z}}else{if(o(P))if("@language"in P&&!("@index"in P)){j.push("@language","@language@set"),oe=P["@language"];const we=P["@direction"];we&&(oe=`${oe}_${we}`)}else"@direction"in P&&!("@index"in P)?oe=`_${P["@direction"]}`:"@type"in P&&(se="@type",oe=P["@type"]);else se="@type",oe="@id";j.push("@set")}j.push("@none"),r(P)&&!("@index"in P)&&j.push("@index","@index@set"),o(P)&&Object.keys(P).length===1&&j.push("@language","@language@set");const ae=E(I,O,P,j,se,oe);if(ae!==null)return ae}if(W.vocab&&"@vocab"in I){const ee=I["@vocab"];if(O.indexOf(ee)===0&&O!==ee){const j=O.substr(ee.length);if(!I.mappings.has(j))return j}}let te=null;const R=[];let q=I.fastCurieMap;const F=O.length-1;for(let ee=0;ee<F&&O[ee]in q;++ee)q=q[O[ee]],""in q&&R.push(q[""][0]);for(let ee=R.length-1;ee>=0;--ee){const j=R[ee],se=j.terms;for(const oe of se){const ae=oe+":"+O.substr(j.iri.length);I.mappings.get(oe)._prefix&&(!I.mappings.has(ae)||P===null&&I.mappings.get(ae)["@id"]===O)&&(te===null||p(ae,te)<0)&&(te=ae)}}if(te!==null)return te;for(const[ee,j]of I.mappings)if(j&&j._prefix&&O.startsWith(ee+":"))throw new t(`Absolute IRI "${O}" confused with prefix "${ee}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:I});if(!W.vocab)if("@base"in I)if(I["@base"]){const ee=y(_(U,I["@base"]),O);return x.test(ee)?`./${ee}`:ee}else return O;else return y(U,O);return O},b.compactValue=({activeCtx:I,activeProperty:O,value:P,options:W})=>{if(o(P)){const te=d(I,O,"@type"),R=d(I,O,"@language"),q=d(I,O,"@direction"),F=d(I,O,"@container")||[],ee="@index"in P&&!F.includes("@index");if(!ee&&te!=="@none"&&(P["@type"]===te||"@language"in P&&P["@language"]===R&&"@direction"in P&&P["@direction"]===q||"@language"in P&&P["@language"]===R||"@direction"in P&&P["@direction"]===q))return P["@value"];const j=Object.keys(P).length,se=j===1||j===2&&"@index"in P&&!ee,oe="@language"in I,ae=n(P["@value"]),we=I.mappings.has(O)&&I.mappings.get(O)["@language"]===null;if(se&&te!=="@none"&&(!oe||!ae||we))return P["@value"];const z={};return ee&&(z[b.compactIri({activeCtx:I,iri:"@index",relativeTo:{vocab:!0}})]=P["@index"]),"@type"in P?z[b.compactIri({activeCtx:I,iri:"@type",relativeTo:{vocab:!0}})]=b.compactIri({activeCtx:I,iri:P["@type"],relativeTo:{vocab:!0}}):"@language"in P&&(z[b.compactIri({activeCtx:I,iri:"@language",relativeTo:{vocab:!0}})]=P["@language"]),"@direction"in P&&(z[b.compactIri({activeCtx:I,iri:"@direction",relativeTo:{vocab:!0}})]=P["@direction"]),z[b.compactIri({activeCtx:I,iri:"@value",relativeTo:{vocab:!0}})]=P["@value"],z}const B=u(I,O,{vocab:!0},W),U=d(I,O,"@type"),M=b.compactIri({activeCtx:I,iri:P["@id"],relativeTo:{vocab:U==="@vocab"},base:W.base});return U==="@id"||U==="@vocab"||B==="@graph"?M:{[b.compactIri({activeCtx:I,iri:"@id",relativeTo:{vocab:!0}})]:M}};function E(I,O,P,W,B,U){U===null&&(U="@null");const M=[];if((U==="@id"||U==="@reverse")&&r(P)&&"@id"in P){U==="@reverse"&&M.push("@reverse");const R=b.compactIri({activeCtx:I,iri:P["@id"],relativeTo:{vocab:!0}});I.mappings.has(R)&&I.mappings.get(R)&&I.mappings.get(R)["@id"]===P["@id"]?M.push.apply(M,["@vocab","@id"]):M.push.apply(M,["@id","@vocab"])}else{M.push(U);const R=M.find(q=>q.includes("_"));R&&M.push(R.replace(/^[^_]+_/,"_"))}M.push("@none");const te=I.inverse[O];for(const R of W){if(!(R in te))continue;const q=te[R][B];for(const F of M)if(F in q)return q[F]}return null}function T(I,O,P){if(u(I,O,{vocab:!0},P)!=="@nest")throw new t("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}return Pu}var $u,Bm;function PE(){return Bm||(Bm=1,$u=t=>{class e{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(e,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(e.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:e}),e.compact=function(r,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):t.compact(r,n)},e.expand=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):t.expand(r)},e.flatten=function(r){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):t.flatten(r)},e}),$u}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */var Lu,qm;function $E(){if(qm)return Lu;qm=1;const t=Qf(),e=_E(),r=Kr(),n=AE(),s=r.IdentifierIssuer,i=Qr(),o=lv(),a=SE(),{expand:l}=IE(),{flatten:c}=TE(),{fromRDF:u}=RE(),{toRDF:d}=CE(),{frameMergedOrDefault:f,cleanupNull:h}=kE(),{isArray:m,isObject:y,isString:_}=Mr(),{isSubjectReference:x}=ls(),{expandIri:A,getInitialContext:w,process:p,processingMode:b}=ai(),{compact:E,compactIri:T}=DE(),{createNodeMap:I,createMergedNodeMap:O,mergeNodeMaps:P}=Ql(),{logEventHandler:W,logWarningEventHandler:B,safeEventHandler:U,setDefaultEventHandler:M,setupEventHandler:te,strictEventHandler:R,unhandledEventHandler:q}=ia(),F=function(j){const se={},ae=new o({max:100});j.compact=async function(z,H,V){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(H===null)throw new i("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(z===null)return null;V=we(V,{base:_(z)?z:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new n({sharedCache:ae})}),V.link&&(V.skipExpansion=!0),V.compactToRelative||delete V.base;let le;V.skipExpansion?le=z:le=await j.expand(z,V);const ve=await j.processContext(w(V),H,V);let ce=await E({activeCtx:ve,element:le,options:V});V.compactArrays&&!V.graph&&m(ce)?ce.length===1?ce=ce[0]:ce.length===0&&(ce={}):V.graph&&y(ce)&&(ce=[ce]),y(H)&&"@context"in H&&(H=H["@context"]),H=r.clone(H),m(H)||(H=[H]);const Te=H;H=[];for(let k=0;k<Te.length;++k)(!y(Te[k])||Object.keys(Te[k]).length>0)&&H.push(Te[k]);const L=H.length>0;if(H.length===1&&(H=H[0]),m(ce)){const k=T({activeCtx:ve,iri:"@graph",relativeTo:{vocab:!0}}),X=ce;ce={},L&&(ce["@context"]=H),ce[k]=X}else if(y(ce)&&L){const k=ce;ce={"@context":H};for(const X in k)ce[X]=k[X]}return ce},j.expand=async function(z,H){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");H=we(H,{keepFreeFloatingNodes:!1,contextResolver:new n({sharedCache:ae})});const V={},le=[];if("expandContext"in H){const L=r.clone(H.expandContext);y(L)&&"@context"in L?V.expandContext=L:V.expandContext={"@context":L},le.push(V.expandContext)}let ve;if(!_(z))V.input=r.clone(z);else{const L=await j.get(z,H);ve=L.documentUrl,V.input=L.document,L.contextUrl&&(V.remoteContext={"@context":L.contextUrl},le.push(V.remoteContext))}"base"in H||(H.base=ve||"");let ce=w(H);for(const L of le)ce=await p({activeCtx:ce,localCtx:L,options:H});let Te=await l({activeCtx:ce,element:V.input,options:H});return y(Te)&&"@graph"in Te&&Object.keys(Te).length===1?Te=Te["@graph"]:Te===null&&(Te=[]),m(Te)||(Te=[Te]),Te},j.flatten=async function(z,H,V){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof H=="function"?H=null:H=H||null,V=we(V,{base:_(z)?z:"",contextResolver:new n({sharedCache:ae})});const le=await j.expand(z,V),ve=c(le);return H===null?ve:(V.graph=!0,V.skipExpansion=!0,await j.compact(ve,H,V))},j.frame=async function(z,H,V){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(V=we(V,{base:_(z)?z:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new n({sharedCache:ae})}),_(H)){const fe=await j.get(H,V);if(H=fe.document,fe.contextUrl){let pe=H["@context"];pe?m(pe)?pe.push(fe.contextUrl):pe=[pe,fe.contextUrl]:pe=fe.contextUrl,H["@context"]=pe}}const le=H?H["@context"]||{}:{},ve=await j.processContext(w(V),le,V);V.hasOwnProperty("omitGraph")||(V.omitGraph=b(ve,1.1)),V.hasOwnProperty("pruneBlankNodeIdentifiers")||(V.pruneBlankNodeIdentifiers=b(ve,1.1));const ce=await j.expand(z,V),Te={...V};Te.isFrame=!0,Te.keepFreeFloatingNodes=!0;const L=await j.expand(H,Te),k=Object.keys(H).map(fe=>A(ve,fe,{vocab:!0}));Te.merged=!k.includes("@graph"),Te.is11=b(ve,1.1);const X=f(ce,L,Te);Te.graph=!V.omitGraph,Te.skipExpansion=!0,Te.link={},Te.framing=!0;let he=await j.compact(X,le,Te);return Te.link={},he=h(he,Te),he},j.link=async function(z,H,V){const le={};return H&&(le["@context"]=H),le["@embed"]="@link",j.frame(z,le,V)},j.normalize=j.canonize=async function(z,H){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(H=we(H,{base:_(z)?z:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new n({sharedCache:ae})}),"inputFormat"in H){if(H.inputFormat!=="application/n-quads"&&H.inputFormat!=="application/nquads")throw new i("Unknown canonicalization input format.","jsonld.CanonizeError");const ve=a.parse(z);return t.canonize(ve,H)}const V={...H};delete V.format,V.produceGeneralizedRdf=!1;const le=await j.toRDF(z,V);return t.canonize(le,H)},j.fromRDF=async function(z,H){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");H=we(H,{format:_(z)?"application/n-quads":void 0});const{format:V}=H;let{rdfParser:le}=H;if(V){if(le=le||se[V],!le)throw new i("Unknown input format.","jsonld.UnknownFormat",{format:V})}else le=()=>z;const ve=await le(z);return u(ve,H)},j.toRDF=async function(z,H){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");H=we(H,{base:_(z)?z:"",skipExpansion:!1,contextResolver:new n({sharedCache:ae})});let V;H.skipExpansion?V=z:V=await j.expand(z,H);const le=d(V,H);if(H.format){if(H.format==="application/n-quads"||H.format==="application/nquads")return a.serialize(le);throw new i("Unknown output format.","jsonld.UnknownFormat",{format:H.format})}return le},j.createNodeMap=async function(z,H){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");H=we(H,{base:_(z)?z:"",contextResolver:new n({sharedCache:ae})});const V=await j.expand(z,H);return O(V,H)},j.merge=async function(z,H,V){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!m(z))throw new TypeError('Could not merge, "docs" must be an array.');typeof H=="function"?H=null:H=H||null,V=we(V,{contextResolver:new n({sharedCache:ae})});const le=await Promise.all(z.map(fe=>{const pe={...V};return j.expand(fe,pe)}));let ve=!0;"mergeNodes"in V&&(ve=V.mergeNodes);const ce=V.issuer||new s("_:b"),Te={"@default":{}};for(let fe=0;fe<le.length;++fe){const pe=r.relabelBlankNodes(le[fe],{issuer:new s("_:b"+fe+"-")}),$=ve||fe===0?Te:{"@default":{}};if(I(pe,$,"@default",ce),$!==Te)for(const N in $){const Y=$[N];if(!(N in Te)){Te[N]=Y;continue}const Z=Te[N];for(const xe in Y)xe in Z||(Z[xe]=Y[xe])}}const L=P(Te),k=[],X=Object.keys(L).sort();for(let fe=0;fe<X.length;++fe){const pe=L[X[fe]];x(pe)||k.push(pe)}return H===null?k:(V.graph=!0,V.skipExpansion=!0,await j.compact(k,H,V))},Object.defineProperty(j,"documentLoader",{get:()=>j._documentLoader,set:z=>j._documentLoader=z}),j.documentLoader=async z=>{throw new i("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:z})},j.get=async function(z,H){let V;typeof H.documentLoader=="function"?V=H.documentLoader:V=j.documentLoader;const le=await V(z);try{if(!le.document)throw new i("No remote document found at the given URL.","jsonld.NullRemoteDocument");_(le.document)&&(le.document=JSON.parse(le.document))}catch(ve){throw new i("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:ve,remoteDoc:le})}return le},j.processContext=async function(z,H,V){return V=we(V,{base:"",contextResolver:new n({sharedCache:ae})}),H===null?w(V):(H=r.clone(H),y(H)&&"@context"in H||(H={"@context":H}),p({activeCtx:z,localCtx:H,options:V}))},j.getContextValue=ai().getContextValue,j.documentLoaders={},j.useDocumentLoader=function(z){if(!(z in j.documentLoaders))throw new i('Unknown document loader type: "'+z+'"',"jsonld.UnknownDocumentLoader",{type:z});j.documentLoader=j.documentLoaders[z].apply(j,Array.prototype.slice.call(arguments,1))},j.registerRDFParser=function(z,H){se[z]=H},j.unregisterRDFParser=function(z){delete se[z]},j.registerRDFParser("application/n-quads",a.parse),j.registerRDFParser("application/nquads",a.parse),j.url=Ms(),j.logEventHandler=W,j.logWarningEventHandler=B,j.safeEventHandler=U,j.setDefaultEventHandler=M,j.strictEventHandler=R,j.unhandledEventHandler=q,j.util=r,Object.assign(j,r),j.promises=j,j.RequestQueue=av(),j.JsonLdProcessor=PE()(j),e.setupGlobals(j),e.setupDocumentLoaders(j);function we(z,{documentLoader:H=j.documentLoader,...V}){if(z&&"compactionMap"in z)throw new i('"compactionMap" not supported.',"jsonld.OptionsError");if(z&&"expansionMap"in z)throw new i('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:H},V,z,{eventHandler:te({options:z})})}return j},ee=function(){return F(function(){return ee()})};return F(ee),Lu=ee,Lu}var LE=$E();const eh=uE(LE);var Nu={exports:{}},Mu={exports:{}},Vm;function NE(){return Vm||(Vm=1,(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(r,n){return r<<n|r>>>32-n},rotr:function(r,n){return r<<32-n|r>>>n},endian:function(r){if(r.constructor==Number)return e.rotl(r,8)&16711935|e.rotl(r,24)&4278255360;for(var n=0;n<r.length;n++)r[n]=e.endian(r[n]);return r},randomBytes:function(r){for(var n=[];r>0;r--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(r){for(var n=[],s=0,i=0;s<r.length;s++,i+=8)n[i>>>5]|=r[s]<<24-i%32;return n},wordsToBytes:function(r){for(var n=[],s=0;s<r.length*32;s+=8)n.push(r[s>>>5]>>>24-s%32&255);return n},bytesToHex:function(r){for(var n=[],s=0;s<r.length;s++)n.push((r[s]>>>4).toString(16)),n.push((r[s]&15).toString(16));return n.join("")},hexToBytes:function(r){for(var n=[],s=0;s<r.length;s+=2)n.push(parseInt(r.substr(s,2),16));return n},bytesToBase64:function(r){for(var n=[],s=0;s<r.length;s+=3)for(var i=r[s]<<16|r[s+1]<<8|r[s+2],o=0;o<4;o++)s*8+o*6<=r.length*8?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],s=0,i=0;s<r.length;i=++s%4)i!=0&&n.push((t.indexOf(r.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|t.indexOf(r.charAt(s))>>>6-i*2);return n}};Mu.exports=e})()),Mu.exports}var Fu,Hm;function zm(){if(Hm)return Fu;Hm=1;var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var r=[],n=0;n<e.length;n++)r.push(e.charCodeAt(n)&255);return r},bytesToString:function(e){for(var r=[],n=0;n<e.length;n++)r.push(String.fromCharCode(e[n]));return r.join("")}}};return Fu=t,Fu}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ju,Wm;function ME(){if(Wm)return ju;Wm=1,ju=function(r){return r!=null&&(t(r)||e(r)||!!r._isBuffer)};function t(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function e(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&t(r.slice(0,0))}return ju}var Km;function FE(){return Km||(Km=1,(function(){var t=NE(),e=zm().utf8,r=ME(),n=zm().bin,s=function(i,o){i.constructor==String?o&&o.encoding==="binary"?i=n.stringToBytes(i):i=e.stringToBytes(i):r(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var a=t.bytesToWords(i),l=i.length*8,c=1732584193,u=-271733879,d=-1732584194,f=271733878,h=0;h<a.length;h++)a[h]=(a[h]<<8|a[h]>>>24)&16711935|(a[h]<<24|a[h]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var m=s._ff,y=s._gg,_=s._hh,x=s._ii,h=0;h<a.length;h+=16){var A=c,w=u,p=d,b=f;c=m(c,u,d,f,a[h+0],7,-680876936),f=m(f,c,u,d,a[h+1],12,-389564586),d=m(d,f,c,u,a[h+2],17,606105819),u=m(u,d,f,c,a[h+3],22,-1044525330),c=m(c,u,d,f,a[h+4],7,-176418897),f=m(f,c,u,d,a[h+5],12,1200080426),d=m(d,f,c,u,a[h+6],17,-1473231341),u=m(u,d,f,c,a[h+7],22,-45705983),c=m(c,u,d,f,a[h+8],7,1770035416),f=m(f,c,u,d,a[h+9],12,-1958414417),d=m(d,f,c,u,a[h+10],17,-42063),u=m(u,d,f,c,a[h+11],22,-1990404162),c=m(c,u,d,f,a[h+12],7,1804603682),f=m(f,c,u,d,a[h+13],12,-40341101),d=m(d,f,c,u,a[h+14],17,-1502002290),u=m(u,d,f,c,a[h+15],22,1236535329),c=y(c,u,d,f,a[h+1],5,-165796510),f=y(f,c,u,d,a[h+6],9,-1069501632),d=y(d,f,c,u,a[h+11],14,643717713),u=y(u,d,f,c,a[h+0],20,-373897302),c=y(c,u,d,f,a[h+5],5,-701558691),f=y(f,c,u,d,a[h+10],9,38016083),d=y(d,f,c,u,a[h+15],14,-660478335),u=y(u,d,f,c,a[h+4],20,-405537848),c=y(c,u,d,f,a[h+9],5,568446438),f=y(f,c,u,d,a[h+14],9,-1019803690),d=y(d,f,c,u,a[h+3],14,-187363961),u=y(u,d,f,c,a[h+8],20,1163531501),c=y(c,u,d,f,a[h+13],5,-1444681467),f=y(f,c,u,d,a[h+2],9,-51403784),d=y(d,f,c,u,a[h+7],14,1735328473),u=y(u,d,f,c,a[h+12],20,-1926607734),c=_(c,u,d,f,a[h+5],4,-378558),f=_(f,c,u,d,a[h+8],11,-2022574463),d=_(d,f,c,u,a[h+11],16,1839030562),u=_(u,d,f,c,a[h+14],23,-35309556),c=_(c,u,d,f,a[h+1],4,-1530992060),f=_(f,c,u,d,a[h+4],11,1272893353),d=_(d,f,c,u,a[h+7],16,-155497632),u=_(u,d,f,c,a[h+10],23,-1094730640),c=_(c,u,d,f,a[h+13],4,681279174),f=_(f,c,u,d,a[h+0],11,-358537222),d=_(d,f,c,u,a[h+3],16,-722521979),u=_(u,d,f,c,a[h+6],23,76029189),c=_(c,u,d,f,a[h+9],4,-640364487),f=_(f,c,u,d,a[h+12],11,-421815835),d=_(d,f,c,u,a[h+15],16,530742520),u=_(u,d,f,c,a[h+2],23,-995338651),c=x(c,u,d,f,a[h+0],6,-198630844),f=x(f,c,u,d,a[h+7],10,1126891415),d=x(d,f,c,u,a[h+14],15,-1416354905),u=x(u,d,f,c,a[h+5],21,-57434055),c=x(c,u,d,f,a[h+12],6,1700485571),f=x(f,c,u,d,a[h+3],10,-1894986606),d=x(d,f,c,u,a[h+10],15,-1051523),u=x(u,d,f,c,a[h+1],21,-2054922799),c=x(c,u,d,f,a[h+8],6,1873313359),f=x(f,c,u,d,a[h+15],10,-30611744),d=x(d,f,c,u,a[h+6],15,-1560198380),u=x(u,d,f,c,a[h+13],21,1309151649),c=x(c,u,d,f,a[h+4],6,-145523070),f=x(f,c,u,d,a[h+11],10,-1120210379),d=x(d,f,c,u,a[h+2],15,718787259),u=x(u,d,f,c,a[h+9],21,-343485551),c=c+A>>>0,u=u+w>>>0,d=d+p>>>0,f=f+b>>>0}return t.endian([c,u,d,f])};s._ff=function(i,o,a,l,c,u,d){var f=i+(o&a|~o&l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},s._gg=function(i,o,a,l,c,u,d){var f=i+(o&l|a&~l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},s._hh=function(i,o,a,l,c,u,d){var f=i+(o^a^l)+(c>>>0)+d;return(f<<u|f>>>32-u)+o},s._ii=function(i,o,a,l,c,u,d){var f=i+(a^(o|~l))+(c>>>0)+d;return(f<<u|f>>>32-u)+o},s._blocksize=16,s._digestsize=16,Nu.exports=function(i,o){if(i==null)throw new Error("Illegal argument "+i);var a=t.wordsToBytes(s(i,o));return o&&o.asBytes?a:o&&o.asString?n.bytesToString(a):t.bytesToHex(a)}})()),Nu.exports}FE();var Uu={},oo={},Gm;function jE(){if(Gm)return oo;Gm=1,oo.byteLength=a,oo.toByteArray=c,oo.fromByteArray=f;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,i=n.length;s<i;++s)t[s]=n[s],e[n.charCodeAt(s)]=s;e[45]=62,e[95]=63;function o(h){var m=h.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=h.indexOf("=");y===-1&&(y=m);var _=y===m?0:4-y%4;return[y,_]}function a(h){var m=o(h),y=m[0],_=m[1];return(y+_)*3/4-_}function l(h,m,y){return(m+y)*3/4-y}function c(h){var m,y=o(h),_=y[0],x=y[1],A=new r(l(h,_,x)),w=0,p=x>0?_-4:_,b;for(b=0;b<p;b+=4)m=e[h.charCodeAt(b)]<<18|e[h.charCodeAt(b+1)]<<12|e[h.charCodeAt(b+2)]<<6|e[h.charCodeAt(b+3)],A[w++]=m>>16&255,A[w++]=m>>8&255,A[w++]=m&255;return x===2&&(m=e[h.charCodeAt(b)]<<2|e[h.charCodeAt(b+1)]>>4,A[w++]=m&255),x===1&&(m=e[h.charCodeAt(b)]<<10|e[h.charCodeAt(b+1)]<<4|e[h.charCodeAt(b+2)]>>2,A[w++]=m>>8&255,A[w++]=m&255),A}function u(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function d(h,m,y){for(var _,x=[],A=m;A<y;A+=3)_=(h[A]<<16&16711680)+(h[A+1]<<8&65280)+(h[A+2]&255),x.push(u(_));return x.join("")}function f(h){for(var m,y=h.length,_=y%3,x=[],A=16383,w=0,p=y-_;w<p;w+=A)x.push(d(h,w,w+A>p?p:w+A));return _===1?(m=h[y-1],x.push(t[m>>2]+t[m<<4&63]+"==")):_===2&&(m=(h[y-2]<<8)+h[y-1],x.push(t[m>>10]+t[m>>4&63]+t[m<<2&63]+"=")),x.join("")}return oo}var Aa={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Jm;function UE(){return Jm||(Jm=1,Aa.read=function(t,e,r,n,s){var i,o,a=s*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,d=r?s-1:0,f=r?-1:1,h=t[e+d];for(d+=f,i=h&(1<<-u)-1,h>>=-u,u+=a;u>0;i=i*256+t[e+d],d+=f,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=n;u>0;o=o*256+t[e+d],d+=f,u-=8);if(i===0)i=1-c;else{if(i===l)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-c}return(h?-1:1)*o*Math.pow(2,i-n)},Aa.write=function(t,e,r,n,s,i){var o,a,l,c=i*8-s-1,u=(1<<c)-1,d=u>>1,f=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,m=n?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*l-1)*Math.pow(2,s),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;t[r+h]=a&255,h+=m,a/=256,s-=8);for(o=o<<s|a,c+=s;c>0;t[r+h]=o&255,h+=m,o/=256,c-=8);t[r+h-m]|=y*128}),Aa}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Xm;function BE(){return Xm||(Xm=1,(function(t){const e=jE(),r=UE(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=A,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const S=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(S,g),S.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(S){if(S>s)throw new RangeError('The value "'+S+'" is invalid for option "size"');const g=new Uint8Array(S);return Object.setPrototypeOf(g,a.prototype),g}function a(S,g,v){if(typeof S=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(S)}return l(S,g,v)}a.poolSize=8192;function l(S,g,v){if(typeof S=="string")return f(S,g);if(ArrayBuffer.isView(S))return m(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(xe(S,ArrayBuffer)||S&&xe(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(xe(S,SharedArrayBuffer)||S&&xe(S.buffer,SharedArrayBuffer)))return y(S,g,v);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const D=S.valueOf&&S.valueOf();if(D!=null&&D!==S)return a.from(D,g,v);const K=_(S);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return a.from(S[Symbol.toPrimitive]("string"),g,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}a.from=function(S,g,v){return l(S,g,v)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function u(S,g,v){return c(S),S<=0?o(S):g!==void 0?typeof v=="string"?o(S).fill(g,v):o(S).fill(g):o(S)}a.alloc=function(S,g,v){return u(S,g,v)};function d(S){return c(S),o(S<0?0:x(S)|0)}a.allocUnsafe=function(S){return d(S)},a.allocUnsafeSlow=function(S){return d(S)};function f(S,g){if((typeof g!="string"||g==="")&&(g="utf8"),!a.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const v=w(S,g)|0;let D=o(v);const K=D.write(S,g);return K!==v&&(D=D.slice(0,K)),D}function h(S){const g=S.length<0?0:x(S.length)|0,v=o(g);for(let D=0;D<g;D+=1)v[D]=S[D]&255;return v}function m(S){if(xe(S,Uint8Array)){const g=new Uint8Array(S);return y(g.buffer,g.byteOffset,g.byteLength)}return h(S)}function y(S,g,v){if(g<0||S.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<g+(v||0))throw new RangeError('"length" is outside of buffer bounds');let D;return g===void 0&&v===void 0?D=new Uint8Array(S):v===void 0?D=new Uint8Array(S,g):D=new Uint8Array(S,g,v),Object.setPrototypeOf(D,a.prototype),D}function _(S){if(a.isBuffer(S)){const g=x(S.length)|0,v=o(g);return v.length===0||S.copy(v,0,0,g),v}if(S.length!==void 0)return typeof S.length!="number"||ye(S.length)?o(0):h(S);if(S.type==="Buffer"&&Array.isArray(S.data))return h(S.data)}function x(S){if(S>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return S|0}function A(S){return+S!=S&&(S=0),a.alloc(+S)}a.isBuffer=function(g){return g!=null&&g._isBuffer===!0&&g!==a.prototype},a.compare=function(g,v){if(xe(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),xe(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(g)||!a.isBuffer(v))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===v)return 0;let D=g.length,K=v.length;for(let ne=0,me=Math.min(D,K);ne<me;++ne)if(g[ne]!==v[ne]){D=g[ne],K=v[ne];break}return D<K?-1:K<D?1:0},a.isEncoding=function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(g,v){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return a.alloc(0);let D;if(v===void 0)for(v=0,D=0;D<g.length;++D)v+=g[D].length;const K=a.allocUnsafe(v);let ne=0;for(D=0;D<g.length;++D){let me=g[D];if(xe(me,Uint8Array))ne+me.length>K.length?(a.isBuffer(me)||(me=a.from(me)),me.copy(K,ne)):Uint8Array.prototype.set.call(K,me,ne);else if(a.isBuffer(me))me.copy(K,ne);else throw new TypeError('"list" argument must be an Array of Buffers');ne+=me.length}return K};function w(S,g){if(a.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||xe(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const v=S.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&v===0)return 0;let K=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return pe(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v*2;case"hex":return v>>>1;case"base64":return Y(S).length;default:if(K)return D?-1:pe(S).length;g=(""+g).toLowerCase(),K=!0}}a.byteLength=w;function p(S,g,v){let D=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((v===void 0||v>this.length)&&(v=this.length),v<=0)||(v>>>=0,g>>>=0,v<=g))return"";for(S||(S="utf8");;)switch(S){case"hex":return ee(this,g,v);case"utf8":case"utf-8":return M(this,g,v);case"ascii":return q(this,g,v);case"latin1":case"binary":return F(this,g,v);case"base64":return U(this,g,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,g,v);default:if(D)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),D=!0}}a.prototype._isBuffer=!0;function b(S,g,v){const D=S[g];S[g]=S[v],S[v]=D}a.prototype.swap16=function(){const g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let v=0;v<g;v+=2)b(this,v,v+1);return this},a.prototype.swap32=function(){const g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let v=0;v<g;v+=4)b(this,v,v+3),b(this,v+1,v+2);return this},a.prototype.swap64=function(){const g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let v=0;v<g;v+=8)b(this,v,v+7),b(this,v+1,v+6),b(this,v+2,v+5),b(this,v+3,v+4);return this},a.prototype.toString=function(){const g=this.length;return g===0?"":arguments.length===0?M(this,0,g):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(g){if(!a.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:a.compare(this,g)===0},a.prototype.inspect=function(){let g="";const v=t.INSPECT_MAX_BYTES;return g=this.toString("hex",0,v).replace(/(.{2})/g,"$1 ").trim(),this.length>v&&(g+=" ... "),"<Buffer "+g+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(g,v,D,K,ne){if(xe(g,Uint8Array)&&(g=a.from(g,g.offset,g.byteLength)),!a.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(v===void 0&&(v=0),D===void 0&&(D=g?g.length:0),K===void 0&&(K=0),ne===void 0&&(ne=this.length),v<0||D>g.length||K<0||ne>this.length)throw new RangeError("out of range index");if(K>=ne&&v>=D)return 0;if(K>=ne)return-1;if(v>=D)return 1;if(v>>>=0,D>>>=0,K>>>=0,ne>>>=0,this===g)return 0;let me=ne-K,qe=D-v;const Ue=Math.min(me,qe),He=this.slice(K,ne),ut=g.slice(v,D);for(let Ye=0;Ye<Ue;++Ye)if(He[Ye]!==ut[Ye]){me=He[Ye],qe=ut[Ye];break}return me<qe?-1:qe<me?1:0};function E(S,g,v,D,K){if(S.length===0)return-1;if(typeof v=="string"?(D=v,v=0):v>2147483647?v=2147483647:v<-2147483648&&(v=-2147483648),v=+v,ye(v)&&(v=K?0:S.length-1),v<0&&(v=S.length+v),v>=S.length){if(K)return-1;v=S.length-1}else if(v<0)if(K)v=0;else return-1;if(typeof g=="string"&&(g=a.from(g,D)),a.isBuffer(g))return g.length===0?-1:T(S,g,v,D,K);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(S,g,v):Uint8Array.prototype.lastIndexOf.call(S,g,v):T(S,[g],v,D,K);throw new TypeError("val must be string, number or Buffer")}function T(S,g,v,D,K){let ne=1,me=S.length,qe=g.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(S.length<2||g.length<2)return-1;ne=2,me/=2,qe/=2,v/=2}function Ue(ut,Ye){return ne===1?ut[Ye]:ut.readUInt16BE(Ye*ne)}let He;if(K){let ut=-1;for(He=v;He<me;He++)if(Ue(S,He)===Ue(g,ut===-1?0:He-ut)){if(ut===-1&&(ut=He),He-ut+1===qe)return ut*ne}else ut!==-1&&(He-=He-ut),ut=-1}else for(v+qe>me&&(v=me-qe),He=v;He>=0;He--){let ut=!0;for(let Ye=0;Ye<qe;Ye++)if(Ue(S,He+Ye)!==Ue(g,Ye)){ut=!1;break}if(ut)return He}return-1}a.prototype.includes=function(g,v,D){return this.indexOf(g,v,D)!==-1},a.prototype.indexOf=function(g,v,D){return E(this,g,v,D,!0)},a.prototype.lastIndexOf=function(g,v,D){return E(this,g,v,D,!1)};function I(S,g,v,D){v=Number(v)||0;const K=S.length-v;D?(D=Number(D),D>K&&(D=K)):D=K;const ne=g.length;D>ne/2&&(D=ne/2);let me;for(me=0;me<D;++me){const qe=parseInt(g.substr(me*2,2),16);if(ye(qe))return me;S[v+me]=qe}return me}function O(S,g,v,D){return Z(pe(g,S.length-v),S,v,D)}function P(S,g,v,D){return Z($(g),S,v,D)}function W(S,g,v,D){return Z(Y(g),S,v,D)}function B(S,g,v,D){return Z(N(g,S.length-v),S,v,D)}a.prototype.write=function(g,v,D,K){if(v===void 0)K="utf8",D=this.length,v=0;else if(D===void 0&&typeof v=="string")K=v,D=this.length,v=0;else if(isFinite(v))v=v>>>0,isFinite(D)?(D=D>>>0,K===void 0&&(K="utf8")):(K=D,D=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ne=this.length-v;if((D===void 0||D>ne)&&(D=ne),g.length>0&&(D<0||v<0)||v>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let me=!1;for(;;)switch(K){case"hex":return I(this,g,v,D);case"utf8":case"utf-8":return O(this,g,v,D);case"ascii":case"latin1":case"binary":return P(this,g,v,D);case"base64":return W(this,g,v,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,g,v,D);default:if(me)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),me=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(S,g,v){return g===0&&v===S.length?e.fromByteArray(S):e.fromByteArray(S.slice(g,v))}function M(S,g,v){v=Math.min(S.length,v);const D=[];let K=g;for(;K<v;){const ne=S[K];let me=null,qe=ne>239?4:ne>223?3:ne>191?2:1;if(K+qe<=v){let Ue,He,ut,Ye;switch(qe){case 1:ne<128&&(me=ne);break;case 2:Ue=S[K+1],(Ue&192)===128&&(Ye=(ne&31)<<6|Ue&63,Ye>127&&(me=Ye));break;case 3:Ue=S[K+1],He=S[K+2],(Ue&192)===128&&(He&192)===128&&(Ye=(ne&15)<<12|(Ue&63)<<6|He&63,Ye>2047&&(Ye<55296||Ye>57343)&&(me=Ye));break;case 4:Ue=S[K+1],He=S[K+2],ut=S[K+3],(Ue&192)===128&&(He&192)===128&&(ut&192)===128&&(Ye=(ne&15)<<18|(Ue&63)<<12|(He&63)<<6|ut&63,Ye>65535&&Ye<1114112&&(me=Ye))}}me===null?(me=65533,qe=1):me>65535&&(me-=65536,D.push(me>>>10&1023|55296),me=56320|me&1023),D.push(me),K+=qe}return R(D)}const te=4096;function R(S){const g=S.length;if(g<=te)return String.fromCharCode.apply(String,S);let v="",D=0;for(;D<g;)v+=String.fromCharCode.apply(String,S.slice(D,D+=te));return v}function q(S,g,v){let D="";v=Math.min(S.length,v);for(let K=g;K<v;++K)D+=String.fromCharCode(S[K]&127);return D}function F(S,g,v){let D="";v=Math.min(S.length,v);for(let K=g;K<v;++K)D+=String.fromCharCode(S[K]);return D}function ee(S,g,v){const D=S.length;(!g||g<0)&&(g=0),(!v||v<0||v>D)&&(v=D);let K="";for(let ne=g;ne<v;++ne)K+=Q[S[ne]];return K}function j(S,g,v){const D=S.slice(g,v);let K="";for(let ne=0;ne<D.length-1;ne+=2)K+=String.fromCharCode(D[ne]+D[ne+1]*256);return K}a.prototype.slice=function(g,v){const D=this.length;g=~~g,v=v===void 0?D:~~v,g<0?(g+=D,g<0&&(g=0)):g>D&&(g=D),v<0?(v+=D,v<0&&(v=0)):v>D&&(v=D),v<g&&(v=g);const K=this.subarray(g,v);return Object.setPrototypeOf(K,a.prototype),K};function se(S,g,v){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+g>v)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(g,v,D){g=g>>>0,v=v>>>0,D||se(g,v,this.length);let K=this[g],ne=1,me=0;for(;++me<v&&(ne*=256);)K+=this[g+me]*ne;return K},a.prototype.readUintBE=a.prototype.readUIntBE=function(g,v,D){g=g>>>0,v=v>>>0,D||se(g,v,this.length);let K=this[g+--v],ne=1;for(;v>0&&(ne*=256);)K+=this[g+--v]*ne;return K},a.prototype.readUint8=a.prototype.readUInt8=function(g,v){return g=g>>>0,v||se(g,1,this.length),this[g]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(g,v){return g=g>>>0,v||se(g,2,this.length),this[g]|this[g+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(g,v){return g=g>>>0,v||se(g,2,this.length),this[g]<<8|this[g+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(g,v){return g=g>>>0,v||se(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(g,v){return g=g>>>0,v||se(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},a.prototype.readBigUInt64LE=ie(function(g){g=g>>>0,k(g,"offset");const v=this[g],D=this[g+7];(v===void 0||D===void 0)&&X(g,this.length-8);const K=v+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,ne=this[++g]+this[++g]*2**8+this[++g]*2**16+D*2**24;return BigInt(K)+(BigInt(ne)<<BigInt(32))}),a.prototype.readBigUInt64BE=ie(function(g){g=g>>>0,k(g,"offset");const v=this[g],D=this[g+7];(v===void 0||D===void 0)&&X(g,this.length-8);const K=v*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],ne=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+D;return(BigInt(K)<<BigInt(32))+BigInt(ne)}),a.prototype.readIntLE=function(g,v,D){g=g>>>0,v=v>>>0,D||se(g,v,this.length);let K=this[g],ne=1,me=0;for(;++me<v&&(ne*=256);)K+=this[g+me]*ne;return ne*=128,K>=ne&&(K-=Math.pow(2,8*v)),K},a.prototype.readIntBE=function(g,v,D){g=g>>>0,v=v>>>0,D||se(g,v,this.length);let K=v,ne=1,me=this[g+--K];for(;K>0&&(ne*=256);)me+=this[g+--K]*ne;return ne*=128,me>=ne&&(me-=Math.pow(2,8*v)),me},a.prototype.readInt8=function(g,v){return g=g>>>0,v||se(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},a.prototype.readInt16LE=function(g,v){g=g>>>0,v||se(g,2,this.length);const D=this[g]|this[g+1]<<8;return D&32768?D|4294901760:D},a.prototype.readInt16BE=function(g,v){g=g>>>0,v||se(g,2,this.length);const D=this[g+1]|this[g]<<8;return D&32768?D|4294901760:D},a.prototype.readInt32LE=function(g,v){return g=g>>>0,v||se(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},a.prototype.readInt32BE=function(g,v){return g=g>>>0,v||se(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},a.prototype.readBigInt64LE=ie(function(g){g=g>>>0,k(g,"offset");const v=this[g],D=this[g+7];(v===void 0||D===void 0)&&X(g,this.length-8);const K=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(D<<24);return(BigInt(K)<<BigInt(32))+BigInt(v+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)}),a.prototype.readBigInt64BE=ie(function(g){g=g>>>0,k(g,"offset");const v=this[g],D=this[g+7];(v===void 0||D===void 0)&&X(g,this.length-8);const K=(v<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(K)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+D)}),a.prototype.readFloatLE=function(g,v){return g=g>>>0,v||se(g,4,this.length),r.read(this,g,!0,23,4)},a.prototype.readFloatBE=function(g,v){return g=g>>>0,v||se(g,4,this.length),r.read(this,g,!1,23,4)},a.prototype.readDoubleLE=function(g,v){return g=g>>>0,v||se(g,8,this.length),r.read(this,g,!0,52,8)},a.prototype.readDoubleBE=function(g,v){return g=g>>>0,v||se(g,8,this.length),r.read(this,g,!1,52,8)};function oe(S,g,v,D,K,ne){if(!a.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>K||g<ne)throw new RangeError('"value" argument is out of bounds');if(v+D>S.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(g,v,D,K){if(g=+g,v=v>>>0,D=D>>>0,!K){const qe=Math.pow(2,8*D)-1;oe(this,g,v,D,qe,0)}let ne=1,me=0;for(this[v]=g&255;++me<D&&(ne*=256);)this[v+me]=g/ne&255;return v+D},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(g,v,D,K){if(g=+g,v=v>>>0,D=D>>>0,!K){const qe=Math.pow(2,8*D)-1;oe(this,g,v,D,qe,0)}let ne=D-1,me=1;for(this[v+ne]=g&255;--ne>=0&&(me*=256);)this[v+ne]=g/me&255;return v+D},a.prototype.writeUint8=a.prototype.writeUInt8=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,1,255,0),this[v]=g&255,v+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,2,65535,0),this[v]=g&255,this[v+1]=g>>>8,v+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,2,65535,0),this[v]=g>>>8,this[v+1]=g&255,v+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,4,4294967295,0),this[v+3]=g>>>24,this[v+2]=g>>>16,this[v+1]=g>>>8,this[v]=g&255,v+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,4,4294967295,0),this[v]=g>>>24,this[v+1]=g>>>16,this[v+2]=g>>>8,this[v+3]=g&255,v+4};function ae(S,g,v,D,K){L(g,D,K,S,v,7);let ne=Number(g&BigInt(4294967295));S[v++]=ne,ne=ne>>8,S[v++]=ne,ne=ne>>8,S[v++]=ne,ne=ne>>8,S[v++]=ne;let me=Number(g>>BigInt(32)&BigInt(4294967295));return S[v++]=me,me=me>>8,S[v++]=me,me=me>>8,S[v++]=me,me=me>>8,S[v++]=me,v}function we(S,g,v,D,K){L(g,D,K,S,v,7);let ne=Number(g&BigInt(4294967295));S[v+7]=ne,ne=ne>>8,S[v+6]=ne,ne=ne>>8,S[v+5]=ne,ne=ne>>8,S[v+4]=ne;let me=Number(g>>BigInt(32)&BigInt(4294967295));return S[v+3]=me,me=me>>8,S[v+2]=me,me=me>>8,S[v+1]=me,me=me>>8,S[v]=me,v+8}a.prototype.writeBigUInt64LE=ie(function(g,v=0){return ae(this,g,v,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ie(function(g,v=0){return we(this,g,v,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(g,v,D,K){if(g=+g,v=v>>>0,!K){const Ue=Math.pow(2,8*D-1);oe(this,g,v,D,Ue-1,-Ue)}let ne=0,me=1,qe=0;for(this[v]=g&255;++ne<D&&(me*=256);)g<0&&qe===0&&this[v+ne-1]!==0&&(qe=1),this[v+ne]=(g/me>>0)-qe&255;return v+D},a.prototype.writeIntBE=function(g,v,D,K){if(g=+g,v=v>>>0,!K){const Ue=Math.pow(2,8*D-1);oe(this,g,v,D,Ue-1,-Ue)}let ne=D-1,me=1,qe=0;for(this[v+ne]=g&255;--ne>=0&&(me*=256);)g<0&&qe===0&&this[v+ne+1]!==0&&(qe=1),this[v+ne]=(g/me>>0)-qe&255;return v+D},a.prototype.writeInt8=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,1,127,-128),g<0&&(g=255+g+1),this[v]=g&255,v+1},a.prototype.writeInt16LE=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,2,32767,-32768),this[v]=g&255,this[v+1]=g>>>8,v+2},a.prototype.writeInt16BE=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,2,32767,-32768),this[v]=g>>>8,this[v+1]=g&255,v+2},a.prototype.writeInt32LE=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,4,2147483647,-2147483648),this[v]=g&255,this[v+1]=g>>>8,this[v+2]=g>>>16,this[v+3]=g>>>24,v+4},a.prototype.writeInt32BE=function(g,v,D){return g=+g,v=v>>>0,D||oe(this,g,v,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[v]=g>>>24,this[v+1]=g>>>16,this[v+2]=g>>>8,this[v+3]=g&255,v+4},a.prototype.writeBigInt64LE=ie(function(g,v=0){return ae(this,g,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ie(function(g,v=0){return we(this,g,v,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function z(S,g,v,D,K,ne){if(v+D>S.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("Index out of range")}function H(S,g,v,D,K){return g=+g,v=v>>>0,K||z(S,g,v,4),r.write(S,g,v,D,23,4),v+4}a.prototype.writeFloatLE=function(g,v,D){return H(this,g,v,!0,D)},a.prototype.writeFloatBE=function(g,v,D){return H(this,g,v,!1,D)};function V(S,g,v,D,K){return g=+g,v=v>>>0,K||z(S,g,v,8),r.write(S,g,v,D,52,8),v+8}a.prototype.writeDoubleLE=function(g,v,D){return V(this,g,v,!0,D)},a.prototype.writeDoubleBE=function(g,v,D){return V(this,g,v,!1,D)},a.prototype.copy=function(g,v,D,K){if(!a.isBuffer(g))throw new TypeError("argument should be a Buffer");if(D||(D=0),!K&&K!==0&&(K=this.length),v>=g.length&&(v=g.length),v||(v=0),K>0&&K<D&&(K=D),K===D||g.length===0||this.length===0)return 0;if(v<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),g.length-v<K-D&&(K=g.length-v+D);const ne=K-D;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(v,D,K):Uint8Array.prototype.set.call(g,this.subarray(D,K),v),ne},a.prototype.fill=function(g,v,D,K){if(typeof g=="string"){if(typeof v=="string"?(K=v,v=0,D=this.length):typeof D=="string"&&(K=D,D=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!a.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(g.length===1){const me=g.charCodeAt(0);(K==="utf8"&&me<128||K==="latin1")&&(g=me)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(v<0||this.length<v||this.length<D)throw new RangeError("Out of range index");if(D<=v)return this;v=v>>>0,D=D===void 0?this.length:D>>>0,g||(g=0);let ne;if(typeof g=="number")for(ne=v;ne<D;++ne)this[ne]=g;else{const me=a.isBuffer(g)?g:a.from(g,K),qe=me.length;if(qe===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(ne=0;ne<D-v;++ne)this[ne+v]=me[ne%qe]}return this};const le={};function ve(S,g,v){le[S]=class extends v{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}ve("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function(S,g){return`The "${S}" argument must be of type number. Received type ${typeof g}`},TypeError),ve("ERR_OUT_OF_RANGE",function(S,g,v){let D=`The value of "${S}" is out of range.`,K=v;return Number.isInteger(v)&&Math.abs(v)>2**32?K=ce(String(v)):typeof v=="bigint"&&(K=String(v),(v>BigInt(2)**BigInt(32)||v<-(BigInt(2)**BigInt(32)))&&(K=ce(K)),K+="n"),D+=` It must be ${g}. Received ${K}`,D},RangeError);function ce(S){let g="",v=S.length;const D=S[0]==="-"?1:0;for(;v>=D+4;v-=3)g=`_${S.slice(v-3,v)}${g}`;return`${S.slice(0,v)}${g}`}function Te(S,g,v){k(g,"offset"),(S[g]===void 0||S[g+v]===void 0)&&X(g,S.length-(v+1))}function L(S,g,v,D,K,ne){if(S>v||S<g){const me=typeof g=="bigint"?"n":"";let qe;throw g===0||g===BigInt(0)?qe=`>= 0${me} and < 2${me} ** ${(ne+1)*8}${me}`:qe=`>= -(2${me} ** ${(ne+1)*8-1}${me}) and < 2 ** ${(ne+1)*8-1}${me}`,new le.ERR_OUT_OF_RANGE("value",qe,S)}Te(D,K,ne)}function k(S,g){if(typeof S!="number")throw new le.ERR_INVALID_ARG_TYPE(g,"number",S)}function X(S,g,v){throw Math.floor(S)!==S?(k(S,v),new le.ERR_OUT_OF_RANGE("offset","an integer",S)):g<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${g}`,S)}const he=/[^+/0-9A-Za-z-_]/g;function fe(S){if(S=S.split("=")[0],S=S.trim().replace(he,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function pe(S,g){g=g||1/0;let v;const D=S.length;let K=null;const ne=[];for(let me=0;me<D;++me){if(v=S.charCodeAt(me),v>55295&&v<57344){if(!K){if(v>56319){(g-=3)>-1&&ne.push(239,191,189);continue}else if(me+1===D){(g-=3)>-1&&ne.push(239,191,189);continue}K=v;continue}if(v<56320){(g-=3)>-1&&ne.push(239,191,189),K=v;continue}v=(K-55296<<10|v-56320)+65536}else K&&(g-=3)>-1&&ne.push(239,191,189);if(K=null,v<128){if((g-=1)<0)break;ne.push(v)}else if(v<2048){if((g-=2)<0)break;ne.push(v>>6|192,v&63|128)}else if(v<65536){if((g-=3)<0)break;ne.push(v>>12|224,v>>6&63|128,v&63|128)}else if(v<1114112){if((g-=4)<0)break;ne.push(v>>18|240,v>>12&63|128,v>>6&63|128,v&63|128)}else throw new Error("Invalid code point")}return ne}function $(S){const g=[];for(let v=0;v<S.length;++v)g.push(S.charCodeAt(v)&255);return g}function N(S,g){let v,D,K;const ne=[];for(let me=0;me<S.length&&!((g-=2)<0);++me)v=S.charCodeAt(me),D=v>>8,K=v%256,ne.push(K),ne.push(D);return ne}function Y(S){return e.toByteArray(fe(S))}function Z(S,g,v,D){let K;for(K=0;K<D&&!(K+v>=g.length||K>=S.length);++K)g[K+v]=S[K];return K}function xe(S,g){return S instanceof g||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===g.name}function ye(S){return S!==S}const Q=(function(){const S="0123456789abcdef",g=new Array(256);for(let v=0;v<16;++v){const D=v*16;for(let K=0;K<16;++K)g[D+K]=S[v]+S[K]}return g})();function ie(S){return typeof BigInt>"u"?Re:S}function Re(){throw new Error("BigInt not supported")}})(Uu)),Uu}var qE=BE();const ao="http://www.w3.org/1999/02/22-rdf-syntax-ns#",lo="http://www.w3.org/2001/XMLSchema#",Sa="http://www.w3.org/2000/10/swap/",Br={xsd:{decimal:`${lo}decimal`,boolean:`${lo}boolean`,double:`${lo}double`,integer:`${lo}integer`,string:`${lo}string`},rdf:{type:`${ao}type`,nil:`${ao}nil`,first:`${ao}first`,rest:`${ao}rest`,langString:`${ao}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Sa}reify#forSome`,forAll:`${Sa}reify#forAll`},log:{implies:`${Sa}log#implies`,isImpliedBy:`${Sa}log#isImpliedBy`}},{xsd:Ia}=Br,VE=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Ym={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},HE=/[\x00-\x20<>\\"\{\}\|\^\`]/,zE={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},WE=/$0^/;class KE{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._isImpliedBy=e.isImpliedBy,this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const r in this)!(r in zE)&&this[r]instanceof RegExp&&(this[r]=WE)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,s=n.length;for(;;){let a,l;for(;a=this._newline.exec(n);)this.comments&&(l=this._comment.exec(a[0]))&&i("comment",l[1],"",this._line,a[0].length),n=n.substr(a[0].length,n.length),s=n.length,this._line++;if(!a&&(a=this._whitespace.exec(n))&&(n=n.substr(a[0].length,n.length)),this._endOfFile.test(n))return r&&(this.comments&&(l=this._comment.exec(n))&&i("comment",l[1],"",this._line,n.length),n=null,i("eof","","",this._line,0)),this._input=n;const c=this._line,u=n[0];let d="",f="",h="",m=null,y=0,_=!1;switch(u){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){_=!0;break}}else{this._n3Mode&&(y=1,d="^");break}case"<":if(m=this._unescapedIri.exec(n))d="IRI",f=m[1];else if(m=this._iri.exec(n)){if(f=this._unescape(m[1]),f===null||HE.test(f))return o(this);d="IRI"}else n.length>1&&n[1]==="<"?(d="<<",y=2):this._n3Mode&&n.length>1&&n[1]==="="&&(y=2,this._isImpliedBy?(d="abbreviation",f="<"):(d="inverse",f=">"));break;case">":n.length>1&&n[1]===">"&&(d=">>",y=2);break;case"_":((m=this._blank.exec(n))||r&&(m=this._blank.exec(`${n} `)))&&(d="blank",h="_",f=m[1]);break;case'"':if(m=this._simpleQuotedString.exec(n))f=m[1];else if({value:f,matchLength:y}=this._parseLiteral(n),f===null)return o(this);(m!==null||y!==0)&&(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(m=this._simpleApostropheString.exec(n))f=m[1];else if({value:f,matchLength:y}=this._parseLiteral(n),f===null)return o(this);(m!==null||y!==0)&&(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(m=this._variable.exec(n))&&(d="var",f=m[0]);break;case"@":this._previousMarker==="literal"&&(m=this._langcode.exec(n))?(d="langcode",f=m[1]):(m=this._keyword.exec(n))&&(d=m[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){d=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(m=this._number.exec(n)||r&&(m=this._number.exec(`${n} `)))&&(d="literal",f=m[0],h=typeof m[1]=="string"?Ia.double:typeof m[2]=="string"?Ia.decimal:Ia.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(m=this._sparqlKeyword.exec(n))?d=m[0].toUpperCase():_=!0;break;case"f":case"t":(m=this._boolean.exec(n))?(d="literal",f=m[0],h=Ia.boolean):_=!0;break;case"a":(m=this._shortPredicates.exec(n))?(d="abbreviation",f="a"):_=!0;break;case"=":this._n3Mode&&n.length>1&&(d="abbreviation",n[1]!==">"?(y=1,f="="):(y=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(y=1,d=u);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(d="{|",y=2):(d=u,y=1));break;case"|":n.length>=2&&n[1]==="}"&&(d="|}",y=2);break;default:_=!0}if(_&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(m=this._prefix.exec(n))?(d="prefix",f=m[1]||""):((m=this._prefixed.exec(n))||r&&(m=this._prefixed.exec(`${n} `)))&&(d="prefixed",h=m[1]||"",f=this._unescape(m[2]))),this._previousMarker==="^^")switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const x=y||m[0].length,A=i(d,f,h,c,x);this.previousToken=A,this._previousMarker=d,n=n.substr(x,n.length)}function i(a,l,c,u,d){const f=n?s-n.length:s,h=f+d,m={type:a,value:l,prefix:c,line:u,start:f,end:h};return e(null,m),m}function o(a){e(a._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1;const n=e.replace(VE,(s,i,o,a)=>{if(typeof i=="string")return String.fromCharCode(Number.parseInt(i,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return a in Ym?Ym[a]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){const r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let s=Math.max(this._literalClosingPos,n);for(;(s=e.indexOf(r,s))>0;){let i=0;for(;e[s-i-1]==="\\";)i++;if(i%2===0){const o=e.substring(n,s),a=o.split(/\r\n|\r|\n/).length-1,l=s+n;if(n===1&&a!==0||n===3&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:l}}s++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")queueMicrotask(()=>this._tokenizeToEnd(r,!0));else{const n=[];let s;if(this._tokenizeToEnd((i,o)=>i?s=i:n.push(o),!0),s)throw s;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=qE.Buffer.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}}const{rdf:GE,xsd:xi}=Br;let oa,JE=0;const cv={namedNode:fv,blankNode:hv,variable:mv,literal:pv,defaultGraph:ZE,quad:jd,triple:jd,fromTerm:Eo,fromQuad:gv};class Mn{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Mn?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class uv extends Mn{get termType(){return"NamedNode"}}class Co extends Mn{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new uv(this.datatypeString)}get datatypeString(){const e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?xi.string:GE.langString}equals(e){return e instanceof Co?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class XE extends Mn{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class YE extends Mn{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class QE extends Mn{constructor(){return super(""),oa||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}oa=new QE;class dv extends Mn{constructor(e,r,n,s){super(""),this._subject=e,this._predicate=r,this._object=n,this._graph=s||oa}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function fv(t){return new uv(t)}function hv(t){return new XE(t||`n3-${JE++}`)}function pv(t,e){if(typeof e=="string")return new Co(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=xi.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?xi.integer:xi.double:(r=xi.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===xi.string?new Co(`"${t}"`):new Co(`"${t}"^^${r}`)}function mv(t){return new YE(t)}function ZE(){return oa}function jd(t,e,r,n){return new dv(t,e,r,n)}function Eo(t){if(t instanceof Mn)return t;switch(t.termType){case"NamedNode":return fv(t.value);case"BlankNode":return hv(t.value);case"Variable":return mv(t.value);case"DefaultGraph":return oa;case"Literal":return pv(t.value,t.language||t.datatype);case"Quad":return gv(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function gv(t){if(t instanceof dv)return t;if(t.termType!=="Quad")throw new Error(`Unexpected termType: ${t.termType}`);return jd(Eo(t.subject),Eo(t.predicate),Eo(t.object),Eo(t.graph))}let Qm=0;class yv{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&bv(this,e.factory);const r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),s=/trig/.test(r),i=/triple/.test(r),o=/quad/.test(r),a=this._n3Mode=/n3/.test(r),l=i||o;(this._supportsNamedGraphs=!(n||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||s||i||a),this._isImpliedBy=e.isImpliedBy,this._supportsRDFStar=r===""||/star|\*$/.test(r),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new KE({lineMode:l,n3:a,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){Qm=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,s,i){const o=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:s,object:i,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,r){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":const s=this._resolveIRI(e.value);if(s===null)return this._error("Invalid IRI",e);n=this._factory.namedNode(s);break;case"type":case"prefixed":const i=this._prefixes[e.prefix];if(i===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._factory.namedNode(i+e.value);break;case"blank":n=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,s=this._readListItem;const i=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=r=this._factory.blankNode()),s=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(s=this._readPredicate,this._subject===this.RDF_NIL)return s}else if(s=this._getContextEndReader(),this._object===this.RDF_NIL)return s;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,s=this._readListItemDataTypeOrLang):(r=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),s=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._factory.blankNode()),i===null?a.predicate===null?a.subject=n:a.object=n:this._emit(i,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return s}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(n===void 0)return;r=this._factory.literal(this._literalValue,n),e=null;break;case"langcode":r=this._factory.literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){const n=this._completeLiteral(e);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph;const s=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const o=this._predicate,a=this._object;this._subject=this._factory.quad(s,o,a,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(s!==null){const o=this._predicate,a=this._object;i?this._emit(a,o,s,n):this._emit(s,o,a,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){const r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const s=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,s,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n;const s=this._factory.blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=s):(r=this._object,this._object=s),this._emit(r,n,s,this._graph),this._readPath}_readBackwardPath(e){const r=this._factory.blankNode();let n,s;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(s=this._subject,this._subject=r):(s=this._object,this._object=r),this._emit(r,n,s,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const r=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,s){this._callback(null,this._factory.quad(e,r,n,s||this.DEFAULTGRAPH))}_error(e,r){const n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=Ta}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const r=e.length;let n="",s=-1,i=-1,o=0,a="/";for(;s<r;){switch(a){case":":if(i<0&&e[++s]==="/"&&e[++s]==="/")for(;(i=s+1)<r&&e[i]!=="/";)s=i;break;case"?":case"#":s=r;break;case"/":if(e[s+1]===".")switch(a=e[++s+1],a){case"/":n+=e.substring(o,s-1),o=s+1;break;case void 0:case"?":case"#":return n+e.substring(o,s)+e.substr(s+1);case".":if(a=e[++s+1],a===void 0||a==="/"||a==="?"||a==="#"){if(n+=e.substring(o,s-2),(o=n.lastIndexOf("/"))>=i&&(n=n.substr(0,o)),a!=="/")return`${n}/${e.substr(s+1)}`;o=s+1}}}a=e[++s]}return n+e.substring(o)}parse(e,r,n){let s,i,o;if(r&&(r.onQuad||r.onPrefix||r.onComment)?(s=r.onQuad,i=r.onPrefix,o=r.onComment):(s=r,i=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Qm++}_`,this._prefixCallback=i||Ta,this._inversePredicate=!1,this._quantified=Object.create(null),!s){const l=[];let c;if(this._callback=(u,d)=>{u?c=u:d&&l.push(d)},this._lexer.tokenize(e).every(u=>this._readCallback=this._readCallback(u)),c)throw c;return l}let a=(l,c)=>{l!==null?(this._callback(l),this._callback=Ta):this._readCallback&&(this._readCallback=this._readCallback(c))};o&&(this._lexer.comments=!0,a=(l,c)=>{l!==null?(this._callback(l),this._callback=Ta):this._readCallback&&(c.type==="comment"?o(c.value):this._readCallback=this._readCallback(c))}),this._callback=s,this._lexer.tokenize(e,a)}}function Ta(){}function bv(t,e){t._factory=e,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=e.namedNode(Br.rdf.first),t.RDF_REST=e.namedNode(Br.rdf.rest),t.RDF_NIL=e.namedNode(Br.rdf.nil),t.N3_FORALL=e.namedNode(Br.r.forAll),t.N3_FORSOME=e.namedNode(Br.r.forSome),t.ABBREVIATIONS={a:e.namedNode(Br.rdf.type),"=":e.namedNode(Br.owl.sameAs),">":e.namedNode(Br.log.implies),"<":e.namedNode(Br.log.isImpliedBy)},t.QUANTIFIERS_GRAPH=e.namedNode("urn:n3:quantifiers")}bv(yv.prototype,cv);function eA(t){return!!t&&t.termType==="DefaultGraph"}function rl(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const tA=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,rA=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,Zm="./",nA="../",Bu="?",eg="#";class th{constructor(e){this.base=e,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(e.length+1)}static supports(e){return!tA.test(e)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!th.supports(this.base))return this._baseMatcher=/.^/;const e=/^[^:]*:\/*/.exec(this.base)[0],r=["^",rl(e)],n=[],s=[],i=/[^/?#]*([/?#])/y;let o,a=0,l=0,c=i.lastIndex=e.length;for(;!a&&!l&&(o=i.exec(this.base));)o[1]===eg?l=i.lastIndex-1:(r.push(rl(o[0]),"(?:"),n.push(")?"),o[1]!==Bu?s.push(c=i.lastIndex):(a=c=i.lastIndex,l=this.base.indexOf(eg,a),this._pathReplacements[a]=Bu));for(let u=0;u<s.length;u++)this._pathReplacements[s[u]]=nA.repeat(s.length-u-1);return this._pathReplacements[s[s.length-1]]=Zm,this._baseLength=l>0?l:this.base.length,r.push(rl(this.base.substring(c,this._baseLength)),a?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...r,...n].join(""))}toRelative(e){const r=this._getBaseMatcher().exec(e);if(!r)return e;const n=r[0].length;if(n===this._baseLength&&n===e.length)return"";const s=this._pathReplacements[n];if(s){const i=e.substring(n);return s!==Bu&&!rA.test(i)?e:s===Zm&&/^[^?#]/.test(i)?i:s+i}return e.substring(n-1)}}const co=cv.defaultGraph(),{rdf:sA,xsd:mi}=Br,tg=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,rg=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,iA={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class uo extends Mn{equals(e){return e===this}}class oA{constructor(e,r){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(r=e,e=null),r=r||{},this._lists=r.lists,e)this._outputStream=e,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(s,i,o){n+=s,o&&o()},end:s=>{s&&s(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=co,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseIri=new th(r.baseIRI)))}get _inDefaultGraph(){return co.equals(this._graph)}_write(e,r){this._outputStream.write(e,"utf8",r)}_writeQuad(e,r,n,s,i){try{s.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(co.equals(s)?"":`${this._encodeIriOrBlank(s)} {
`)),this._graph=s,this._subject=null),e.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,i):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,i):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,i)}catch(o){i&&i(o)}}_writeQuadLine(e,r,n,s,i){delete this._prefixMatch,this._write(this.quadToString(e,r,n,s),i)}quadToString(e,r,n,s){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${s&&s.value?` ${this._encodeIriOrBlank(s)} .
`:` .
`}`}quadsToString(e){let r="";for(const n of e)r+=this.quadToString(n.subject,n.predicate,n.object,n.graph);return r}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let r=e.value;this._baseIri&&(r=this._baseIri.toRelative(r)),tg.test(r)&&(r=r.replace(rg,ng));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(e){let r=e.value;if(tg.test(r)&&(r=r.replace(rg,ng)),e.language)return`"${r}"@${e.language}`;if(this._lineMode){if(e.datatype.value===mi.string)return`"${r}"`}else switch(e.datatype.value){case mi.string:return`"${r}"`;case mi.boolean:if(r==="true"||r==="false")return r;break;case mi.integer:if(/^[+-]?\d+$/.test(r))return r;break;case mi.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case mi.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===sA.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:r,object:n,graph:s}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${eA(s)?"":` ${this._encodeIriOrBlank(s)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,r,n,s,i){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,r):typeof s=="function"?this._writeQuad(e,r,n,co,s):this._writeQuad(e,r,n,s||co,i)}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}addPrefix(e,r,n){const s={};s[e]=r,this.addPrefixes(s,n)}addPrefixes(e,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let s in e){let i=e[s];typeof i!="string"&&(i=i.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[i]=s+=":",this._write(`@prefix ${s} <${i}>.
`)}if(n){let s="",i="";for(const o in this._prefixIRIs)s+=s?`|${o}`:o,i+=(i?"|":"")+this._prefixIRIs[o];s=rl(s),this._prefixRegex=new RegExp(`^(?:${i})[^/]*$|^(${s})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(e,r){let n=e,s,i;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:r}]:"length"in e||(n=[e]),i=n.length){case 0:return new uo("[]");case 1:if(s=n[0],!(s.object instanceof uo))return new uo(`[ ${this._encodePredicate(s.predicate)} ${this._encodeObject(s.object)} ]`);default:let o="[";for(let a=0;a<i;a++)s=n[a],s.predicate.equals(e)?o+=`, ${this._encodeObject(s.object)}`:(o+=`${(a?`;
  `:`
  `)+this._encodePredicate(s.predicate)} ${this._encodeObject(s.object)}`,e=s.predicate);return new uo(`${o}
]`)}}list(e){const r=e&&e.length||0,n=new Array(r);for(let s=0;s<r;s++)n[s]=this._encodeObject(e[s]);return new uo(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=e&&((n,s)=>{r=null,e(n,s)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function ng(t){let e=iA[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}var aA=Object.defineProperty,lA=(t,e,r)=>e in t?aA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zr=(t,e,r)=>lA(t,typeof e!="symbol"?e+"":e,r);function cA(t,e,r){return t?`Malformed ${e} document found at ${t} - ${r}`:`Malformed ${e} document - ${r}`}var vv=(t=>(t.Turtle="Turtle",t))(vv||{});let uA=class extends Yr{constructor(e,r,n){super(cA(e,r,n)),zr(this,"documentUrl"),zr(this,"documentFormat"),zr(this,"malformationDetails"),this.documentUrl=e,this.documentFormat=r,this.malformationDetails=n}},_v=class extends Yr{constructor(e,r){super(`Request failed trying to fetch ${e}`,r),zr(this,"url"),this.url=e}},Ud=class extends Yr{constructor(e){super(`Document with '${e}' url not found`),zr(this,"url"),this.url=e}};function dA(t,e){return`Unauthorized${e===403?" (Forbidden)":""}: ${t}`}let Bd=class extends Yr{constructor(e,r){super(dA(e,r)),zr(this,"url"),zr(this,"responseStatus"),this.url=e,this.responseStatus=r}get forbidden(){return typeof this.responseStatus<"u"?this.responseStatus===403:void 0}};const fA={acl:"http://www.w3.org/ns/auth/acl#",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",pim:"http://www.w3.org/ns/pim/space#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",vcard:"http://www.w3.org/2006/vcard/ns#"};function Ts(t,e={}){var r;if(t.startsWith("http"))return t;const[n,s]=t.split(":");if(n&&s){const i=fA[n]??((r=e.extraContext)==null?void 0:r[n])??null;if(!i)throw new Error(`Can't expand IRI with unknown prefix: '${t}'`);return i+s}if(!e.defaultPrefix)throw new Error(`Can't expand IRI without a default prefix: '${t}'`);return e.defaultPrefix+n}class hA{constructor(e,r){zr(this,"url"),zr(this,"quads"),this.url=e,this.quads=r}value(e){var r;return(r=this.quads.find(n=>n.predicate.value===Ts(e)))==null?void 0:r.object.value}values(e){return this.quads.filter(r=>r.predicate.value===Ts(e)).map(r=>r.object.value)}}let wv=class{constructor(e=[]){zr(this,"quads"),this.quads=e}isEmpty(){return this.statements.length===0}getQuads(){return this.quads.slice(0)}addQuads(e){this.quads.push(...e)}statements(e,r,n){return this.quads.filter(s=>(!n||this.termMatches(s.object,n))&&(!e||this.termMatches(s.subject,e))&&(!r||this.termMatches(s.predicate,r)))}statement(e,r,n){return this.quads.find(s=>(!n||this.termMatches(s.object,n))&&(!e||this.termMatches(s.subject,e))&&(!r||this.termMatches(s.predicate,r)))??null}contains(e,r,n){return this.statement(e,r,n)!==null}getThing(e){const r=this.statements(e);return new hA(e,r)}expandIRI(e){return Ts(e)}termMatches(e,r){return typeof r=="string"?this.expandIRI(r)===e.value:e.termType===e.termType&&e.value===r.value}};var xs=(t=>(t.Read="read",t.Write="write",t.Append="append",t.Control="control",t))(xs||{});let vl=class extends wv{constructor(e,r,n){super(r),zr(this,"url"),zr(this,"headers"),this.url=e,this.headers=n}isACPResource(){var e;return!!((e=this.headers.get("Link"))!=null&&e.match(/<http:\/\/www\.w3\.org\/ns\/solid\/acp#AccessControlResource>;[^,]+rel="type"/))}isPersonalProfile(){return!!this.statement(this.url,Ts("rdf:type"),Ts("foaf:PersonalProfileDocument"))}isStorage(){var e;return!!((e=this.headers.get("Link"))!=null&&e.match(/<http:\/\/www\.w3\.org\/ns\/pim\/space#Storage>;[^,]+rel="type"/))}isUserWritable(){return this.getUserPermissions().includes("write")}getUserPermissions(){return this.getPermissionsFromWAC("user")}getPublicPermissions(){return this.getPermissionsFromWAC("public")}getLastModified(){var e;return Kc(this.headers.get("last-modified"))??Kc((e=this.statement(this.url,"purl:modified"))==null?void 0:e.object.value)??this.getLatestDocumentDate()??null}expandIRI(e){return Ts(e,{defaultPrefix:this.url})}getLatestDocumentDate(){const e=[...this.statements(void 0,"purl:modified"),...this.statements(void 0,"purl:created")].map(r=>Kc(r.object.value)).filter(r=>r!==null);return e.length>0?e.reduce((r,n)=>r>n?r:n):null}getPermissionsFromWAC(e){var r;const n=this.headers.get("WAC-Allow")??"",s=((r=Vb(n,new RegExp(`${e}="([^"]+)"`)))==null?void 0:r[1])??"";return Xt([s.includes("read")&&"read",s.includes("write")&&"write",s.includes("append")&&"append",s.includes("control")&&"control"])}};async function pA(t){const e=await eh.compact(t,{});return"@graph"in e?e:"@id"in e?{"@graph":[e]}:{"@graph":[]}}function mA(t){return"@graph"in t}const _l="anonymous://",sg=_l.length;async function gA(t,e){const r={headers:{Accept:"text/turtle"}};e!=null&&e.cache&&(r.cache=e.cache);try{const n=await((e==null?void 0:e.fetch)??window.fetch)(t,r);if(n.status===404)throw new Ud(t);if([401,403].includes(n.status))throw new Bd(t,n.status);return{body:await n.text(),headers:n.headers}}catch(n){throw n instanceof Bd||n instanceof Ud?n:new _v(t,{cause:n})}}function xv(t){var e;if((e=t["@id"])!=null&&e.startsWith("#")){t["@id"]=_l+t["@id"];for(const[r,n]of Object.entries(t))typeof n!="object"||n===null||!("@id"in n)||xv(t[r])}}function yA(t){for(const e of t)e.subject.value.startsWith(_l)&&(e.subject.value=e.subject.value.slice(sg)),e.object.value.startsWith(_l)&&(e.object.value=e.object.value.slice(sg))}async function bA(t,e,r){r=r??window.fetch.bind(window);const n=await nh(e);return await r(t,{method:"PUT",headers:{"Content-Type":"text/turtle"},body:e}),new vl(t,n,new Headers({}))}async function qi(t,e){const{body:r,headers:n}=await gA(t,e),s=await nh(r,{baseIRI:t});return new vl(t,s,n)}async function vA(t,e){try{return await qi(t,e)}catch(r){if(!(r instanceof Ud))throw r;return null}}async function rh(t,e){if(mA(t))return(await Promise.all(t["@graph"].map(n=>rh(n,e)))).flat();xv(t);const r=await eh.toRDF(t,{base:e});return yA(r),r}function Ev(t,e={}){const r=xr({baseIRI:e.baseIRI}),n=new yv(r),s={quads:[],containsRelativeIRIs:!1};return new Promise((i,o)=>{const a=n._resolveRelativeIRI;n._resolveRelativeIRI=(...l)=>(s.containsRelativeIRIs=!0,n._resolveRelativeIRI=a,n._resolveRelativeIRI(...l)),n.parse(t,(l,c)=>{if(l){o(new uA(e.baseIRI??null,vv.Turtle,l.message));return}if(!c){i(s);return}s.quads.push(c)})})}async function Zl(t){return{"@graph":await eh.fromRDF(t)}}function _A(t){return new oA().quadsToString(t)}async function wA(t,e){try{return!(await qi(t,e)).isEmpty()}catch{return!1}}async function nh(t,e={}){const{quads:r}=await Ev(t,e);return r}async function xA(t,e,r){r=r??window.fetch.bind(window),await r(t,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:e})}var EA=Object.defineProperty,AA=(t,e,r)=>e in t?EA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qd=(t,e,r)=>AA(t,typeof e!="symbol"?e+"":e,r);function SA(t,e){return e=e??t,typeof t=="string"?`${t} (returned ${e.status} status code)`:`Request to ${e.url} returned ${e.status} status code`}let IA=class extends Yr{constructor(e,r){super(SA(e,r)),qd(this,"response"),this.response=r??e}},TA=class extends Yr{constructor(e,r,n){super(`The resource at ${e} is using an unsupported authorization protocol (${r})`,n),qd(this,"url"),qd(this,"protocol"),this.url=e,this.protocol=r}};async function RA(t,e){var r;const n=new wv(t.getQuads()),s={[t.url]:t},i=a=>{a.statements(void 0,"foaf:isPrimaryTopicOf").map(l=>l.object.value).forEach(l=>s[l]=s[l]??null),a.statements(void 0,"foaf:primaryTopic").map(l=>l.subject.value).forEach(l=>s[l]=s[l]??null)},o=async()=>{for(const[a,l]of Object.entries(s))if(l===null)try{const c=await qi(a,e);s[a]=c,n.addQuads(c.getQuads()),i(c)}catch(c){if(c instanceof Bd){s[a]=!1;continue}throw c}};i(t);do await o();while(Object.values(s).some(a=>a===null));return{store:n,cloaked:Object.values(s).some(a=>a===!1),writableProfileUrl:t.isUserWritable()?t.url:((r=Object.values(s).find(a=>!!a&&a.isUserWritable()))==null?void 0:r.url)??null}}async function ig(t,e={}){var r,n,s,i,o,a;const l={fetch:e.fetch,cache:"no-store"},c=In(t),u=await qi(c,l);if(!u.isPersonalProfile()&&!u.contains(t,"solid:oidcIssuer"))throw new Error(`${t} is not a valid webId.`);const{store:d,writableProfileUrl:f,cloaked:h}=await RA(u,e),m=d.statements(t,"pim:storage").map(A=>A.object.value),y=d.statement(t,"solid:publicTypeIndex"),_=d.statement(t,"solid:privateTypeIndex");let x=Hr(c);for(;x&&m.length===0;){const A=await qb(qi(x,l));if(A!=null&&A.isStorage()){m.push(x);break}x=Hr(x)}if(m.length===0)throw new Error(`Could not find any storage for ${t}.`);return await((r=e.onLoaded)==null?void 0:r.call(e,d)),{webId:t,cloaked:h,writableProfileUrl:f,storageUrls:Cr(m),...xr({name:((n=d.statement(t,"vcard:fn"))==null?void 0:n.object.value)??((s=d.statement(t,"foaf:name"))==null?void 0:s.object.value),avatarUrl:((i=d.statement(t,"vcard:hasPhoto"))==null?void 0:i.object.value)??((o=d.statement(t,"foaf:img"))==null?void 0:o.object.value),oidcIssuerUrl:(a=d.statement(t,"solid:oidcIssuer"))==null?void 0:a.object.value,publicTypeIndexUrl:y==null?void 0:y.object.value,privateTypeIndexUrl:_==null?void 0:_.object.value})}}async function OA(t,e={}){if(e.required)return ig(t,e);const r=qb(n=>ig(n,e));return await r(t)??await r(t.replace(/\/$/,"").concat("/profile/card#me"))??await r(Nn(t).concat("/profile/card#me"))}function CA(t){return!t.path||!t.path.startsWith("/")?null:t.path.match(/^\/[^/]*$/)?"/":`/${Qb(t.path.split("/")).filter().slice(0,-1).join("/")}/`.replace("//","/")}function kA(t){const e=CA(t);return t.protocol&&t.domain?`${t.protocol}://${t.domain}${e??"/"}`:e}function Vd(t){if(!(!("@type"in t)||"@value"in t)){t["@id"]=t["@id"]??Ar();for(const e of Object.values(t))lt(e)&&Vd(e),X1(e)&&e.forEach(r=>lt(r)&&Vd(r))}}function DA(t){return Ne(rn(t),e=>Vd(e))}function PA(t){const e=sa(t);return e?xr({containerUrl:kA(e),documentName:e.path?e.path.split("/").pop():null,resourceHash:e.fragment}):{}}async function $A(t,e,r){r=r??window.fetch.bind(r);const n=t.storageUrls[0],s=`${n}settings/${e}TypeIndex`;return await wA(s,{fetch:r})?`${n}settings/${e}TypeIndex-${Ar()}`:s}async function Av(t,e,r){if(t.writableProfileUrl===null)throw new Error("Can't create type index without a writable profile document");r=r??window.fetch.bind(r);const n=await $A(t,e,r),s=e==="public"?"<> a <http://www.w3.org/ns/solid/terms#TypeIndex> .":`
            <> a
                <http://www.w3.org/ns/solid/terms#TypeIndex>,
                <http://www.w3.org/ns/solid/terms#UnlistedDocument> .
        `,i=`
        INSERT DATA {
            <${t.webId}> <http://www.w3.org/ns/solid/terms#${e}TypeIndex> <${n}> .
        }
    `;return await bA(n,s,r),await xA(t.writableProfileUrl,i,r),n}async function Sv(t,e,r,n){const s=await qi(t,{fetch:n});return(Array.isArray(e)?e:[e]).map(i=>s.statements(void 0,"rdf:type","solid:TypeRegistration").filter(o=>s.contains(o.subject.value,"solid:forClass",i)).map(o=>s.statements(o.subject.value,r)).flat().map(o=>o.object.value).filter(o=>!!o)).flat()}async function LA(t,e){return Av(t,"public",e)}async function NA(t,e){return Av(t,"private",e)}async function MA(t,e,r){return Sv(t,e,"solid:instanceContainer",r)}async function FA(t,e,r){return Sv(t,e,"solid:instance",r)}async function Iv(t,e){var r;e=e??window.fetch.bind(window);const n=((r=((await e(t,{method:"HEAD"})).headers.get("Link")??"").match(/<([^>]+)>;\s*rel="acl"/))==null?void 0:r[1])??null;if(!n)throw new Error(`Could not find ACL Resource for '${t}'`);return Bi(an(t),n)}async function Tv(t,e,r){r=r??await Iv(t,e);const n=await vA(r??"",{fetch:e});if(!n)return Tv(an(t),e);if(n.isACPResource())throw new TA(t,"ACP");return n}async function jA(t,e){const r=await Iv(t,e),n=await Tv(t,e,r);return xr({url:r,effectiveUrl:n.url,document:n})}var UA=Object.defineProperty,BA=(t,e,r)=>e in t?UA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pe=(t,e,r)=>BA(t,typeof e!="symbol"?e+"":e,r);const lr={ChangeUrl:"change",RemoveProperty:"remove",ShieldProperty:"shield",UpdateProperty:"update"};class qA{constructor(e,r){Pe(this,"type",lr.ChangeUrl),this.resourceUrl=e,this.newResourceUrl=r}}const VA={crdt:"https://vocab.noeldemartin.com/crdt/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",pim:"http://www.w3.org/ns/pim/space#",posix:"http://www.w3.org/ns/posix/stat#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",xsd:"http://www.w3.org/2001/XMLSchema#"};function mt(t,e={},r=""){if(/^https?:\/\//.test(t))return t;const n=t.indexOf(":");if(n===-1)return r+t;e={...VA,...e};const s=t.slice(0,n);return s in e?e[s]+t.slice(s.length+1):t}const HA=mt("crdt:property"),og=mt("crdt:resource"),Oi=mt("ldp:Container"),sh=mt("ldp:contains"),zA=mt("purl:modified"),Rv=mt("rdf:type"),ag=mt("xsd:dateTime");function WA(t){const e=(...i)=>i.map(o=>o.toString().padStart(2,"0")),r=e(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate()).join("-"),n=e(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()).join(":"),s=t.getUTCMilliseconds().toString().padStart(3,"0");return`${r}T${n}.${s}Z`}var bs=(t=>(t[t.Type=0]="Type",t[t.Reference=1]="Reference",t[t.Literal=2]="Literal",t))(bs||{});class Ov{constructor(e){Pe(this,"name"),this.name=e}}const gi={dateTime:mt("xsd:dateTime"),integer:mt("xsd:integer"),boolean:mt("xsd:boolean"),decimal:mt("xsd:decimal"),float:mt("xsd:float"),double:mt("xsd:double")};class Ut{constructor(e,r,n){Pe(this,"resourceUrl"),Pe(this,"name"),Pe(this,"value"),this.resourceUrl=e,this.name=r,this.value=n}static fromStatement(e){const r=e.subject.termType==="NamedNode"?e.subject.value:null;if(e.predicate.value===Rv)return this.type(r,e.object.value);if(e.object.termType==="NamedNode")return this.reference(r,e.predicate.value,decodeURI(e.object.value));if(e.object.termType==="BlankNode")return this.reference(r,e.predicate.value,null);if(e.object.termType==="Variable")return this.reference(r,e.predicate.value,new Ov(e.object.value));const n=e.object;return this.literal(r,e.predicate.value,this.castLiteralValue(e.object.value,n.datatype.value),n.value)}static literal(e,r,n,s){return new KA(e,r,n,s)}static reference(e,r,n){return new GA(e,r,n)}static type(e,r){return new JA(e,r)}static toTurtle(e,r=null){return e.map(n=>n.toTurtle(r)+" .").join(`
`)}static castLiteralValue(e,r){switch(r){case gi.dateTime:return new Date(e);case gi.integer:case gi.decimal:return parseInt(e);case gi.boolean:return e==="true"||e==="1";case gi.float:case gi.double:return parseFloat(e)}return e}toTurtle(e=null){const r=this.getTurtleSubject(e),n=this.getTurtlePredicate(),s=this.getTurtleObject(e);return`${r} ${n} ${s}`}clone(e){switch(e=e??this.resourceUrl,this.type){case 2:{const r=this;return Ut.literal(e,r.name,r.value,r.originalValue)}case 0:return Ut.type(e,this.value);case 1:return Ut.reference(e,this.name,this.value)}}valueEquals(e){const r=this.value instanceof Date?this.value.getTime():this.value,n=e.value instanceof Date?e.value.getTime():e.value;return r===n}getTurtleReference(e,r){const n=(e==null?void 0:e.indexOf("#"))??-1;return!e||e===r?"<>":r===null||!e.startsWith(r)||n===-1?`<${encodeURI(e)}>`:`<#${e.slice(n+1)}>`}getTurtleSubject(e){return this.getTurtleReference(this.resourceUrl,e)}getTurtlePredicate(){return`<${encodeURI(this.name)}>`}}class KA extends Ut{constructor(e,r,n,s){super(e,r,n),Pe(this,"type",2),this.originalValue=s}getTurtleObject(){return this.originalValue&&this.value instanceof Date?`"${this.originalValue}"^^<${ag}>`:this.value instanceof Date?`"${WA(this.value)}"^^<${ag}>`:JSON.stringify(this.value)}}class GA extends Ut{constructor(e,r,n){super(e,r,n),Pe(this,"type",1)}getTurtleObject(e){return this.value instanceof Ov?this.value.name:this.getTurtleReference(this.value,e)}}class JA extends Ut{constructor(e,r){super(e,Rv,r),Pe(this,"type",0)}getTurtlePredicate(){return"a"}getTurtleObject(){return`<${encodeURI(this.value)}>`}}class XA{constructor(e){Pe(this,"url"),Pe(this,"types"),Pe(this,"properties"),Pe(this,"propertiesIndex"),Pe(this,"statements"),this.url=e,this.statements=[],this.types=[],this.properties=[],this.propertiesIndex={}}get name(){return this.getPropertyValue(mt("foaf:name"))}get label(){return this.getPropertyValue(mt("rdfs:label"))}isType(e){return this.types.indexOf(mt(e))!==-1}getPropertyValue(e,r=null){const[n]=this.propertiesIndex[mt(e)]||[];return n?n.value:r}getPropertyValues(e){return(this.propertiesIndex[mt(e)]||[]).map(r=>r.value)}addStatement(e){if(e.subject.value!==this.url)return;const r=Ut.fromStatement(e);r.type===bs.Type&&this.types.push(r.value),this.statements.push(e),this.properties.push(r),this.propertiesIndex[r.name]=(this.propertiesIndex[r.name]||[]).concat([r])}}class ih extends Me{constructor(e,r){super(r?`Couldn't find resource with id '${e}' in '${r}' document.`:`Couldn't find resource with id '${e}' in document.`)}}const Cv=class nl{constructor(e,r=[],n={}){Pe(this,"url"),Pe(this,"metadata"),Pe(this,"statements"),Pe(this,"resourcesIndex"),Pe(this,"properties"),Pe(this,"resources"),this.url=e,this.statements=r,this.metadata=n,this.resourcesIndex=this.statements.reduce((s,i)=>{const o=i.subject.value;return(s[o]=s[o]??new XA(o)).addStatement(i),s},{}),this.resources=Object.values(this.resourcesIndex),this.properties=this.resources.reduce((s,i)=>s.concat(i.properties),[])}static async fromTurtle(e,r={}){const n=await Ev(e,{baseIRI:r.baseIRI});return new nl(r.baseIRI||"",n.quads,{containsRelativeIRIs:n.containsRelativeIRIs,describedBy:YA(r),headers:r.headers})}static async resourceFromJsonLDGraph(e,r,n){const s=()=>n??e["@graph"].find(i=>i["@id"]===r)??We(ih,r);return(this.documentsCache.get(e)??await this.fromJsonLD(s())).requireResource(r)}static async fromJsonLD(e,r){return this.documentsCache.get(e)??await this.getFromJsonLD(e,r)}static reduceJsonLDGraph(e,r){return Ne({"@graph":e["@graph"].filter(n=>n["@id"]!==r)},n=>{const s=this.documentsCache.get(e);s&&this.cacheJsonLD(n,s.clone({removeResourceUrls:[r]}))})}static cacheJsonLD(e,r){this.documentsCache.set(e,r)}static async getFromJsonLD(e,r){const n=await rh(e,r);return Ne(new nl(e["@id"]?In(e["@id"]):null,n),s=>{this.documentsCache.set(e,s)})}isEmpty(){return this.statements.length===0}hasProperty(e,r){const n=this.resourcesIndex[e];return!!n&&r in n.propertiesIndex}async toJsonLD(){return Zl(this.statements)}resource(e){return this.resourcesIndex[e]??null}requireResource(e){const r=this.resource(e);if(!r)throw new Me(`Resource '${e}' not found`);return r}clone(e={}){return Ne(new nl(e.changeUrl??this.url,[],this.metadata),r=>{const n=e.removeResourceUrls;if(!n){r.statements=this.statements.slice(0),r.properties=this.properties.slice(0),r.resources=this.resources.slice(0),r.resourcesIndex={...this.resourcesIndex};return}r.statements=this.statements.filter(s=>!n.includes(s.subject.value)),r.properties=this.properties.filter(s=>!s.resourceUrl||!n.includes(s.resourceUrl)),r.resources=this.resources.filter(s=>!n.includes(s.url)),r.resourcesIndex=ex(r.resources,"url")})}};Pe(Cv,"documentsCache",new WeakMap);let ur=Cv;function YA(t={}){var e,r;if(!((e=t.headers)!=null&&e.has("Link")))return;const n=(r=t.headers.get("Link"))==null?void 0:r.match(/<([^>]+)>;\s*rel="describedBy"/i);if(n)return Bi(t.baseIRI||"",n[1])}let Ci=class{constructor(e,r,n){Pe(this,"type",lr.RemoveProperty),this.resourceUrl=e,this.property=r,this.value=n}};class QA{constructor(e,r){Pe(this,"type",lr.ShieldProperty),this.resourceUrl=e,this.property=r}}let ki=class{constructor(e){if(Pe(this,"type",lr.UpdateProperty),Pe(this,"propertyOrProperties"),this.propertyOrProperties=e,!Array.isArray(e))return;const[r,...n]=e;if(!r)throw new Error("Cannot create an UpdatePropertyOperation with an empty array");const{resourceUrl:s,name:i,type:o}=r;if(n.some(a=>a.resourceUrl!==s||a.name!==i||a.type!==o))throw new Error("All properties in an UpdatePropertyOperation must have the same resourceUrl, name and type")}get propertyResourceUrl(){return Array.isArray(this.propertyOrProperties)?this.propertyOrProperties[0].resourceUrl:this.propertyOrProperties.resourceUrl}get propertyName(){return Array.isArray(this.propertyOrProperties)?this.propertyOrProperties[0].name:this.propertyOrProperties.name}get propertyType(){return Array.isArray(this.propertyOrProperties)?this.propertyOrProperties[0].type:this.propertyOrProperties.type}};function ZA(t){return t.reduce((e,r)=>(e[r.type].push(r),e),{[lr.ChangeUrl]:[],[lr.RemoveProperty]:[],[lr.ShieldProperty]:[],[lr.UpdateProperty]:[]})}function lg(t){const e=t.filter(r=>r.type===lr.ShieldProperty).reduce((r,n)=>{var s,i;const o=n;return r[s=o.resourceUrl]??(r[s]=[]),(i=r[o.resourceUrl])==null||i.push(o.property),r},{});return t.reduce((r,n)=>{var s;switch(n.type){case lr.UpdateProperty:r[0].push(n.propertyOrProperties);break;case lr.RemoveProperty:if(!e[n.resourceUrl]){r[1].push(Xt([n.resourceUrl,n.property,n.value]));break}if(!n.property){r[1].push(Xt([n.resourceUrl,e[n.resourceUrl]]));break}if((s=e[n.resourceUrl])!=null&&s.includes(n.property))break;r[1].push(Xt([n.resourceUrl,n.property,n.value]));break}return r},[[],[]])}const eS=[sh,mt("posix:mtime"),mt("posix:size"),mt("purl:modified")],tS=[Oi,mt("ldp:BasicContainer")],cg=new Map;class rS{constructor(e){Pe(this,"fetch"),Pe(this,"config");const r=e??(globalThis==null?void 0:globalThis.fetch);this.fetch=async(n,s)=>{try{return await r(n,s)}catch(i){const o=typeof n=="object"?n.url:n;throw new _v(o,{cause:i})}},this.config={concurrentFetchBatchSize:5}}getFetch(){return this.fetch}setConfig(e){Object.assign(this.config,e)}async createDocument(e,r=null,n=[],s={}){return r&&n.some(i=>i.resourceUrl===r&&i.type===bs.Type&&i.value===Oi)?this.createContainerDocument(e,r,n):this.createNonContainerDocument(e,r,n,s)}async getDocument(e){const r=await this.fetch(e,{headers:{Accept:"text/turtle"}});if(r.status!==200)return null;const n=await r.text();return await ur.fromTurtle(n,{headers:r.headers,baseIRI:e})}async getDocuments(e){const r=await(await this.fetch(e,{headers:{Accept:"text/turtle"}})).text(),n=await ur.fromTurtle(r,{baseIRI:e});return this.getDocumentsFromContainer(e,n)}async updateDocument(e,r,n={}){var s;if(r.length===0)return;e=cg.get(e)??e;const i=await this.getDocument(e);if(i===null)throw new _s(e);return this.processChangeUrlOperations(i,r),this.processUpdatePropertyOperations(i,r),r.length===0?void 0:(s=i.resource(e))!=null&&s.isType(Oi)?await this.updateContainerDocument(i,r):await this.updateNonContainerDocument(i,r,n)}async overwriteDocument(e,r){const n=await this.getDocument(e);if(n===null)throw new _s(e);const s=await this.fetch(e,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:`
                DELETE DATA { ${Ut.toTurtle(n.properties,e)} } ;
                INSERT DATA { ${Ut.toTurtle(r,e)} }
            `});return this.assertSuccessfulResponse(s,`Error overwriting document at ${n.url}`),{headers:s.headers}}async deleteDocument(e,r){var n;const s=r??await this.getDocument(e);if(s===null)return;if((n=s.resource(e))!=null&&n.isType(Oi)){const o=await this.getDocumentsFromContainer(e,s);await Promise.all(o.map(a=>this.deleteDocument(a.url,a)))}const i=await this.fetch(e,{method:"DELETE"});return this.assertSuccessfulResponse(i,`Error deleting document at ${e}`),{headers:i.headers}}async documentExists(e){const r=await this.fetch(e,{headers:{Accept:"text/turtle"}});if(r.status===200)return(await r.text()).length>0;if(r.status===404)return!1;throw new Me(`Couldn't determine if document at ${e} exists, got ${r.status} response`)}async createContainerDocument(e,r,n){let s=await this.createContainerFolder(e,r);if(n.length!==0){const i=this.withoutReservedContainerProperties(r,n).map(o=>new ki(o));s=await this.updateDocument(r,i)??s}return{url:r,metadata:s}}async createContainerFolder(e,r){if(!r.startsWith(e))throw new Me("Explicit document url should start with the parent url");if(!r.endsWith("/"))throw new Me(`Container urls must end with a trailing slash, given ${r}`);const n=await this.fetch(r,{method:"PUT",headers:{Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}});return this.isInternalErrorResponse(n)?this.createContainerDocumentUsingPOST(r):(this.assertSuccessfulResponse(n,`Error creating container folder at ${r}`),{headers:n.headers})}async createContainerDocumentUsingPOST(e,r=!0){const n=an(e),s=await this.fetch(n,{method:"POST",headers:{Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',Slug:Fx(e),"If-None-Match":"*"}});return s.status===404&&r?(await this.createContainerDocumentUsingPOST(n),this.createContainerDocumentUsingPOST(e,!1)):(this.assertSuccessfulResponse(s,`Error creating container at ${e}`),{headers:s.headers})}async createNonContainerDocument(e,r,n,s={}){var i;if(!r||((i=s.method)==null?void 0:i.toLowerCase())==="post"){const a=s.format??"text/turtle",l=await this.renderProperties(r,n,a),c={"Content-Type":a};r&&(c.Slug=Wb(r));const u=await this.fetch(e,{method:s.method??"POST",headers:c,body:l});return this.assertSuccessfulResponse(u,`Error creating document under ${e}`),{url:Bi(e,u.headers.get("Location")||""),metadata:{headers:u.headers}}}if(!r.startsWith(e))throw new Me("A minted document url should start with the parent url");const o=await this.fetch(r,{method:"PATCH",headers:{"Content-Type":"application/sparql-update","If-None-Match":"*"},body:`INSERT DATA { ${Ut.toTurtle(n,r)} }`});return this.assertSuccessfulResponse(o,`Error creating document at ${r}`),{url:r,metadata:{headers:o.headers}}}async getDocumentsFromContainer(e,r){var n;const s=[],i=((n=r.resource(e))==null?void 0:n.getPropertyValues("ldp:contains"))??[];for(;i.length>0;){const o=i.splice(0,this.config.concurrentFetchBatchSize||i.length),a=await Promise.all(o.map(l=>this.getDocument(l)));s.push(...a)}return s.filter(o=>!!o)}async updateContainerDocument(e,r){const n=e.metadata.describedBy||`${e.url}.meta`;return e.url&&cg.set(e.url,n),await this.updateNonContainerDocument(e.clone({changeUrl:n}),r)}async updateNonContainerDocument(e,r,n={}){const s=n.format??"application/sparql-update";switch(s){case"application/sparql-update":return this.updateNonContainerDocumentWithSparql(e,r);case"application/ld+json":return this.updateNonContainerDocumentWithJsonLD(e,r)}throw new Error(`Unsupported update format: '${s}'`)}async updateNonContainerDocumentWithSparql(e,r){const[n,s]=lg(r),i=n.flat().map(l=>l.toTurtle(e.url)+" ."),o=e.properties.filter(l=>s.some(([c,u,d])=>c===l.resourceUrl&&(!u||typeof u=="string"&&u===l.name||Array.isArray(u)&&!u.includes(l.name))&&(!d||d===l.value))).map(l=>l.toTurtle(e.url)+" .");if(i.length===0&&o.length===0)return;const a=await this.fetch(e.url,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:Xt([o.length>0&&`DELETE DATA { ${o.join(`
`)} }`,i.length>0&&`INSERT DATA { ${i.join(`
`)} }`]).join(" ; ")});return this.assertSuccessfulResponse(a,`Error updating document at ${e.url}`),{headers:a.headers}}async updateNonContainerDocumentWithJsonLD(e,r){if(!e.url)throw new Error("Missing document url for JsonLD update");const[n,s]=lg(r),i=e.properties.filter(a=>!s.some(([l,c,u])=>l===a.resourceUrl&&(!c||typeof c=="string"&&c===a.name||Array.isArray(c)&&!c.includes(a.name))&&(!u||u===a.value))).concat(n.flat()),o=await this.fetch(e.url,{headers:{"Content-Type":"application/ld+json"},method:"PUT",body:await this.renderProperties(e.url,i,"application/ld+json")});return this.assertSuccessfulResponse(o,`Error updating document at ${e.url}`),{headers:o.headers}}withoutReservedContainerProperties(e,r){const n=i=>eS.includes(i.name),s=i=>i.type===bs.Type&&tS.includes(i.value);return r.filter(i=>i.resourceUrl!==e||!n(i)&&!s(i))}processChangeUrlOperations(e,r){const n=ZA(r);for(const s of n[lr.ChangeUrl]){const i=e.resource(s.resourceUrl);if(!i)continue;const o=n[lr.UpdateProperty].filter(l=>l.propertyResourceUrl===s.resourceUrl),a=n[lr.RemoveProperty].filter(l=>l.resourceUrl===s.resourceUrl);o.forEach(l=>{l.propertyOrProperties=Array.isArray(l.propertyOrProperties)?l.propertyOrProperties.map(c=>c.clone(s.newResourceUrl)):l.propertyOrProperties.clone(s.newResourceUrl)}),a.forEach(l=>l.resourceUrl=s.newResourceUrl),r.push(new Ci(s.resourceUrl)),r.push(...i.properties.filter(l=>!o.some(c=>c.propertyName===l.name)&&!a.some(c=>!c.property||c.property===l.name)).map(l=>new ki(l.clone(s.newResourceUrl)))),$r(r,s)}}processUpdatePropertyOperations(e,r){var n;const s=[],i=[],o=[];for(let l=0;l<r.length;l++){const c=r[l];if(c.type!==lr.UpdateProperty||c.propertyResourceUrl===null)continue;if(!Array.isArray(c.propertyOrProperties)){const y=c.propertyOrProperties,_=y.resourceUrl,[x,...A]=((n=e.resource(_??""))==null?void 0:n.propertiesIndex[y.name])??[];_&&x&&A.length===0&&y.type===x.type&&y.valueEquals(x)&&(i.push(c),r.push(new QA(_,y.name)));continue}const u=e.statements.filter(y=>y.subject.value===c.propertyResourceUrl&&y.predicate.value===c.propertyName).map(y=>y.object),d=c.propertyOrProperties[0].type===bs.Literal,f=y=>"type"in y?y.type===bs.Reference:y.termType==="NamedNode",{added:h,removed:m}=Ki(u,c.propertyOrProperties,(y,_)=>y.value===_.value&&f(y)===f(_));h.forEach(y=>r.push(new ki(d?Ut.literal(c.propertyResourceUrl,c.propertyName,y.value):Ut.reference(c.propertyResourceUrl,c.propertyName,y.value)))),m.forEach(y=>r.push(new Ci(c.propertyResourceUrl,c.propertyName,y.value))),s.push(c),o.push(`${c.propertyResourceUrl}-${c.propertyName}`)}s.forEach(l=>$r(r,l)),i.forEach(l=>$r(r,l));const a=r.filter(l=>l.type===lr.UpdateProperty&&l.propertyType!==bs.Type&&e.hasProperty(l.propertyResourceUrl,l.propertyName));for(const l of a)o.includes(`${l.propertyResourceUrl}-${l.propertyName}`)||r.push(new Ci(l.propertyResourceUrl,l.propertyName))}async renderProperties(e,r,n){switch(n){case"text/turtle":return Ut.toTurtle(r,e);case"application/ld+json":{const s=await nh(Ut.toTurtle(r,e)),i=await Zl(s);if(i["@graph"].length!==1)throw new Error("Cannot render JSONLD with multiple or no subjects");const o=i["@graph"][0];return Ro(o["@id"])&&delete o["@id"],JSON.stringify(o)}}throw new Error(`Unsupported render format: '${n}'`)}assertSuccessfulResponse(e,r){if(Math.floor(e.status/100)!==2)throw new IA(r,e)}isInternalErrorResponse(e){return Math.floor(e.status/100)===5}}const kv={activityPods:!1};function nS(t){return kv[t]}function sS(t){Object.assign(kv,t)}function Dt(){return nS("activityPods")}function iS(t){const e=new Date(t);return isNaN(e.getTime())?null:e}let oh=class{constructor(e,r={}){Pe(this,"__isSolidEngine",!0),Pe(this,"config"),Pe(this,"helper"),Pe(this,"client"),Pe(this,"cache",new Map),Pe(this,"_listeners",new px),this.helper=new Xl,this.config={concurrentFetchBatchSize:10,cachesDocuments:!1,...r},this.client=new rS(e),this.client.setConfig({concurrentFetchBatchSize:this.config.concurrentFetchBatchSize})}get listeners(){return this._listeners}setConfig(e){Object.assign(this.config,e)}getFetch(){return this.client.getFetch()}async create(e,r,n){if(this.validateJsonLDGraph(r),n&&await this.client.documentExists(n))throw new Kf(n);const s=await this.getJsonLDGraphProperties(r),{url:i,metadata:o}=await this.client.createDocument(e,n,s,Dt()?{method:"post",format:"application/ld+json"}:{});return await this._listeners.emit("onDocumentCreated",i,o),i}async readOne(e,r){var n,s,i,o,a;if((n=this.config.persistentCache)!=null&&n.has(e,r)){const u=await this.config.persistentCache.get(e,r);if(u)return u;console.warn(`[Soukai] Document '${r}' not found in persistent cache, fetching from server`)}const l=await this.getDocument(r);if(l===null)throw new _s(r);const c=await this.convertToEngineDocument(l);if(await this._listeners.emit("onRDFDocumentLoaded",l.url,l.metadata),await this._listeners.emit("onDocumentRead",l.url,l.metadata),this.config.persistentCache&&(s=l.resource(r))!=null&&s.isType(Oi))for(const u of((i=l.resource(r))==null?void 0:i.getPropertyValues(sh))??[]){const d=String(u),f=(o=l.resource(d))==null?void 0:o.isType(Oi),h=iS((a=l.resource(d))==null?void 0:a.getPropertyValue(zA));f||!h||await this.config.persistentCache.activate(r,d,h.getTime())}return c}async readMany(e,r={}){const n=await this.getDocumentsForFilters(e,r),s={};return await Promise.all(Object.entries(n).map(async([i,o])=>{if(!As(o,ur)){s[i]=o;return}s[i]=await this.convertToEngineDocument(o),await this._listeners.emit("onRDFDocumentLoaded",o.url,o.metadata),await this._listeners.emit("onDocumentRead",o.url,o.metadata)})),this.helper.filterDocuments(s,r)}async update(e,r,n){if("$overwrite"in n){const o=await this.getJsonLDGraphProperties(n.$overwrite),a=await this.client.overwriteDocument(r,o);await this._listeners.emit("onDocumentUpdated",r,a);return}const s=await this.extractJsonLDGraphUpdate(n),i=await this.client.updateDocument(r,s,Dt()?{format:"application/ld+json"}:{});this.cache.delete(r),i&&await this._listeners.emit("onDocumentUpdated",r,i)}async delete(e,r){const n=await this.client.deleteDocument(r);this.cache.delete(r),n&&await this._listeners.emit("onDocumentDeleted",r,n)}addListener(e){return this.listeners.add(e)}removeListener(e){this.listeners.remove(e)}clearCache(){this.cache=new Map}async getDocument(e){var r;if(this.config.cachesDocuments&&this.cache.has(e))return((r=this.cache.get(e))==null?void 0:r.clone())??null;const n=await this.client.getDocument(e);return this.config.cachesDocuments&&this.cache.set(e,n),n}async getDocumentsForFilters(e,r){if(r.$in)return this.getDocumentsFromUrls(r.$in.map(Rt));const n=await this.client.getDocuments(e);return Object.fromEntries(n.map(s=>[s.url,s]))}async getDocumentsFromUrls(e){const r=e.reduce((i,o)=>{const a=Hr(o)??Nn(o);return{...i,[a]:(i[a]||[]).concat([o])}},{}),n=Object.entries(r).map(async([i,o])=>{const a=o.map(l=>{var c;return(c=this.config.persistentCache)!=null&&c.has(i,l)?this.config.persistentCache.get(i,l):this.getDocument(l)});return(await Promise.all(a)).map((l,c)=>[o[c],l]).filter(([l,c])=>c!==null)}),s=await Promise.all(n);return Object.fromEntries(s.flat())}async convertToEngineDocument(e){const r=await Zl(e.statements);return await pA(r)}validateJsonLDGraph(e){if(!Array.isArray(e["@graph"]))throw new Me("Invalid JSON-LD graph provided for SolidEngine. Are you using a model that isn't a SolidModel?")}async extractJsonLDGraphUpdate(e){if(!this.isJsonLDGraphUpdate(e))throw new Me("Invalid JSON-LD graph updates provided for SolidEngine. Are you using a model that isn't a SolidModel?");const r=new Map,n=[],s="$apply"in e["@graph"]?e["@graph"].$apply:[e["@graph"]];for(const i of s){if(i.$updateItems){const o=[];for(const a of fr(i.$updateItems)){const l=await this.extractJsonLDGraphItemsUpdate(a,r);o.push(...l)}n.push(...o.flat())}if(i.$push){const o=await this.extractJsonLDGraphItemPush(i.$push);n.push(...o)}}return n}async extractJsonLDGraphItemsUpdate({$where:e,$update:r,$override:n,$unset:s},i){if(!e||!("@id"in e))throw new Me("Invalid JSON-LD graph updates provided for SolidEngine. Are you using a model that isn't a SolidModel?");if(s){const c=e["@id"];return(typeof c=="string"?[c]:c.$in).map(u=>new Ci(u))}if(n){const c=e["@id"],u=typeof c=="string"?[c]:c.$in;return(await Promise.all(u.map(async d=>{const f=i.get(d)??d,h=[new Ci(f)],m=await this.getJsonLDGraphProperties(n);for(const y of m)h.push(new ki(y));return h}))).flat()}if(typeof e["@id"]!="string")throw new Me("Invalid JSON-LD graph updates provided for SolidEngine. Are you using a model that isn't a SolidModel?");const o=i.get(e["@id"])??e["@id"],a=r,l=[];for(const[c,u]of Object.entries(a)){if(u===null)throw new Me("SolidEngine doesn't support setting properties to null, delete");if(typeof u=="object"&&"$unset"in u){l.push(new Ci(o,c));continue}if(c==="@id"&&o!==u){l.push(new qA(o,u)),i.set(u,o);continue}l.push(new ki(this.getUpdatePropertyOperationProperty(o,c,u)))}return l}getUpdatePropertyOperationProperty(e,r,n,s=!0){return r==="@type"?Ut.type(e,n):Array.isArray(n)?s?n.map(i=>this.getUpdatePropertyOperationProperty(e,r,i,!1)):We("Cannot have nested array values"):lt(n)&&"@id"in n?Ut.reference(e,r,n["@id"]):lt(n)&&"@type"in n&&n["@type"]==="http://www.w3.org/2001/XMLSchema#dateTime"?Ut.literal(e,r,new Date(n["@value"])):Ut.literal(e,r,n)}async extractJsonLDGraphItemPush(e){return(await this.getJsonLDGraphProperties(e)).map(r=>new ki(r))}extractJsonLDGraphTypes(e){if(!this.isJsonLDGraphTypesFilter(e))return[];const r=e["@graph"].$contains["@type"].$or.reduce((n,s)=>("$contains"in s&&n.push(...s.$contains),"$eq"in s&&n.push(s.$eq),n),[]);return Cr(r.filter(n=>n.startsWith("http")))}async getJsonLDGraphProperties(e){return(await ur.fromJsonLD(e)).properties}isJsonLDGraphUpdate(e){const r=e["@graph"];return lt(r)?!(r.$apply??[r]).some(n=>{const s=Object.keys(n);return s.length!==1||!["$updateItems","$push"].includes(s[0]??"")}):!1}isJsonLDGraphTypesFilter(e){const r=e["@graph"];return lt(r)&&lt(r.$contains)&&lt(r.$contains["@type"])&&Array.isArray(r.$contains["@type"].$or)}},qu=class extends Me{constructor(e){super(`Some required attributes were missing from '${e}' document.`)}};const wl=new WeakMap,Vu=new WeakMap;function ug(t){var e;return((e=Object.getPrototypeOf(t))==null?void 0:e.constructor)!==Object}function oS(t,e){if(wl.has(t))throw new Me(`${t.modelName} schema update already in progress!`);wl.set(t,e)}function aS(t){return wl.get(t)??null}function lS(t){wl.delete(t)}function cS(t,e,r){const n=t;if(ug(n))return n.ensureBooted(),n;if(!Vu.has(n)){const s=ug(t)?t:e,i=Dv(n,s);i.ensureBooted(),Vu.set(n,i)}return Vu.get(n)??We("Couldn't boot schema")}function Dv(t,e,r){const n=iE(r?t:e,r??t);return n.__isSchema=!0,n}class uS{async deleteModels(e){const r=this.decantDocumentModelsByContainer(e);await Promise.all(Object.entries(r).map(([n,s])=>this.deleteContainerDocumentsModels(n,s)))}decantDocumentModelsByContainer(e){const r=this.decantModelsByDocument(e);return Object.entries(r).reduce((n,[s,i])=>{const o=Hr(s)??Nn(s);return(n[o]=n[o]??[]).push({documentUrl:s,models:i}),n},{})}decantModelsByDocument(e){return e.reduce((r,n)=>{const s=n.requireDocumentUrl();return(r[s]=r[s]??[]).push(n),r},{})}async deleteContainerDocumentsModels(e,r){const n=await this.requireEngine().readMany(e,{$in:r.map(({documentUrl:s})=>s)});await Promise.all(r.map(({documentUrl:s,models:i})=>this.deleteDocumentModels(n,e,s,i)))}async deleteDocumentModels(e,r,n,s){const i=e[n];if(!i)return;const o=this.requireEngine(),a=s.filter(l=>l.exists()).map(l=>l.url);if(!i["@graph"].some(l=>!a.some(c=>c===l["@id"]))){const l=s.filter(c=>c.isRelationLoaded("tombstone")).map(c=>c.tombstone);l.length===0?await o.delete(r,n):await o.update(r,n,{$overwrite:{"@graph":l.map(c=>c.serializeToJsonLD({includeRelations:!1}))}}),s.forEach(c=>c.setDocumentExists(!1));return}await o.update(r,n,{"@graph":{$updateItems:{$where:{"@id":{$in:a}},$unset:!0}}})}}class sl extends Is{constructor(e,r){super(e,r)}setForeignAttributes(){}clearForeignAttributes(){}async load(){return this.related??(this.related=[]),this.related}create(e){return Ne(this.attach(e??{}),()=>this.parent.save())}async __loadDocumentModels(e,r){const n=await ur.fromJsonLD(r),s=ur.reduceJsonLDGraph(r,this.parent.url);this.related=Xt(await Promise.all(this.relatedClass.findMatchingResourceIds(n.statements).map(i=>{const o=s["@graph"].find(a=>a["@id"]===i);return o&&this.relatedClass.createFromEngineDocument(e,s,o["@id"])})))}}class dS{get isPublic(){var e;return((e=this._publicPermissions)==null?void 0:e.includes(xs.Read))??null}get isPrivate(){return this._publicPermissions?!this._publicPermissions.includes(xs.Read):null}async fetchPublicPermissionsIfMissing(){this._publicPermissions||await this.fetchPublicPermissions()}async fetchPublicPermissions(){const e=jt("SolidACLAuthorization"),r=this.requireDocumentUrl(),n=await e.requireFetch()(r,{method:"HEAD"}),s=new vl(r,[],n.headers);this._publicPermissions=s.getPublicPermissions()}async updatePublicPermissions(e){const r=jt("SolidACLAuthorization");await this.withEngine(r.requireEngine(),()=>this.updateAuthorizations(e)),this._publicPermissions=e}trackPublicPermissions(){if(!this.static().usingSolidEngine())return{documentPermissions:{},stopTracking(){}};const e={},r=this.static().requireFinalEngine().listeners.add({onDocumentRead(n,s){if(!s.headers)return;const i=new vl(n,[],s.headers);e[n]=i.getPublicPermissions()}});return{documentPermissions:e,stopTracking:r}}async updateAuthorizations(e){this.relatedAuthorizations.enable();const r=await this.loadRelationIfUnloaded("authorizations"),n=jt("SolidACLAuthorization"),s=e.map(a=>n.modeFromSolidDocumentPermission(a)),i=r.filter(a=>a.agentClasses.includes(Ts("foaf:Agent"))),o=i.map(a=>a.modes).flat();if(!(s.length===o.length&&!s.some(a=>o.includes(a)))){if(!this.relatedAuthorizations.isDocumentACL()){await this.createDocumentACLResource(s);return}if(s.length===0){for(const a of i)await a.delete();this.relatedAuthorizations.related=Wr(r,i);return}if(i.length===0){await this.createPublicAuthorization(s);return}for(const a of i)await a.update({modes:s})}}async createDocumentACLResource(e){this.relatedAuthorizations.enable();const r=jt("SolidACLAuthorization"),n=this.authorizations.filter(s=>s.modes.includes(r.rdfTerm("acl:Control"))).map(s=>Ne(new r(s.getAttributes()),i=>{var o;i.accessTo=[this.requireDocumentUrl()],i.accessToClasses=[],i.default=[],i.mintUrl(this.relatedAuthorizations.requireACLUrl(),!1,((o=sa(s.url))==null?void 0:o.fragment)??Ar())}));for(const s of n)await s.save();this.relatedAuthorizations.related=n,this.relatedAuthorizations.effectiveACLUrl=this.relatedAuthorizations.aclUrl,await this.createPublicAuthorization(e)}async createPublicAuthorization(e){var r;this.relatedAuthorizations.enable();const n=jt("SolidACLAuthorization"),s=await n.createInDocument({agentClasses:[n.rdfTerm("foaf:Agent")],accessTo:[this.requireDocumentUrl()],modes:e},this.relatedAuthorizations.requireACLUrl(),"public");(r=this.relatedAuthorizations.related)==null||r.push(s)}}let dg;function Rs(t){return ah()[t]}function ah(){return dg??(dg={Operation:jt("Operation"),PropertyOperation:jt("PropertyOperation"),AddPropertyOperation:jt("AddPropertyOperation"),RemovePropertyOperation:jt("RemovePropertyOperation"),SetPropertyOperation:jt("SetPropertyOperation"),UnsetPropertyOperation:jt("UnsetPropertyOperation"),DeleteOperation:jt("DeleteOperation")})}class fS{async migrateSchema(e,r={}){if(this.isDirty())throw new Me("Can't migrate dirty model, call save() before proceeding.");const n=cS(e,this.static()),{model:s,updates:i}=await this.getSchemaUpdates(n,r);return await this.updateEngineDocumentSchema(i),s}async getSchemaUpdates(e,r){const{removed:n,added:s}=Ki(Object.keys(this.static().fields),Object.keys(e.fields)),i=await this.newInstanceForSchema(e,s,n),o=i.url!==this.url?i.url:null,a=(await this.getOperationSchemaUpdates(i,n,o,r)).concat(this.getMetadataSchemaUpdates(o)).concat(this.getUrlSchemaUpdates(o)).concat([this.getResourceSchemaUpdate(i,o)]);return{model:i,updates:a}}async newInstanceForSchema(e,r,n){var s,i;const o=Rs("PropertyOperation"),a=e.newInstance(Ne(this.getAttributes(),l=>{l.url=`${this.requireDocumentUrl()}#${e.defaultResourceHash}`;for(const c of n)delete l[c]}),!0);return a.setRelationModels("operations",this.operations.filter(l=>{if(!As(l,o))return!0;const c=this.static().getRdfPropertyField(l.property);return!c||!n.includes(c)})),r.forEach(l=>{a.hasAttribute(l)&&(a._dirtyAttributes[l]=a.getAttributeValue(l))}),await((i=(s=a.static().hooks)==null?void 0:s.beforeSave)==null?void 0:i.call(a)),a.operations.length>0&&await a.addDirtyHistoryOperations(),a}async getOperationSchemaUpdates(e,r,n,s){var i;const o=[],a=[],l=Rs("PropertyOperation"),c=this.usingSolidEngine()?og:"resource",u=this.usingSolidEngine()?HA:"property";await e.loadRelationIfUnloaded("operations");for(const d of e.operations){if(o.push(d.url),!d.exists()){d.date=this.getUpdatedAtAttribute(),d.resourceUrl=e.url;const y=(i=s.mintOperationUrl)==null?void 0:i.call(s,d);y?d.url=y:d.mintUrl(),a.push({$push:d.serializeToJsonLD({includeRelations:!1,includeAnonymousHashes:!0})});continue}if(!As(d,l)){n&&a.push({$updateItems:{$where:{"@id":d.url},$update:{[c]:{"@id":n}}}});continue}const f=this.static().getRdfPropertyField(d.property),h=f&&e.static().getFieldRdfProperty(f),m=xr({[c]:n?{"@id":n}:null,[u]:h&&h!==d.property?{"@id":h}:null});Object.keys(m).length!==0&&a.push({$updateItems:{$where:{"@id":d.url},$update:m}})}for(const d of this.operations)o.includes(d.url)||a.push({$updateItems:{$where:{"@id":d.url},$unset:!0}});return a}getMetadataSchemaUpdates(e){if(!e||!this.metadata)return[];const r=this.usingSolidEngine()?og:"resource";return[{$updateItems:{$where:{"@id":this.metadata.url},$update:{[r]:{"@id":e}}}}]}getUrlSchemaUpdates(e){return e?[{$updateItems:{$where:{"@id":this.url},$update:{"@id":e}}}]:[]}getResourceSchemaUpdate(e,r){return{$updateItems:{$where:{"@id":r??this.url},$override:e.serializeToJsonLD({includeRelations:!1,includeAnonymousHashes:!0})}}}async updateEngineDocumentSchema(e){const r=this.requireDocumentUrl();await this.requireEngine().update(an(r),r,e.length===1?{"@graph":e[0]}:{"@graph":{$apply:e}})}}function xl(t,e,r,n){const s=i=>xr({type:i,rdfProperty:e,rdfPropertyAliases:r,required:n});switch(typeof t){case"string":return s(_e.String);case"number":case"bigint":return s(_e.Number);case"boolean":return s(_e.Boolean);case"object":return t===null?s(_e.Any):t instanceof kr?s(_e.Key):t instanceof Date?s(_e.Date):Array.isArray(t)?xr({required:n,rdfProperty:e,type:_e.Array,items:t.length>0?xl(t[0]):s(_e.Any)}):xr({required:n,rdfProperty:e,type:_e.Object,fields:Object.entries(t).reduce((i,[o,a])=>(i[o]=xl(a),i),{})});default:return s(_e.Any)}}function hS(t){return ev(t)}class lh{get protectedSolidBelongsTo(){return this}async __loadDocumentModels(e,r){const n=new Xl,s=this.parent.getAttribute(this.foreignKeyName),i=Array.isArray(s)?s:s?[s]:[],o=this.relatedClass.prepareEngineFilters(),a=ur.reduceJsonLDGraph(r,this.parent.url),l=r["@graph"].filter(d=>i.indexOf(d["@id"])!==-1).reduce((d,f)=>(d[f["@id"]]={"@graph":[f]},d),{}),c=await Promise.all(Object.keys(n.filterDocuments(l,o)).map(d=>this.relatedClass.createFromEngineDocument(e,a,d))),u=i.filter(d=>!c.some(f=>f.url===d)&&In(d)!==e);this.protectedSolidBelongsTo.loadDocumentModels(c,u)}}class pS{getJsonLDProperty(e,r){if(r=mt(r),r in e)return this.getJsonLDPropertyValue(e[r]);if(!("@context"in e))return null;const n=e["@context"],s=Object.entries(n).find(([a,l])=>r.startsWith(l));if(!s)return null;const i=s[0]==="@vocab"?"":`${s[0]}:`,o=e[i+r.slice(s[1].length)];return this.getJsonLDPropertyValue(o)}getJsonLDPropertyValue(e){return e===void 0?null:Array.isArray(e)&&e.length===1?e[0]:e}}const Pv=new pS;class ch{get protectedSolidHas(){return this}async __loadDocumentModels(e,r){var n;const s=new Xl,i=((n=this.relatedClass.fields[this.foreignKeyName])==null?void 0:n.rdfProperty)??We(Me,`Field '${this.foreignKeyName}' does not exist in ${this.relatedClass.modelName} model.`),o=this.relatedClass.prepareEngineFilters(),a=ur.reduceJsonLDGraph(r,this.parent.url),l=r["@graph"].filter(d=>{const f=Pv.getJsonLDProperty(d,i);return typeof f=="object"&&f!==null&&"@id"in f&&f["@id"]===this.parent.url}).reduce((d,f)=>(d[f["@id"]]={"@graph":[f]},d),{}),c=await Promise.all(Object.keys(s.filterDocuments(l,o)).map(d=>this.relatedClass.createFromEngineDocument(e,a,d))),u=Object.keys(l).filter(d=>!c.some(f=>f.url===d)&&In(d)!==e);this.protectedSolidHas.loadDocumentModels(c,u)}}function mS(t){return"__beforeParentCreate"in t}function gS(t){return"__afterParentSave"in t}function Ei(t){return"useSameDocument"in t}function yS(t){return Jl(t,lh)}function uh(t){return Jl(t,ch)}function fg(t){return"__synchronizeRelated"in t}let Hu=class{},bS=class $v{constructor(e){Pe(this,"terms"),Pe(this,"reverseProperties"),this.terms=e,this.reverseProperties=new Map}static fromRdfClasses(e,r){const[n,...s]=Object.entries(e),i={name:"@vocab",compactingPrefix:"",value:n==null?void 0:n[1],used:!0},o=s.reduce((a,[l,c])=>(c!==i.value&&a.push({name:l,value:c,compactingPrefix:`${l}:`,used:r.some(u=>u.startsWith(c))}),a),[i]);return new $v(o)}addReverseProperty(e,r){this.reverseProperties.set(e,r)}addTerms(e,r){for(const[n,s]of Object.entries(e)){const i=this.terms.find(l=>l.value===s);if(i){i.used||(i.used=r.some(l=>l.startsWith(s)));continue}let o=n,a=1;for(;this.terms.some(l=>l.name===o);)o=`${n}${++a}`;this.terms.push({name:n,value:s,compactingPrefix:`${n}`,used:r.some(l=>l.startsWith(s))})}}getTermForExpandedIRI(e){return this.terms.find(r=>e.startsWith(r.value))??null}render(){const e=this.terms.reduce((r,n)=>(n.used&&(r[n.name]=n.value),r),{});return this.reverseProperties.forEach((r,n)=>{e[n]={"@reverse":r}}),e}};class Di{constructor(e,r){Pe(this,"context"),Pe(this,"iriFormat"),this.context=e,this.iriFormat=r}static forModel(e,r=!0){const n=e.fields,s=Xt(Object.values(n).map(o=>o.rdfProperty)),i=bS.fromRdfClasses(e.rdfContexts,s);return new Di(i,r?"compacted":"expanded")}serialize(e,r={}){const n=r.attributes??e.getAttributes(),s=new Set(r.ignoreModels??[]),i={"@context":{},"@type":null};s.add(e);for(const[o,a]of Object.entries(n))this.setJsonLDField(i,e,o,a,r);if(!(e.static("primaryKey")in n)&&r.includeAnonymousHashes){const o=e.static("defaultResourceHash");o&&!Dt()&&(i["@id"]=`#${o}`)}return(r.includeRelations??!0)&&this.setJsonLDRelations(i,e,s),r.includeTypes??!0?this.setJsonLDTypes(i,e):delete i["@type"],r.includeContext??!0?this.setJsonLDContext(i):delete i["@context"],i}processExpandedIRI(e){return this.iriFormat==="expanded"?e:this.compactExpandedIRI(e)}compactExpandedIRI(e){const r=this.context.getTermForExpandedIRI(e);return r?Ne(r.compactingPrefix+e.slice(r.value.length),()=>r.used=!0):e}setJsonLDField(e,r,n,s,i){if(n===r.static("primaryKey")){e["@id"]=Rt(s);return}const o=r.static().getFieldRdfProperty(n);o&&this.setJsonLDProperty(e,r,this.processExpandedIRI(o),n,s,i)}setJsonLDRelations(e,r,n){for(const s of r.static("relations")){const i=r.requireRelation(s),o=i.getLoadedModels()[0];if(!i.enabled||!i.loaded||!Ei(i)||i.isEmpty()||o&&n.has(o))continue;const a=i.relatedClass.fields,l=Xt(Object.values(a).map(c=>c.rdfProperty));this.context.addTerms(i.relatedClass.rdfContexts,l),this.setJsonLDRelation(e,i,n)}}setJsonLDRelation(e,r,n){const s=r.relatedClass.instance(),i=r.related,o=uh(r),a=o?s.static().getFieldRdfProperty(r.foreignKeyName):r.parent.static().getFieldRdfProperty(r.foreignKeyName),l=this.processExpandedIRI(a),c={ignoreModels:n,includeRelations:!0,includeContext:!1},u=o?d=>Ne(this.serialize(d,c),f=>{delete f[l]}):d=>this.serialize(d,c);i&&(o&&this.context.addReverseProperty(r.name,l),e[o?r.name:l]=Array.isArray(i)?i.map(d=>u(d)):u(i))}setJsonLDTypes(e,r){const n=r.static("rdfsClasses").map(s=>this.processExpandedIRI(s));e["@type"]=n.length===1?n[0]:n}setJsonLDContext(e){e["@context"]=this.context.render()}setJsonLDProperty(e,r,n,s,i,o){const a=r.static().getFieldDefinition(s,i);if(i=this.castJsonLDValue(i,a),a.serialize&&(i=a.serialize(i)),i instanceof Hu){o.keepEmptyValues&&(e[n]=null);return}e[n]=i}castJsonLDValue(e,r){switch(r.type){case _e.Any:{if(e==null)return new Hu;const n=xl(e,r.rdfProperty,r.rdfPropertyAliases,r.required);if(n.type===_e.Any)throw new Me("Couldn't infer field definition for a field declared as any");return this.castJsonLDValue(e,n)}case _e.Key:return{"@id":Rt(e)};case _e.Date:return typeof e=="object"&&e!==null&&"$unset"in e?e:{"@type":"http://www.w3.org/2001/XMLSchema#dateTime","@value":new Date(e).toISOString()};case _e.Array:{const n=e,s=r.items;switch(n.length){case 0:return new Hu;case 1:return this.castJsonLDValue(n[0],s);default:return n.map(i=>this.castJsonLDValue(i,s))}}default:return JSON.parse(JSON.stringify(e))}}}function Ht(t){const e=t&&Ya("related-models",t),r=t&&Ya("document-models",t),n=t&&Ya("cascade-models",t);e==null||e.forEach(s=>Wc("related-models",s)),r==null||r.forEach(s=>Wc("document-models",s)),n==null||n.forEach(s=>Wc("cascade-models",s))}let Lv=class{constructor(){Pe(this,"useSameDocument",!1),Pe(this,"documentModelsLoaded",!1)}usingSameDocument(e=!0){return this.useSameDocument=e,this}},ec=class extends Lv{constructor(){super(...arguments),Pe(this,"__removedDocumentModels",[])}get protectedSolidMulti(){return this}get super(){return new Proxy(this,{get:(e,r)=>(...n)=>Is.prototype[r].call(this,...n)})}get __newModels(){return this.__newModelsValue??(this.__newModelsValue=[])}set __newModels(e){var r;Ht(this.parent),(r=this.__newModelsValue)==null||r.forEach(n=>Ht(n)),e==null||e.forEach(n=>Ht(n)),this.__newModelsValue=e}isEmpty(){var e,r,n;return!this.documentModelsLoaded&&this.parent.exists()?null:(((e=this.__modelsInSameDocument)==null?void 0:e.length)||0)+(((r=this.__modelsInOtherDocumentIds)==null?void 0:r.length)||0)+this.__newModels.length+(((n=this.related)==null?void 0:n.length)||0)===0}async create(e={}){this.protectedSolidMulti.assertLoaded("create");const r=this.relatedClass.newInstance(e);return await this.save(r),r}async save(e){return this.protectedSolidMulti.assertLoaded("save"),this.attach(e),!this.useSameDocument||Dt()?(await e.save(),this.setForeignAttributes(e)):this.parent.exists()&&await this.parent.save(),e}async remove(e){this.detach(e),await this.parent.save()}detach(e){var r,n,s,i;const o=typeof e=="string"?e:e.getAttribute(this.localKeyName),a=(r=this.related)==null?void 0:r.find(l=>l.getAttribute(this.localKeyName)===o);a&&(this.related=(n=this.related)==null?void 0:n.filter(l=>l.getAttribute(this.localKeyName)!==o),this.__newModels=this.__newModels.filter(l=>l.getAttribute(this.localKeyName)!==o),this.__modelsInSameDocument=(s=this.__modelsInSameDocument)==null?void 0:s.filter(l=>l.getAttribute(this.localKeyName)!==o),this.__modelsInOtherDocumentIds=(i=this.__modelsInOtherDocumentIds)==null?void 0:i.filter(l=>l!==o),a.getDocumentUrl()===this.parent.getDocumentUrl()&&!this.parent.tracksHistory()&&this.__removedDocumentModels.push(a),uh(this)&&a.setAttribute(this.foreignKeyName,null),yS(this)&&this.parent.setAttribute(this.foreignKeyName,this.parent.getAttribute(this.foreignKeyName).filter(l=>l!==o)))}addRelated(e){var r;(r=this.related)!=null&&r.includes(e)||(this.super.addRelated(e),e.exists()||(this.__newModels=this.__newModels.concat([e])))}isRelated(e){return this.super.isRelated(e)||this.__newModels.includes(e)}__afterParentSave(){this.__removedDocumentModels=[]}cloneSolidData(e){const r=e.related??[];e.useSameDocument=this.useSameDocument,e.documentModelsLoaded=this.documentModelsLoaded,e.__newModels=[],e.__removedDocumentModels=[];for(const n of this.__newModels)e.__newModels.push(r.find(s=>s.is(n))??Ne(n.clone(),s=>r.push(s)));for(const n of this.__removedDocumentModels)e.__removedDocumentModels.push(r.find(s=>s.is(n))??Ne(n.clone(),s=>r.push(s)));this.__modelsInSameDocument&&(e.__modelsInSameDocument=this.__modelsInSameDocument.map(n=>r.find(s=>s.is(n))??n.clone())),this.__modelsInOtherDocumentIds&&(e.__modelsInOtherDocumentIds=this.__modelsInOtherDocumentIds)}loadDocumentModels(e,r){this.__modelsInSameDocument=e,this.__modelsInOtherDocumentIds=r,this.__modelsInOtherDocumentIds.length===0&&(this.related=Cr(this.related??[]).concat(this.__modelsInSameDocument)),this.documentModelsLoaded=!0}};Db(ec,"onRelatedUpdated",function(t,e){if(this!==this.parent.requireRelation(this.name))return;const{added:r,removed:n}=Ki(t??[],e??[]);Ht(this.parent),t==null||t.forEach(s=>Ht(s)),e==null||e.forEach(s=>Ht(s)),n.forEach(s=>this.clearInverseRelations(s)),r.forEach(s=>this.initializeInverseRelations(s))});const vS=Gl(Ri,[ec,ch]);let Nv=class extends vS{async load(){if(this.isEmpty())return this.related=[];if(!this.__modelsInSameDocument||!this.__modelsInOtherDocumentIds)return this.related=[];const e=await this.loadRelatedModels(this.__modelsInOtherDocumentIds);return this.related=this.__modelsInSameDocument.concat(e)}reset(e=[]){this.related=[],this.__newModels=[],this.__modelsInSameDocument=[],e.forEach(r=>{var n;r.unsetAttribute(this.foreignKeyName),(n=this.related)==null||n.push(r),this.__newModels.push(r)})}clone(e={}){return Ne(super.clone(e),r=>{this.cloneSolidData(r)})}__beforeParentCreate(){this.documentModelsLoaded||this.loadDocumentModels([],[])}async __synchronizeRelated(e,r){const{models:n,...s}=r,i=qo(this.related??[],"url"),o=qo(e.related??[],"url"),a=o.getItems().filter(c=>!i.hasKey(c.url)),l=[];for(const c of i.items()){const u=o.get(c.url);if(!u){l.push(c);continue}await c.static().synchronize(c,u,{__models:n,...s})}this.related=Array.from(i.items()).concat(a.map(c=>c.clone({clones:Ne(new WeakMap,u=>u.set(e.parent,this.parent)),...s}))),e.related=Array.from(o.items()).concat(l.map(c=>c.clone({clones:Ne(new WeakMap,u=>u.set(e.parent,this.parent)),...s})))}loadRelatedModels(e){return this.relatedClass.all({$in:e})}};const Mv=class Hd extends Nv{constructor(e){super(e,Rs("Operation"),"resourceUrl")}attach(e={},r){const n=Rs("Operation"),s=e instanceof n?e:Rs(r??"SetPropertyOperation").newInstance(e);if(s.constructor===n)throw new Error("Creating base operations is meaningless, you should create a specific operation instead (add property, remove property, etc.)");return super.attach(s)}attachAddOperation(e){return this.attach(e,"AddPropertyOperation")}attachRemoveOperation(e){return this.attach(e,"RemovePropertyOperation")}attachSetOperation(e){return this.attach(e,"SetPropertyOperation")}attachUnsetOperation(e){return this.attach(e,"UnsetPropertyOperation")}attachDeleteOperation(e){return this.attach(e,"DeleteOperation")}async __loadDocumentModels(e,r){var n;const s=((n=this.relatedClass.fields[this.foreignKeyName])==null?void 0:n.rdfProperty)??We(Me,`Field '${this.foreignKeyName}' does not exist in ${this.relatedClass.modelName} model.`),i=ur.reduceJsonLDGraph(r,this.parent.url),o=r["@graph"].filter(c=>{const u=Pv.getJsonLDProperty(c,s);return typeof u=="object"&&u!==null&&"@id"in u&&u["@id"]===this.parent.url}),a=Xt(await Promise.all(o.map(async c=>{var u;return(u=this.getOperationClass(c))==null?void 0:u.createFromEngineDocument(e,i,c["@id"])}))),l=o.map(c=>c["@id"]).filter(c=>!a.some(u=>u.url===c)&&In(c)!==e);this.protectedSolidHas.loadDocumentModels(a,l)}async loadRelatedModels(){throw new Error("loading operations from different documents has not been implemented yet")}getOperationClass(e){const r=this.getOperationMatchers(),n=fr(e["@type"]??[]),s=r.find(i=>i.match(n));return s==null?void 0:s.operation}getOperationMatchers(){return Hd.operationMatchers??(Hd.operationMatchers=Object.values(ah()).map(e=>{const r=Di.forModel(e),n=e.rdfsClasses,s=n.map(o=>r.processExpandedIRI(o)),i=n.concat(s);return{operation:e,match:o=>i.some(a=>o.includes(a))}}))}};Pe(Mv,"operationMatchers");let _S=Mv;class wS{serializeToJsonLD(e={}){return e.includeRelations??(e.includeRelations=!0),Di.forModel(this.static()).serialize(this,e)}async parseEngineDocumentAttributesFromJsonLD(e,r){const n=e,s=n["@graph"].find(l=>l["@id"]===r)??We(ih,r,e.url),i=await ur.resourceFromJsonLDGraph(n,r,s),o=this.static("fields"),a={};a[this.static("primaryKey")]=r;for(const[l,c]of Object.entries(o)){if(!c.rdfProperty)continue;const u=(i.propertiesIndex[c.rdfProperty]??c.rdfPropertyAliases.reduce((h,m)=>h.concat(i.propertiesIndex[m]??[]),[])).map(h=>h.type===bs.Reference?new kr(h.value):h.value),[d,...f]=u;typeof d>"u"||(a[l]=f.length>0?[d].concat(f):d)}return a}convertEngineFiltersToJsonLD(e,r){const n={},s=Di.forModel(this.static()),i=this.static("rdfsClasses"),o=i.map(c=>s.processExpandedIRI(c)),a=[];i.length>0&&(a.push({$contains:o}),a.push({$contains:i})),i.length===1&&(a.push({$eq:o[0]}),a.push({$eq:i[0]})),this.static("rdfsClassesAliases").forEach(c=>{c.length>0&&a.push({$contains:c}),c.length===1&&a.push({$eq:c[0]})}),e.$in&&(n.$in=e.$in,delete e.$in);const l=this.convertAttributeValuesToJsonLD(e,{compactIRIs:r,keepEmptyValues:!1});return a.length>0&&(l["@type"]={$or:a}),Object.keys(l).length>0&&(n["@graph"]={$contains:l}),n}convertEngineUpdatesToJsonLD(e,r){const n=this.convertAttributeValuesToJsonLD(e,{compactIRIs:r,keepEmptyValues:!0});for(const[s,i]of Object.entries(n))i===null&&(n[s]={$unset:!0});return n}convertAttributeValuesToJsonLD(e,r){return Di.forModel(this.static(),r.compactIRIs).serialize(this,{includeContext:!1,includeTypes:!1,includeRelations:!1,keepEmptyValues:r.keepEmptyValues,attributes:e})}}class xS extends Is{constructor(e){const r=jt("SolidACLAuthorization");super(e,r)}requireACLUrl(){return this.aclUrl??We("Could not get ACL Url")}isDocumentACL(){return!this.aclUrl||!this.effectiveACLUrl?null:this.aclUrl===this.effectiveACLUrl}setForeignAttributes(){}clearForeignAttributes(){}async load(){const e=jt("SolidACLAuthorization"),r=await jA(this.parent.requireDocumentUrl(),e.requireFetch()),n=await Zl(r.document.statements()),s=await Promise.all(r.document.statements(void 0,"rdf:type","acl:Authorization").map(({subject:i})=>e.createFromEngineDocument(r.effectiveUrl,n,i.value)));return this.aclUrl=r.url,this.effectiveACLUrl=r.effectiveUrl,this.related=s,s}}const ES=Gl(Ti,[ec,lh]);let dh=class extends ES{async load(){var e;if((!this.__modelsInSameDocument||!this.__modelsInOtherDocumentIds)&&(this.__modelsInSameDocument=[],this.__modelsInOtherDocumentIds=this.parent.getAttribute(this.foreignKeyName)),this.isEmpty())return this.related=[];const r={};for(const s of this.__modelsInOtherDocumentIds??[]){const i=Hr(s)??Nn(s);i in r||(r[i]=new Set),(e=r[i])==null||e.add(In(s))}const n=(await Promise.all(Object.entries(r).map(([s,i])=>this.relatedClass.from(s).all({$in:Array.from(i)})))).reduce((s,i)=>(s.push(...i),s),[]);return this.related=this.__modelsInSameDocument.concat(this.__newModels).concat(n)}associate(e){const r=this.parent.getAttribute(this.foreignKeyName),n=kr.from(e);this.parent.setAttribute(this.foreignKeyName,r.concat(n))}disassociate(e){const r=this.parent.getAttribute(this.foreignKeyName),n=kr.from(e);this.parent.setAttribute(this.foreignKeyName,r.filter(s=>!n.equals(kr.from(s))))}reset(e=[]){this.related=[],this.__newModels=[],this.__modelsInSameDocument=[];const r=this.parent.getAttribute(this.foreignKeyName);e.forEach(n=>{var s;$r(r,n.getAttribute(this.localKeyName)),(s=this.related)==null||s.push(n),this.__newModels.push(n)}),this.parent.setAttribute(this.foreignKeyName,r)}clone(e={}){return Ne(super.clone(e),r=>{this.cloneSolidData(r)})}__beforeParentCreate(){if(this.documentModelsLoaded)return;const e=this.parent.getAttribute(this.foreignKeyName);if(!Array.isArray(e))throw new Error(`Foreign key (${this.foreignKeyName}) for '${this.name}' relation in '${this.parent.static("modelName")}' model is missing.`);this.loadDocumentModels([],e)}async __synchronizeRelated(e,r){const{models:n,...s}=r,{SetPropertyOperation:i,AddPropertyOperation:o,RemovePropertyOperation:a}=ah(),l=this.parent.static().getFieldRdfProperty(this.foreignKeyName),c=this.localKeyName,u=qo(this.related??[],c),d=qo(e.related??[],c),f=Ne(new WeakMap,m=>m.set(e.parent,this.parent));this.parent.operations.filter(m=>!m.exists()&&(m instanceof i||m instanceof o||m instanceof a)&&m.property===l).map(m=>fr(m.value)).flat().map(m=>d.get(m instanceof kr?m.toString():m)).filter(m=>!!m).forEach(m=>{var y;if(u.hasKey(m.getAttribute(c)))return;const _=m.clone({clones:f,...s});(y=this.related)==null||y.push(_),u.add(_)});const h=await Promise.all(this.parent.getAttribute(this.foreignKeyName).map(async m=>{const y=u.get(m),_=d.get(m);return!y||!_||await y.static().synchronize(y,_,{__models:n,...s}),y}));this.related=Xt(h).concat(this.__newModels)}},tc=class extends Lv{get super(){return new Proxy(this,{get:(e,r)=>(...n)=>Gi.prototype[r].call(this,...n)})}get __newModel(){return this.__newModelValue}set __newModel(e){Ht(this.parent),Ht(this.__newModelValue),Ht(e),this.__newModelValue=e}isEmpty(){return!this.documentModelsLoaded&&this.parent.exists()?null:!(this.__modelInSameDocument||this.__modelInOtherDocumentId||this.__newModel||this.related)}async create(e={}){this.assertNotLoadedOrEmpty("create");const r=this.relatedClass.newInstance(e);return await this.save(r),r}async save(e){return this.assertNotLoadedOrEmpty("save"),this.attach(e),!this.useSameDocument||Dt()?await e.save():this.parent.exists()&&await this.parent.save(),e}addRelated(e){this.related!==e&&(this.super.addRelated(e),e.exists()||(this.__newModel=e))}isRelated(e){return this.super.isRelated(e)||this.__newModel===e}cloneSolidData(e){let r=e.related??null;e.useSameDocument=this.useSameDocument,e.documentModelsLoaded=this.documentModelsLoaded,this.__newModel&&(this.__newModel=r??Ne(this.__newModel.clone(),n=>r=n)),this.__modelInSameDocument&&(e.__modelInSameDocument=r??this.__modelInSameDocument.clone()),this.__modelInOtherDocumentId&&(e.__modelInOtherDocumentId=this.__modelInOtherDocumentId)}loadDocumentModels(e,r){var n;if(e.length+r.length>1&&console.warn(`The ${this.name} relationship in ${this.parent.static("modelName")} has been declared as hasOne, but more than one related model were found.`),e.length>0){if(this.__modelInSameDocument=e[0],this.documentModelsLoaded=!0,this.related=this.__modelInSameDocument,!((n=this.__modelInSameDocument)!=null&&n.exists())){this.__newModel=this.__modelInSameDocument;return}this.__newModel=void 0;return}if(r.length>0){this.__modelInOtherDocumentId=r[0],this.documentModelsLoaded=!0;return}this.documentModelsLoaded=!0}async __synchronizeRelated(e,r){const{models:n,...s}=r;if(!this.related&&e.related){this.related=e.related.clone({clones:Ne(new WeakMap,o=>o.set(e.parent,this.parent)),...s});return}if(!e.related||!this.related)return;const i=this.parent.getAttribute(this.foreignKeyName);if(await this.related.static().synchronize(this.related,e.related,{__models:n,...s}),this.__newModel||this.related.url===i){this.related=this.__newModel??this.related;return}e.related.url===i&&(this.related=e.related.clone({clones:Ne(new WeakMap,o=>o.set(e.parent,this.parent)),...s}))}assertNotLoadedOrEmpty(e){if(!(!this.loaded||!this.related))throw new Me(`The "${e}" method can't be called because a related model already exists, use a hasMany relationship if you want to support multiple related models.`)}};Db(tc,"onRelatedUpdated",function(t,e){this===this.parent.requireRelation(this.name)&&(Ht(this.parent),Ht(t),Ht(e),t&&this.clearInverseRelations(t),e&&this.initializeInverseRelations(e))});const AS=Gl(Oo,[tc,lh]);class SS extends AS{async load(){if(this.__modelInSameDocument)return this.related=this.__modelInSameDocument;const e=this.__modelInOtherDocumentId??this.parent.getAttribute(this.foreignKeyName);if(!e)return this.related=null;const r=await this.relatedClass.find(e);return this.related=r}reset(e=[]){const r=e[0];delete this.related,delete this.__modelInSameDocument,delete this.__modelInSameDocument,r&&(this.parent.unsetAttribute(this.foreignKeyName),this.related=r,this.__newModel=r)}clone(e={}){return Ne(super.clone(e),r=>{this.cloneSolidData(r)})}__beforeParentCreate(){if(this.documentModelsLoaded)return;const e=this.parent.getAttribute(this.foreignKeyName);this.loadDocumentModels([],e?[e]:[])}async __synchronizeRelated(e,r){if(!e.related||this.related&&this.related.url!==e.related.url)return;const{models:n,...s}=r,i=this.parent.getAttribute(this.foreignKeyName);if(!this.related){this.related=e.related.clone({clones:Ne(new WeakMap,o=>o.set(e.parent,this.parent)),...s});return}if(await this.related.static().synchronize(this.related,e.related,{__models:n,...s}),this.__newModel||this.related.url===i){this.related=this.__newModel??this.related;return}e.related.url===i&&(this.related=e.related.clone({clones:Ne(new WeakMap,o=>o.set(e.parent,this.parent)),...s}))}}const IS=Gl(ri,[tc,ch]);class TS extends IS{async load(){if(this.isEmpty())return this.related=null;if(!(this.__modelInSameDocument||this.__modelInOtherDocumentId))return this.related=null;const e=await(async()=>this.__modelInSameDocument?this.__modelInSameDocument:this.__modelInOtherDocumentId?this.relatedClass.find(this.__modelInOtherDocumentId):null)();return this.related=e}async remove(){if(!this.related)return;const e=this.related;this.related=null,await e.delete()}reset(e=[]){const r=e[0];this.related=void 0,this.__newModel=void 0,delete this.__modelInSameDocument,r&&(r.unsetAttribute(this.foreignKeyName),this.related=r,this.__newModel=r)}clone(e={}){return Ne(super.clone(e),r=>{this.cloneSolidData(r)})}__beforeParentCreate(){this.documentModelsLoaded||this.loadDocumentModels([],[])}async __synchronizeRelated(e,r){const{models:n,...s}=r;if(this.related&&e.related&&this.related.url===e.related.url){await this.related.static().synchronize(this.related,e.related,{__models:n,...s});return}if(!(!e.related||this.related&&this.related.url!==e.related.url)&&!this.related){this.related=e.related.clone({clones:Ne(new WeakMap,i=>i.set(e.parent,this.parent)),...s});return}}}class RS extends Gi{constructor(e,r){super(e,r,"resourceUrls","url")}isEmpty(){return!1}setForeignAttributes(e){const r=this.parent.getDocumentUrl();if(!r||!this.parent.url||e.resourceUrls.includes(r))return;const n=e.resourceUrls.concat([r]);this.parent.usingSolidEngine()?e.setOriginalAttribute("resourceUrls",n):e.setAttribute("resourceUrls",n)}clearForeignAttributes(e){const r=this.parent.getDocumentUrl();if(!r||!this.parent.url||!e.resourceUrls.includes(r))return;const n=Wr(e.resourceUrls,r);this.parent.usingSolidEngine()?e.setOriginalAttribute("resourceUrls",n):e.setAttribute("resourceUrls",n)}async load(){const e=this.relatedClass.collection,r=an(this.parent.url);return this.related=await this.relatedClass.from(Hr(r)??Nn(r)).find(r),this.relatedClass.collection=e,this.related}onRelatedUpdated(e,r){this===this.parent.requireRelation(this.name)&&(Ht(this.parent),Ht(e),Ht(r),e&&this.clearInverseRelations(e),r&&this.initializeInverseRelations(r))}}class OS extends Gi{constructor(e){super(e,jt("Tombstone"))}create(){const e=jt("Tombstone");this.related=new e({url:this.parent.metadata.url,resourceUrl:this.parent.url,deletedAt:new Date})}async load(){return null}setForeignAttributes(){}clearForeignAttributes(){}}const zu=new WeakMap;function Ur(t,e){return t[e]}async function CS(t,e,r){if(t.getPrimaryKey()!==e.getPrimaryKey())throw new Me("Can't synchronize different models");if(!(r.models.has(t)||r.models.has(e))){r.models.add(t),r.models.add(e),await t.loadRelationIfUnloaded("operations"),await e.loadRelationIfUnloaded("operations"),(t.operations.length>0||e.operations.length>0)&&(t.addHistoryOperations(e.operations),e.addHistoryOperations(t.operations));for(const n of Wr(t.static().relations,t.static().reservedRelations)){const s=t.requireRelation(n),i=e.requireRelation(n);!s.enabled||!i.enabled||(await Ld(s,fg).__synchronizeRelated(i,r),await Ld(i,fg).__synchronizeRelated(s,r))}}}class kS{tracksHistory(){return zu.has(this)?!1:this._history??this.static("history")}withoutTrackingHistory(e){if(!this.tracksHistory())return e();const r=()=>(zu.delete(this),!0);zu.set(this);const n=e();return Px(n)?n.then(s=>r()&&s):r()&&n}enableHistory(){this._history=!0}disableHistory(){this._history=!1}disableTombstone(){this._tombstone=!1}enableTombstone(){this._tombstone=!0}leavesTombstone(){return this._tombstone??this.static("tombstone")}getHistoryHash(){const e=this.getRelatedModels().map(r=>r.operations??[]).flat();return e.length===0?null:bx(Ja(e,"url").reduce((r,n)=>r+n.url,""))}rebuildAttributesFromHistory(){var e,r;if(!this.hasRelation("operations")||!this.isRelationLoaded("operations"))throw new Me("Can't rebuild attributes from history if 'operations'  relation isn't loaded");if(this.operations.length===0)return;const n=Rs("PropertyOperation"),s=Ja(this.operations,"date"),i=new Set(Object.keys(Ur(this,"_attributes"))),o=Object.entries(this.static("fields")).filter(([a,l])=>l.type===_e.Array);i.delete(this.static("primaryKey")),i.delete(bt.CreatedAt),i.delete(bt.UpdatedAt),o.forEach(([a,l])=>{this.ignoreRdfPropertyHistory(l.rdfProperty)||this.setAttribute(a,[])}),s.forEach(a=>{if(a instanceof n){const l=this.static().getRdfPropertyField(a.property);l&&i.delete(l)}a.apply(this)}),i.forEach(a=>{const l=this.static().getFieldRdfProperty(a);l&&this.ignoreRdfPropertyHistory(l)||this.unsetAttribute(a)}),this.setAttribute("createdAt",(e=s[0])==null?void 0:e.date),this.setAttribute("updatedAt",(r=s[s.length-1])==null?void 0:r.date)}addHistoryOperations(e){const r=Rs("PropertyOperation"),n=new Set(this.operations.map(a=>a.url)),s=[],i=new Set,o=Object.keys(this.static("fields")).reduce((a,l)=>{const c=this.static().getFieldRdfProperty(l);return c&&(a[c]=l),a},{});for(const a of e){if(n.has(a.url)||a instanceof r&&this.ignoreRdfPropertyHistory(a.property))continue;const l=a.clone();l.reset(),l.url=a.url,s.push(l),a instanceof r&&a.property in o&&i.add(a.property)}if(s.some(a=>!a.isInception(this))){this.setRelationModels("operations",Ja(this.operations.concat(s),["date","url"])),this.removeDuplicatedHistoryOperations(),this.rebuildAttributesFromHistory();for(const a of i){const l=o[a];Ur(this,"_trackedDirtyAttributes")[l]=Ur(this,"_dirtyAttributes")[l]}}}async addDirtyHistoryOperations(){const e=Ur(this,"_trackedDirtyAttributes");if(await this.loadRelationIfUnloaded("operations"),"url"in Ur(this,"_dirtyAttributes"))throw new Me(`It wasn't possible to generate the changes history for a model because its primary key was modified from '${this.url}' to '${Ur(this,"_originalAttributes").url}'.`);if(this.operations.length===0){const r=xr(ji(Ur(this,"_originalAttributes"),[this.static("primaryKey")]));for(const[n,s]of Object.entries(r)){if(s===null||Array.isArray(s)&&s.length===0||n in e&&e[n]===s)continue;const i=this.static().getFieldRdfProperty(n);i&&this.ignoreRdfPropertyHistory(i)||this.relatedOperations.attachSetOperation({property:this.static().requireFieldRdfProperty(n),date:this.metadata.createdAt,value:this.getOperationValue(n,s)})}}for(const[r,n]of Object.entries(Ur(this,"_dirtyAttributes"))){if(r in e&&e[r]===n)continue;const s=this.static().getFieldRdfProperty(r);if(!(s&&this.ignoreRdfPropertyHistory(s))){if(Array.isArray(n)){this.addArrayHistoryOperations(r,n,Ur(this,"_originalAttributes")[r]);continue}if(n==null){this.relatedOperations.attachUnsetOperation({property:this.static().requireFieldRdfProperty(r),date:this.metadata.updatedAt});continue}this.relatedOperations.attachSetOperation({property:this.static().requireFieldRdfProperty(r),date:this.metadata.updatedAt,value:this.getOperationValue(r,n)})}}this.metadata.isDirty("deletedAt")&&this.metadata.deletedAt&&this.relatedOperations.attachDeleteOperation({date:this.metadata.deletedAt})}removeDuplicatedHistoryOperations(){const e=Rs("PropertyOperation"),r=[],n=[],s=this.operations.filter(o=>o.isInception(this)),i=o=>!n.includes(o.url);for(const o of s)if(o instanceof e){if(!r.includes(o.property)){r.push(o.property);continue}n.push(o.url),o.exists()&&Ur(this,"_removedResourceUrls").push(o.url)}this.setRelationModels("operations",this.operations.filter(i))}getOperationValue(e,r){const n=this.static().getFieldDefinition(e,r);return ev(n)?Xt(fr(r,!0).map(s=>this.getOperationValue(`${e}.*`,s))):(r&&n.type===_e.Key&&(r=new kr(r)),n.serialize&&(r=n.serialize(r)),r)}addArrayHistoryOperations(e,r,n){const s=fr(this.getOperationValue(e,n),!0),i=fr(this.getOperationValue(e,r),!0),{added:o,removed:a}=Ki(s,i,(l,c)=>l instanceof kr&&c instanceof kr?l.equals(c):l===c);o.length>0&&this.relatedOperations.attachAddOperation({property:this.static().getFieldRdfProperty(e),date:this.metadata.updatedAt,value:Xt(o)}),a.length>0&&this.relatedOperations.attachRemoveOperation({property:this.static().getFieldRdfProperty(e),date:this.metadata.updatedAt,value:Xt(a)})}reconcileModelTimestamps(e){var r;const[n,...s]=this.operations??[];if(n){this.setAttribute(bt.UpdatedAt,s.reduce((a,l)=>a>l.date?a:l.date,n.date));return}if(e)return;const i=Ur(this,"_originalAttributes")[bt.UpdatedAt]??((r=this.metadata)==null?void 0:r.getOriginalAttribute(bt.UpdatedAt));if(!i)return;const o=Object.keys(Ur(this,"_dirtyAttributes"));o[1]||o[0]&&o[0]!==bt.UpdatedAt||this.setAttribute(bt.UpdatedAt,i)}}function Ra(t){return Jl(t,ec)}function Wu(t){return Jl(t,tc)}const DS=Bb(Gf,[uS,dS,fS,wS,kS]);let Vt=class extends DS{constructor(){super(...arguments),Pe(this,"_sourceSubject",{}),Pe(this,"_lock",new Bf)}static getFieldDefinition(e,r){if(e.endsWith(".*")){const n=this.getFieldDefinition(e.slice(0,-2),Array.isArray(r)&&r.length>0?r[0]:void 0);if(!hS(n))throw new Me("Can't get item field definition for non-array field");return{type:n.items.type,rdfProperty:n.rdfProperty,rdfPropertyAliases:n.rdfPropertyAliases,required:!1}}return this.fields[e]??xl(r,this.getDefaultRdfContext()+e,[],!1)}static getFieldRdfProperty(e){const r=this.fields[e];return r&&!r.rdfProperty?null:(r==null?void 0:r.rdfProperty)??this.getDefaultRdfContext()+e}static getRdfPropertyField(e){return(this.rdfPropertyFields??(this.rdfPropertyFields=J1(qo(Object.keys(this.fields),r=>this.getFieldRdfProperty(r)))))[e]??null}static async updateSchema(e){await super.updateSchema(e),delete this.rdfPropertyFields}static requireFetch(){if(!this.usingSolidEngine())throw new Me(`Could not get fetch from ${this.modelName} model`);return this.requireFinalEngine().getFetch()}static requireFieldRdfProperty(e){return this.getFieldRdfProperty(e)??We(`Couldn't get required property for rdf field '${e}'`)}static usingSolidEngine(){return!!this.requireFinalEngine().__isSolidEngine}static useSoftDeletes(e){this.softDeletesEnabled=e}static from(e){return this.collection=e,this}static at(e){return this.from(e)}static boot(e){var r,n,s,i;this.modelName=this.bootModelName(e),this.rdfContexts=this.bootRdfContexts(((r=Object.getOwnPropertyDescriptor(this,"rdfContext"))==null?void 0:r.value)??null,((n=Object.getOwnPropertyDescriptor(this,"rdfContexts"))==null?void 0:n.value)??{},this.rdfsClass),this.rdfsClasses=this.bootRdfsClasses(((s=Object.getOwnPropertyDescriptor(this,"rdfsClass"))==null?void 0:s.value)??null,((i=Object.getOwnPropertyDescriptor(this,"rdfsClasses"))==null?void 0:i.value)??null,this.rdfContexts),this.rdfsClassesAliases=this.bootRdfsClassesAliases(this.rdfsClassesAliases,this.rdfContexts),super.boot(e)}static aliasRdfPrefixes(e){var r;this.ensureBooted();for(const[n,s]of Object.entries(e)){const i=this.rdfsClasses.reduce((o,a)=>(a.startsWith(n)&&o.push(a.replace(n,s)),o),[]);i.length>0&&this.rdfsClassesAliases.push(i);for(const o of Object.values(this.fields))(r=o.rdfProperty)!=null&&r.startsWith(n)&&o.rdfPropertyAliases.push(o.rdfProperty.replace(n,s))}}static resetRdfAliases(){this.rdfsClassesAliases=[];for(const e of Object.values(this.fields))e.rdfPropertyAliases&&(e.rdfPropertyAliases=[])}static replaceRdfPrefixes(e){var r;this.ensureBooted();for(const[n,s]of Object.entries(e)){this.rdfsClasses=this.rdfsClasses.map(i=>i.replace(n,s));for(const i of Object.values(this.fields))(r=i.rdfProperty)!=null&&r.startsWith(n)&&(i.rdfProperty=i.rdfProperty.replace(n,s))}}static createFromEngineDocument(e,r,n){return this.instance().createFromEngineDocument(e,r,n)}static async find(e){const r=Cr([this.rdfsClasses,...this.rdfsClassesAliases].flat()),n=this.instance().serializeKey(e),s=In(n),i=Hr(s)??Nn(s);this.ensureBooted();try{const{documentPermissions:o,stopTracking:a}=this.instance().trackPublicPermissions(),l=await this.requireEngine().readOne(i,s),c=await ur.resourceFromJsonLDGraph(l,n);if(!r.some(d=>c.isType(d)))return null;const u=await this.instance().createFromEngineDocument(s,l,n);return a(),u._publicPermissions=o[s],u}catch(o){if(yx()&&!As(o,_s)&&!As(o,ih)&&!As(o,qu))throw o;return null}}static async all(e={}){e=this.prepareEngineFilters(e);const{documentPermissions:r,stopTracking:n}=this.instance().trackPublicPermissions(),s=await super.all(e);return n(),s.forEach(i=>i._publicPermissions=r[i.requireDocumentUrl()]),s}static prepareEngineFilters(e={}){const r=!this.usingSolidEngine();return this.instance().convertEngineFiltersToJsonLD(e,r)}static rdfTerm(e,r){return r??(r=this.rdfContexts),Ts(e,xr({extraContext:r,defaultPrefix:Object.values(r).shift()}))}static async newFromJsonLD(e,r,n){const s=DA(e),i=await ur.fromJsonLD(s,r??this.collection),o=await i.toJsonLD(),a=n??this.findMatchingResourceIds(i.statements,r)[0]??We(Me,"Couldn't find matching resource in JSON-LD"),l=i.resource(a),c=r||In(a),u=await this.instance().parseEngineDocumentAttributes(c,o,a);return this.hasAutomaticTimestamp(bt.CreatedAt)&&(u.createdAt=l==null?void 0:l.getPropertyValue(mt("purl:created"))),this.hasAutomaticTimestamp(bt.UpdatedAt)&&(u.updatedAt=l==null?void 0:l.getPropertyValue(mt("purl:modified"))),Ne(this.newInstance(xr(u)),async d=>{await d.loadDocumentModels(c,o),d.reset(),d._sourceSubject=e["@id"]?PA(e["@id"]):{};for(const f of this.relations){const h=d.requireRelation(f),m=h.getLoadedModels();h.enabled&&(Ld(h,Ei).reset(m),m.forEach(y=>y.reset()))}})}static async createFromJsonLD(e,r,n){return Ne(await this.newFromJsonLD(e,r,n),s=>s.save(r))}static async createInDocument(e,r,n){return Ne(new this(e),s=>s.saveInDocument(r,n))}static async synchronize(e,r,n={}){if(this!==e.static())return e.static().synchronize(e,r,{...n,__models:n.__models??new WeakSet});await CS(e,r,{...n,models:n.__models??new WeakSet})}static findMatchingResourceIds(e,r){const n=e.reduce((s,i)=>{var o;return i.predicate.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"&&(s[i.subject.value]=s[i.subject.value]??[],(o=s[i.subject.value])==null||o.push(i.object.value)),s},{});return Object.entries(n).filter(([s,i])=>i.some(o=>this.rdfsClasses.includes(o))).map(([s])=>r?Bi(r,s):s)}static bootRdfContexts(e,r,n,s={}){var i,o;const a=s.modelClass??this,l={crdt:"https://vocab.noeldemartin.com/crdt/",foaf:"http://xmlns.com/foaf/0.1/",ldp:"http://www.w3.org/ns/ldp#",pim:"http://www.w3.org/ns/pim/space#",posix:"http://www.w3.org/ns/posix/stat#",purl:"http://purl.org/dc/terms/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"https://schema.org/",solid:"http://www.w3.org/ns/solid/terms#",xsd:"http://www.w3.org/2001/XMLSchema#"},c=()=>{var d;return(d=Object.entries({...r,...l}).find(([f,h])=>(n==null?void 0:n.startsWith(`${f}:`))||(n==null?void 0:n.startsWith(Rt(h)))))==null?void 0:d[1]};r.default??(r.default=e??c()??Object.values(r).find(d=>!!d));let u=Object.getPrototypeOf(a);return s.skipParentSchema&&u.__isSchema&&(u=Object.getPrototypeOf(u)),u?this.bootRdfContexts(((i=Object.getOwnPropertyDescriptor(u,"rdfContext"))==null?void 0:i.value)??null,{...r,...((o=Object.getOwnPropertyDescriptor(u,"rdfContexts"))==null?void 0:o.value)??{}},u.rdfsClass,{modelClass:u}):{...r,...l,default:r.default??"http://www.w3.org/ns/solid/terms#"}}static bootRdfsClasses(e,r,n,s){var i,o,a;const l=s??this;if(r&&r.length>0)return Cr((r==null?void 0:r.map(u=>this.rdfTerm(u,n)))??[]);if(e)return[this.rdfTerm(e,n)];const c=Object.getPrototypeOf(l);return c?this.bootRdfsClasses(((i=Object.getOwnPropertyDescriptor(c,"rdfsClass"))==null?void 0:i.value)??null,((o=Object.getOwnPropertyDescriptor(c,"rdfsClasses"))==null?void 0:o.value)??null,{...n,...((a=Object.getOwnPropertyDescriptor(c,"rdfContexts"))==null?void 0:a.value)??{}},c):[this.rdfTerm(this.getDefaultRdfContext(n)+this.modelName,n)]}static bootRdfsClassesAliases(e,r){return e.map(n=>Cr(n.map(s=>mt(s,this.rdfContexts,this.getDefaultRdfContext(r)))??[]))}static bootCollection(){const e=super.bootCollection();if(!e.match(/^\w+:\/\/.*\/$/))throw new ws(this.modelName,`SolidModel collections must be valid container urls (ending with a trailing slash), '${e}' isn't.`);return e}static bootFields(e,r,n,s){var i,o,a;const l=aS(this)??this.rdfContexts,c=this.getDefaultRdfContext(l),{fieldAliases:u}=super.bootFields(e,r,n,s);n.includes(bt.CreatedAt)&&delete s[bt.CreatedAt],n.includes(bt.UpdatedAt)&&delete s[bt.UpdatedAt];for(const[d,f]of Object.entries(s))f.rdfProperty=mt(f.rdfProperty??`${c}${d}`,l,c),f.rdfPropertyAliases=((i=f.rdfPropertyAliases)==null?void 0:i.map(h=>mt(h,l,c)))??[];return(o=s[r])==null||delete o.rdfProperty,(a=s[r])==null||delete a.rdfPropertyAliases,{fields:s,fieldAliases:u}}static getDefaultRdfContext(e){return e??(e=this.rdfContexts),e.default??""}static async performSchemaUpdate(e){try{e.primaryKey??(e.primaryKey="url");const r=this.bootRdfContexts(e.rdfContext??null,{...e.rdfContexts},e.rdfsClass,{skipParentSchema:!0}),n=this.bootRdfsClasses(e.rdfsClass??null,e.rdfsClasses??null,r),s=this.bootRdfsClassesAliases(e.rdfsClassesAliases??[],r);oS(this,r),await super.performSchemaUpdate(e),this.rdfContexts=r,this.rdfsClasses=n,this.rdfsClassesAliases=s,this.rdfsClass=e.rdfsClass,this.rdfContext=e.rdfContext,this.defaultResourceHash=e.defaultResourceHash??"it",this.slugField=e.slugField,this.history=e.history??!1,this.tombstone=e.tombstone??!0}finally{lS(this)}}initialize(e,r){this._documentExists=r,this._sourceDocumentUrl=this._sourceDocumentUrl??null,this._trackedDirtyAttributes={},this._removedResourceUrls=[],this._usesRdfAliases=!1,super.initialize(e,r)}initializeRelations(){super.initializeRelations(),this.initializeRelationsEnabling(),this.initializeMetadataRelation()}initializeRelationsEnabling(){this.static().hasAutomaticTimestamps()||this._proxy.relatedMetadata.disable(),this._proxy.tracksHistory()||(this._proxy.relatedOperations.disable(),this._proxy.relatedTombstone.disable()),this._proxy.relatedAuthorizations.disable()}initializeMetadataRelation(){if(!this._proxy.relatedMetadata.enabled)return;const e=this._proxy.relatedMetadata.relatedClass.newInstance(xr({resourceUrl:this._attributes[this.static("primaryKey")],createdAt:this._attributes.createdAt,updatedAt:this._attributes.updatedAt}),!1);e.resourceUrl&&e.mintUrl(this.getDocumentUrl()||void 0,this._documentExists),this._proxy.relatedMetadata.attach(e),delete this._attributes.createdAt,delete this._attributes.updatedAt,delete this._originalAttributes.createdAt,delete this._originalAttributes.updatedAt}static(e){return super.static(e)}update(e){return this._lock.run(()=>super.update(e))}save(e){return this.static().withCollection(e||this.guessCollection(),()=>super.save())}async saveInDocument(e,r){return this.exists()?z1(this.getDocumentUrl()===e,Me,"Model already exists and is not stored in the given document"):this.mintUrl(e,!0,r),await this.save(),this}delete(){return this.static().softDeletesEnabled?this.softDelete():this.forceDelete()}forceDelete(){return this.static().withCollection(this.guessCollection(),()=>super.delete())}async softDelete(){if(!this.static().hasAutomaticTimestamps())throw new Me("Cannot soft delete a model without automatic timestamps");if(this.isSoftDeleted())return this;const e=new Date;return this.metadata.setAttribute(bt.UpdatedAt,e),this.metadata.setAttribute("deletedAt",e),await this.save(),this}async registerInTypeIndex(e){const r=jt("SolidDocument");await new r({url:this.getDocumentUrl()}).register(e,this.static())}mintUrl(e,r,n){this.setAttribute(this.static("primaryKey"),this.newUrl(e,n)),e&&(this._documentExists=r??!0)}toJsonLD(e={}){e={ids:!0,timestamps:!0,history:!0,...e};const r=this.clone();return e.ids||r.getRelatedModels().forEach(n=>n.setAttribute("url",null)),e.timestamps||r.getRelatedModels().forEach(n=>{n.relatedMetadata.related=null,delete n.relatedMetadata.__modelInSameDocument,delete n.relatedMetadata.__modelInOtherDocumentId,delete n.relatedMetadata.__newModel}),e.history||r.getRelatedModels().forEach(n=>{n.relatedOperations.related=[],n.relatedOperations.__newModels=[],delete n.relatedOperations.__modelsInSameDocument,delete n.relatedOperations.__modelsInOtherDocumentIds}),r.serializeToJsonLD()}async toTurtle(e={}){const r=await rh(this.toJsonLD(e));return _A(r)}getIdAttribute(){return this.getAttribute("url")}setExists(e){this._documentExists=e&&this._documentExists,super.setExists(e)}documentExists(){return this._documentExists}setDocumentExists(e){this.getDocumentModels().forEach(r=>r._documentExists=e)}isDirty(e,r){var n,s;if(e)return this.static("timestamps").includes(e)?((n=this.metadata)==null?void 0:n.isDirty(e))||super.isDirty(e):super.isDirty(e);if(super.isDirty())return!0;if(r)return!!((s=this.metadata)!=null&&s.isDirty("deletedAt"));const i=this.getDocumentModels().filter(a=>a.isDirty(void 0,!0)),o=this.getRemovedDocumentModels();return i.length+o.length>0}isSoftDeleted(){var e;return!!((e=this.metadata)!=null&&e.deletedAt)}cleanDirty(e){super.cleanDirty(),this._documentExists=!0,this._trackedDirtyAttributes={},this._removedResourceUrls=[],Object.values(this._relations).filter(Ra).filter(r=>r.enabled&&!Dt()).forEach(r=>{if(r.useSameDocument){r.__modelsInSameDocument=r.__modelsInSameDocument||[],r.__modelsInSameDocument.push(...r.__newModels),r.__newModels=[];return}r.__newModels=r.__newModels.filter(n=>!n.exists())}),Object.values(this._relations).filter(Wu).filter(r=>r.enabled&&!!r.__newModel&&!Dt()).forEach(r=>{var n;if(r.useSameDocument){r.__modelInSameDocument=r.__newModel,r.__newModel=void 0;return}r.__newModel=(n=r.__newModel)!=null&&n.exists()?void 0:r.__newModel}),e||this.getDocumentModels().forEach(r=>r.cleanDirty(!0))}fixMalformedAttributes(){super.fixMalformedAttributes(),this.relatedMetadata.enabled&&(this.static().hasAutomaticTimestamp(bt.CreatedAt)&&(this.metadata.createdAt=this.getAttribute("createdAt")??new Date),this.static().hasAutomaticTimestamp(bt.UpdatedAt)&&(this.metadata.updatedAt=this.getAttribute("updatedAt")??this.getAttribute("createdAt")??new Date))}ignoreRdfPropertyHistory(e,r){return!1}getDocumentUrl(){return this.url?In(this.url):null}requireDocumentUrl(){return this.getDocumentUrl()??We(Me,"Failed getting required document url")}usesRdfAliases(){return this._usesRdfAliases}getSourceDocumentUrl(){return this._sourceDocumentUrl}setSourceDocumentUrl(e){this._sourceDocumentUrl=e}requireContainerUrl(){return this.getContainerUrl()??We(Me,"Failed getting required container url")}getContainerUrl(){const e=this.getDocumentUrl();return e?Hr(e):null}getSourceContainerUrl(){const e=this.getSourceDocumentUrl();return e?Hr(e):null}setAttribute(e,r){const n=this.getPrimaryKey();super.setAttribute(e,r);const s=this.getPrimaryKey();n!==s&&this.onPrimaryKeyUpdated(s,n)}unsetAttribute(e){var r,n;return((n=(r=this.static("fields"))==null?void 0:r[e])==null?void 0:n.type)===_e.Array?this.setAttributeValue(e,[]):super.unsetAttribute(e)}setCreatedAtAttribute(e){(this.metadata??this).setAttributeValue("createdAt",e)}setUpdatedAtAttribute(e){(this.metadata??this).setAttributeValue("updatedAt",e)}getCreatedAtAttribute(){var e;return((e=this.metadata)==null?void 0:e.getAttributeValue("createdAt"))??super.getAttributeValue("createdAt")}getUpdatedAtAttribute(){var e;return((e=this.metadata)==null?void 0:e.getAttributeValue("updatedAt"))??super.getAttributeValue("updatedAt")}getDeletedAtAttribute(){var e;return((e=this.metadata)==null?void 0:e.getAttributeValue("deletedAt"))??super.getAttributeValue("deletedAt")}getDocumentModels(){return Dt()?[]:Wp("document-models",this,()=>{const e=new Set;return this.populateDocumentModels(e),Ne(Array.from(e),r=>{r.forEach(n=>qf("document-models",n,r))})})}getRemovedDocumentModels(){const e=new Set;for(const r of Object.values(this._relations))!r.enabled||!r.loaded||!Ei(r)||!Ra(r)||r.__removedDocumentModels.forEach(n=>e.add(n));return Array.from(e)}getDirtyDocumentModels(){return this.getDocumentModels().filter(e=>e.isDirty(void 0,!0))}requireRelation(e){return super.requireRelation(e)}getRelationModel(e){return super.getRelationModel(e)}getRelationModels(e){return super.getRelationModels(e)}setRelationModel(e,r){return super.setRelationModel(e,r)}setRelationModels(e,r){return super.setRelationModels(e,r)}getRelatedModels(){return Wp("related-models",this,()=>{const e=new Set;return this.populateRelatedModels(e),Array.from(e)})}getDefaultCollection(){return`solid://${super.getDefaultCollection()}/`}usingSolidEngine(){return!!this.requireFinalEngine().__isSolidEngine}metadataRelationship(){const e=jt("Metadata");return this.hasOne(e,"resourceUrl").usingSameDocument(!Dt()).onDelete("cascade")}operationsRelationship(){return new _S(this).usingSameDocument(!Dt()).onDelete("cascade")}tombstoneRelationship(){return new OS(this)}authorizationsRelationship(){return new xS(this)}onMoved(e,r){r&&this.setSourceDocumentUrl(r)}async createFromEngineDocument(e,r,n){const s=async()=>{const l=await this.parseEngineDocumentAttributes(e,r,n);l[this.static("primaryKey")]=new kr(n||e);for(const[c,u]of Object.entries(this.static("fields")))u.deserialize&&(l[c]=u.deserialize(l[c]));return this.newInstance(l,!0)},i=Rt(e),o=await ur.resourceFromJsonLDGraph(r,n||i),a=await s();if(await a.loadDocumentModels(i,r),a.hasIncompleteAttributes())throw new qu(i);return Ne(a,l=>{l._sourceDocumentUrl=Kb(i,{fragment:!1}),l._usesRdfAliases=this.static("rdfsClassesAliases").some(c=>!c.some(u=>!o.isType(u)))})}async createManyFromEngineDocuments(e){const r=Cr([this.static("rdfsClasses"),...this.static("rdfsClassesAliases")].flat()),n=await Promise.all(Object.entries(e).map(async([s,i])=>{const o=await ur.fromJsonLD(i);return Promise.all(o.resources.filter(a=>!!a.url&&r.some(l=>a.isType(l))).map(async a=>{try{return await this.createFromEngineDocument(s,i,a.url)}catch(l){if(l instanceof qu)return null;throw l}}))}));return Xt(n.flat())}async loadDocumentModels(e,r){const n=this.requireEngine();await Promise.all(Object.values(this._relations).filter(s=>s.enabled&&(Ei(s)||s instanceof sl)).map(async s=>s.relatedClass.withEngine(n,()=>s.__loadDocumentModels(e,r))))}async beforeSave(e){var r;const n=this.isDirty(bt.UpdatedAt)||!!((r=this.metadata)!=null&&r.isDirty(bt.UpdatedAt));await super.beforeSave(),!this.url&&this.static("mintsUrls")&&!Dt()&&this.mintUrl(),!e&&(await Promise.all(this.getDirtyDocumentModels().map(async s=>s.exists()||s.beforeCreate())),await this.beforeDocumentSave(),await Promise.all(this.getDirtyDocumentModels().map(async s=>s.exists()&&s.beforeUpdate())),this.reconcileModelTimestamps(n))}async beforeDocumentSave(){let e=[];const r=new Set,n=()=>(e=this.getDocumentModels().filter(s=>!r.has(s)),e.length>0);for(;n();)this.static("mintsUrls")&&!Dt()&&this.mintDocumentModelsKeys(e),await Promise.all(e.map(async s=>{s!==this&&s.isDirty(void 0,!0)&&await s.beforeSave(!0),r.add(s)}))}async beforeCreate(){for(const e of Object.values(this._relations))!e.enabled||!mS(e)||e.__beforeParentCreate();this.metadata&&!this.metadata.resourceUrl&&this.static("defaultResourceHash")&&!Dt()&&(this.metadata.resourceUrl=this.url??`#${this.static("defaultResourceHash")}`,this.metadata.mintUrl(this.getDocumentUrl()||void 0,this._documentExists))}async beforeUpdate(){this.tracksHistory()&&this.isDirty(void 0,!0)&&(await this.addDirtyHistoryOperations(),await Promise.all(this.operations.map(async e=>{e.exists()||(await e.beforeCreate(),await e.beforeSave(!0),this.mintDocumentModelsKeys([e]))})))}async performSave(){const e=this.getDirtyDocumentModels().map(r=>[r,r.exists()]);try{await super.performSave()}catch(r){if(!(r instanceof Kf))throw r;this.url=this.newUniqueUrl(this.url),await super.performSave()}e.forEach(([r,n])=>{r._wasRecentlyCreated=r._wasRecentlyCreated||!n})}async performDelete(){this.tracksHistory()&&this.leavesTombstone()&&this.relatedTombstone.create(),await super.performDelete()}async afterSave(e){if(await super.afterSave(),!e){this.metadata&&this.metadata.resourceUrl!==this.url&&(this.metadata.resourceUrl=this.url,Dt()||this.metadata.mintUrl(this.getDocumentUrl()||void 0,this._documentExists)),await Promise.all(this.getDirtyDocumentModels().map(r=>r.afterSave(!0)));for(const r of Object.values(this._relations))!r.enabled||!gS(r)||r.__afterParentSave()}}onPrimaryKeyUpdated(e,r){var n,s;const i=this.getDocumentUrl()||void 0,o=this.documentExists(),a=Object.values(this._relations).filter(l=>l.enabled&&uh(l));for(const l of a)l.getLoadedModels().forEach(c=>{const u=c.getAttribute(l.foreignKeyName);c.setAttribute(l.foreignKeyName,Array.isArray(u)?Ne(u.slice(0),d=>Pb(d,r,e)):e)});Dt()||((n=this.metadata)==null||n.mintUrl(i,o),(s=this.operations)==null||s.map(l=>l.mintUrl(i,o)))}async syncDirty(){const e=this.getDocumentUrl(),r=()=>this.requireEngine().create(e?an(e):this.static("collection"),this.toEngineDocument(),e||void 0),n=()=>this.requireEngine().update(an(e),e,{"@graph":{$push:this.serializeToJsonLD()}}),s=()=>this.requireEngine().update(an(e),e,this.getDirtyEngineDocumentUpdates());return await(async()=>{if(!this._documentExists){const i=this.static("defaultResourceHash"),o=await r();return this.getSerializedPrimaryKey()??(i&&!Dt()?`${o}#${i}`:o)}return this._exists?(await s(),this.getSerializedPrimaryKey()):(await n(),this.getSerializedPrimaryKey())})()??We(Me,"Missing primary key")}async deleteModelsFromEngine(e){await this.deleteModels(e)}hasOne(e,r,n){return new TS(this,e,r,n)}hasMany(e,r,n){return new Nv(this,e,r,n)}belongsToOne(e,r,n){return new SS(this,e,r,n)}belongsToMany(e,r,n){return new dh(this,e,r,n)}isContainedBy(e){return new RS(this,e)}documentContainsMany(e){return new sl(this,e)}toEngineDocument(){return{"@graph":this.getDirtyDocumentModels().map(e=>e.serializeToJsonLD({includeRelations:!1,includeAnonymousHashes:!0}))}}getDirtyEngineDocumentUpdates(e){const r=[],n=this.requireEngine(),s=this.getDirtyDocumentModels(),i=this.getRemovedDocumentModels();if(!e){for(const o of s){if(o===this)continue;if(!o.exists()){r.push({$push:o.serializeToJsonLD({includeRelations:!1})});continue}const a=o.withEngine(n,l=>l.getDirtyEngineDocumentUpdates(!0))["@graph"];"$apply"in a?r.push(...a.$apply):r.push(a)}for(const o of i)o.getDocumentModels().forEach(a=>r.push({$updateItems:{$where:{"@id":a.url},$unset:!0}}))}if(super.isDirty()&&this.url){const o=super.getDirtyEngineDocumentUpdates(),a=!this.usingSolidEngine();r.push({$updateItems:{$where:{"@id":this.url},$update:this.convertEngineUpdatesToJsonLD(o,a)}})}return this._removedResourceUrls.forEach(o=>r.push({$updateItems:{$where:{"@id":o},$unset:!0}})),r.length===1?{"@graph":r[0]}:{"@graph":{$apply:r}}}async parseEngineDocumentAttributes(e,r,n){return this.parseEngineDocumentAttributesFromJsonLD(r,n||e)}castAttribute(e,r={}){const n=()=>{var s;const i=typeof e>"u"||e===null;switch((s=r.definition)==null?void 0:s.type){case _e.Array:{const o=i?[]:fr(e),a=Cr(o);return o.length!==a.length&&console.warn("An array field had duplicate values, this is not supported in Solid models."),a}case _e.Any:if(!Array.isArray(e))return e;if(e.length===0)return;if(e.length===1)return e[0];break}return i?void 0:e};return super.castAttribute(n(),r)}newUrl(e,r){return e=e??this.newUrlDocumentUrl(),r=r??this.newUrlResourceHash(),r?`${e}#${r}`:e}newUrlDocumentUrl(){var e;const r=((e=this._sourceSubject)==null?void 0:e.documentName)??this.newUrlDocumentUrlSlug()??Ar();return Bi(this.static("collection"),r)}newUrlDocumentUrlSlug(){const e=this.static("slugField"),r=e&&this.getAttribute(e);return(r&&zf(r))??null}newUrlResourceHash(){var e;return((e=this._sourceSubject)==null?void 0:e.resourceHash)??this.static("defaultResourceHash")}newUniqueUrl(e){var r;e=e??this.newUrl();const n=(r=sa(e))==null?void 0:r.fragment;return`${In(e)}-${Ub()}${n?`#${n}`:""}`}guessCollection(){if(this.url)return Hr(this.url)??void 0}mintDocumentModelsKeys(e){const r=this.requireDocumentUrl(),n=this._documentExists;for(const s of e)s.url||s.mintUrl(r,n,Ar());for(const s of e)for(const i of Object.values(s._relations))i.enabled&&i.getLoadedModels().forEach(o=>i.setForeignAttributes(o))}populateRelatedModels(e){if(!e.has(this)){e.add(this);for(const r of Object.values(this._relations))r.enabled&&(Wu(r)&&r.__newModel&&r.__newModel.populateRelatedModels(e),Ra(r)&&r.__newModels.map(n=>n.populateRelatedModels(e)),r.getLoadedModels().forEach(n=>n.populateRelatedModels(e)))}}populateDocumentModels(e){if(e.has(this))return;const r=this.getDocumentUrl(),n=(s,i)=>r&&i.getDocumentUrl()===r||Ei(s)&&s.useSameDocument;e.add(this);for(const s of Object.values(this._relations)){const i=s instanceof sl;if(!(!s.enabled||!s.loaded||!i&&!Ei(s))){if(Wu(s)&&s.__newModel&&n(s,s.__newModel)&&s.__newModel.populateDocumentModels(e),Ra(s))for(const o of s.__newModels)n(s,o)&&o.populateDocumentModels(e);s.getLoadedModels().filter(o=>i||n(s,o)).forEach(o=>o.populateDocumentModels(e))}}}};Pe(Vt,"primaryKey","url"),Pe(Vt,"fields"),Pe(Vt,"classFields",["_history","_publicPermissions","_tombstone"]),Pe(Vt,"rdfContext"),Pe(Vt,"rdfContexts",{}),Pe(Vt,"rdfsClass"),Pe(Vt,"rdfsClasses",[]),Pe(Vt,"rdfsClassesAliases",[]),Pe(Vt,"reservedRelations",["metadata","operations","tombstone","authorizations"]),Pe(Vt,"defaultResourceHash","it"),Pe(Vt,"slugField"),Pe(Vt,"mintsUrls",!0),Pe(Vt,"history",!1),Pe(Vt,"tombstone",!0),Pe(Vt,"rdfPropertyFields"),Pe(Vt,"historyDisabled",new WeakMap),Pe(Vt,"softDeletesEnabled",!1);function mr(t,e){return Dv(t,Vt,e)}const Fv={resourceUrl:{type:_e.Key,required:!0,rdfProperty:"resource"},date:{type:_e.Date,required:!0}},PS=mr({rdfContexts:{crdt:"https://vocab.noeldemartin.com/crdt/"},rdfsClass:"Operation",timestamps:!1,fields:Fv});let fh=class extends PS{apply(e){}isInception(e){var r,n;return((n=(r=e.metadata)==null?void 0:r.createdAt)==null?void 0:n.getTime())===this.date.getTime()}newUrl(e,r){if(!this.resourceUrl)return super.newUrl(e,r);const n=r??Ar();return this.resourceUrl.includes("#")?`${this.resourceUrl}-operation-${n}`:`${this.resourceUrl}#operation-${n}`}};const rc={...Fv,property:{type:_e.Key,required:!0}},$S=mr(fh,{rdfsClass:"PropertyOperation",fields:rc});let aa=class extends $S{apply(e){const r=e.static().getRdfPropertyField(this.property);r&&this.applyPropertyUpdate(e,r)}applyPropertyUpdate(e,r){}};const LS=mr(aa,{rdfsClass:"AddPropertyOperation",fields:{...rc,value:{type:_e.Any,required:!0}}});class NS extends LS{applyPropertyUpdate(e,r){const n=e.getAttributeValue(r);if(!Array.isArray(n))throw new Me("Can't apply Add operation to non-array field (should be Set instead)");e.setAttributeValue(r,n.concat(fr(this.value)))}}const MS=mr(fh,{rdfsClass:"DeleteOperation"});class FS extends MS{apply(e){e.metadata.setAttribute("deletedAt",this.date)}}const jS=mr({rdfContexts:{crdt:"https://vocab.noeldemartin.com/crdt/"},rdfsClass:"Metadata",timestamps:!1,fields:{resourceUrl:{type:_e.Key,required:!0,rdfProperty:"resource"},createdAt:_e.Date,updatedAt:_e.Date,deletedAt:_e.Date}});let hh=class extends jS{getCreatedAtAttribute(){return this.getAttributeValue("createdAt")}getUpdatedAtAttribute(){return this.getAttributeValue("updatedAt")}newUrl(e,r){return this.resourceUrl?this.resourceUrl.includes("#")?`${this.resourceUrl}-metadata`:`${this.resourceUrl}#metadata`:super.newUrl(e,r)}};const US=mr(aa,{rdfsClass:"RemovePropertyOperation",fields:{...rc,value:{type:_e.Any,required:!0}}}),jv=class zd extends US{applyPropertyUpdate(e,r){const n=e.static().getFieldDefinition(r),s=e.getAttributeValue(r),i=n.deserialize?n.deserialize(s):s;if(!Array.isArray(i))throw new Me("Can't apply Remove operation to non-array field (use Unset instead)");e.setAttributeValue(r,Wr(i,this.castModelAttribute(e,r,fr(this.value))))}castModelAttribute(e,r,n){const s=e.constructor;return(zd.attributeCasters.get(s)??this.createAttributeCaster(s))(r,n)}createAttributeCaster(e){const r=(class extends e{castAttribute(n,s={}){return super.castAttribute(n,s)}}).pureInstance();return Ne((n,s)=>r.castAttribute(s,{definition:r.static().getFieldDefinition(n)}),n=>zd.attributeCasters.set(e,n))}};Pe(jv,"attributeCasters",new WeakMap);let BS=jv;const qS=mr(aa,{rdfsClass:"SetPropertyOperation",fields:{...rc,value:{type:_e.Any,required:!0}}});let VS=class extends qS{applyPropertyUpdate(e,r){const n=e.static().getFieldDefinition(r),s=n.deserialize?n.deserialize(this.value):this.value;e.setAttributeValue(r,s)}},Uv=class extends hh{};Pe(Uv,"rdfsClass","Tombstone");const HS=mr(aa,{rdfsClass:"UnsetPropertyOperation"});let zS=class extends HS{applyPropertyUpdate(e,r){e.unsetAttribute(r)}};const WS={AddPropertyOperation:NS,DeleteOperation:FS,Metadata:hh,Operation:fh,PropertyOperation:aa,RemovePropertyOperation:BS,SetPropertyOperation:VS,Tombstone:Uv,UnsetPropertyOperation:zS},KS=mr({rdfContexts:{acl:"http://www.w3.org/ns/auth/acl#"},rdfsClass:"Authorization",timestamps:!1,fields:{agents:{rdfProperty:"agent",type:_e.Array,items:_e.Key},agentClasses:{rdfProperty:"agentClass",type:_e.Array,items:_e.Key},agentGroups:{rdfProperty:"agentGroup",type:_e.Array,items:_e.Key},accessTo:{type:_e.Array,items:_e.Key},accessToClasses:{rdfProperty:"accessToClass",type:_e.Array,items:_e.Key},default:{type:_e.Array,items:_e.Key},modes:{rdfProperty:"mode",type:_e.Array,items:_e.Key}}}),GS={[xs.Read]:"http://www.w3.org/ns/auth/acl#Read",[xs.Write]:"http://www.w3.org/ns/auth/acl#Write",[xs.Append]:"http://www.w3.org/ns/auth/acl#Append",[xs.Control]:"http://www.w3.org/ns/auth/acl#Control"};let JS=class extends KS{static get fetch(){return this.requireFetch()}static modeFromSolidDocumentPermission(e){return GS[e]}};const XS=mr({rdfsClass:"ldp:Resource",timestamps:!1,fields:{updatedAt:{type:_e.Date,rdfProperty:"purl:modified"}}}),YS=mr({rdfContexts:{solid:"http://www.w3.org/ns/solid/terms#"},rdfsClass:"TypeRegistration",timestamps:!1,fields:{forClass:{type:_e.Array,items:_e.Key},instance:_e.Key,instanceContainer:_e.Key}});let Vo=class extends YS{},Ao=class extends XS{static async fromTypeIndex(e,r){const n=this.requireFinalEngine(),s=n instanceof oh?n.getFetch():void 0;return(await FA(e,r.rdfsClasses,s)).map(i=>this.newInstance({url:i},!0))}async register(e,r){const n=new Vo({forClass:r.rdfsClasses[0],instance:this.url});if(typeof e=="string"){n.mintUrl(e,!0,Ar()),await n.withEngine(this.requireEngine(),()=>n.save(an(e)));return}await e.withEngine(this.requireEngine(),async()=>{await e.loadRelationIfUnloaded("registrations"),await e.relatedRegistrations.create(n)})}};const QS=["http://www.w3.org/ns/iana/media-types/text/turtle#Resource","http://www.w3.org/ns/iana/media-types/application/rdf+xml#Resource","http://www.w3.org/ns/iana/media-types/application/ld+json#Resource","http://www.w3.org/ns/ldp#Container","http://www.w3.org/ns/ldp#BasicContainer"];let ZS=class extends dh{constructor(e){super(e,Ao,"resourceUrls")}get container(){return this.parent}async load(){if(this.isEmpty())return this.related=[];if(this.parent.usingSolidEngine())return super.load();const e=await this.parent.requireEngine().readMany(this.container.requireDocumentUrl());return this.related=Object.entries(e).map(([r,n])=>new Ao({url:r,updatedAt:this.getLatestUpdateDate(n["@graph"])})),this.related}async __loadDocumentModels(e,r){if(!Ao.usingSolidEngine())return super.__loadDocumentModels(e,r);const n=this.parent.resourceUrls,s=ur.reduceJsonLDGraph(r,this.parent.url),i=r["@graph"].filter(a=>{if(n.indexOf(a["@id"])===-1)return!1;const l=fr(a["@type"]??[]);return QS.some(c=>l.includes(c))}).map(a=>a["@id"]),o=await Promise.all(i.map(a=>Ao.createFromEngineDocument(e,s,a)));this.protectedSolidBelongsTo.loadDocumentModels(o,[])}getLatestUpdateDate(e){const r=e.reduce((n,s)=>{const{"@value":i}=s["purl:modified"]??s["http://purl.org/dc/terms/modified"]??s["purl:created"]??s["http://purl.org/dc/terms/created"]??{"@value":0},o=new Date(i).getTime();return Math.max(n,o)},0);return new Date(r)}};const eI=mr({rdfsClass:"ldp:Resource",timestamps:!1,fields:{types:{type:_e.Array,rdfProperty:"rdf:type",items:_e.Key},updatedAt:{type:_e.Date,rdfProperty:"purl:modified"}}});let So=class extends eI{},tI=class extends dh{constructor(e){super(e,So,"resourceUrls")}get container(){return this.parent}async load(){if(this.isEmpty())return this.related=[];if(this.parent.usingSolidEngine())return super.load();const e=await this.parent.requireEngine().readMany(this.container.requireDocumentUrl());return this.related=Object.entries(e).map(([r,n])=>new So({url:r,updatedAt:this.getLatestUpdateDate(n["@graph"])})),this.related}async __loadDocumentModels(e,r){if(!So.usingSolidEngine())return super.__loadDocumentModels(e,r);const n=this.parent.resourceUrls,s=ur.reduceJsonLDGraph(r,this.parent.url),i=r["@graph"].filter(a=>n.indexOf(a["@id"])!==-1).map(a=>a["@id"]),o=await Promise.all(i.map(a=>So.createFromEngineDocument(e,s,a)));this.protectedSolidBelongsTo.loadDocumentModels(o,[])}getLatestUpdateDate(e){const r=e.reduce((n,s)=>{const{"@value":i}=s["purl:modified"]??s["http://purl.org/dc/terms/modified"]??s["purl:created"]??s["http://purl.org/dc/terms/created"]??{"@value":0},o=new Date(i).getTime();return Math.max(n,o)},0);return new Date(r)}},rI=class extends Ti{constructor(e,r){super(e,r,"resourceUrls","url")}setForeignAttributes(e){const r=e.getDocumentUrl();if(!r||!e.url||this.parent.resourceUrls.includes(r))return;const n=this.parent.resourceUrls.concat([r]);this.parent.usingSolidEngine()?this.parent.setOriginalAttribute("resourceUrls",n):this.parent.setAttribute("resourceUrls",n)}clearForeignAttributes(e){const r=e.getDocumentUrl();if(!r||!e.url||!this.parent.resourceUrls.includes(r))return;const n=Wr(this.parent.resourceUrls,r);this.parent.usingSolidEngine()?this.parent.setOriginalAttribute("resourceUrls",n):this.parent.setAttribute("resourceUrls",n)}async load(){return this.related=this.isEmpty()?[]:await this.relatedClass.from(this.parent.url).all({$in:this.parent.resourceUrls}),this.related}async create(e={}){this.assertParentExists();const r=this.relatedClass.newInstance(e);return!r.url&&r.static("mintsUrls")&&!Dt()&&await this.relatedClass.withCollection(this.parent.url,()=>r.mintUrl()),Ne(this.attach(r),n=>this.save(n))}async save(e){return this.assertParentExists(),Ne(e,async()=>{await e.save(this.parent.url),this.setForeignAttributes(e),await this.parent.save()})}async delete(e){var r;const n=e instanceof this.relatedClass?e:(r=this.related)==null?void 0:r.find(s=>s.url===e);n&&(await n.delete(),this.related&&(this.related=Wr(this.related,n)))}assertParentExists(){if(!this.parent.exists())throw new Me("Cannot save a model because the container doesn't exist")}onRelatedUpdated(e,r){if(this!==this.parent.requireRelation(this.name))return;const{added:n,removed:s}=Ki(e??[],r??[]);Ht(this.parent),e==null||e.forEach(i=>Ht(i)),r==null||r.forEach(i=>Ht(i)),s.forEach(i=>this.clearInverseRelations(i)),n.forEach(i=>this.initializeInverseRelations(i))}};const nI={name:{type:_e.String,rdfProperty:"rdfs:label"},description:{type:_e.String,rdfProperty:"rdfs:comment"},resourceUrls:{type:_e.Array,rdfProperty:"ldp:contains",items:_e.Key},createdAt:{type:_e.Date,rdfProperty:"purl:created"},updatedAt:{type:_e.Date,rdfProperty:"purl:modified"}},sI=mr({rdfsClass:"ldp:Container",timestamps:!1,fields:nI});let si=class extends sI{static boot(e){super.boot(e),this.slugField=this.slugField??"name"}static async fromTypeIndex(e,r){const n=this.requireFinalEngine(),s=n instanceof oh?n.getFetch():void 0;return(await MA(e,r.rdfsClasses,s)).map(i=>this.newInstance({url:i},!0))}documentsRelationship(){return new ZS(this)}resourcesRelationship(){return new tI(this)}markAttributeDirty(e,r,n){return e==="resourceUrls"&&this.usingSolidEngine()?!1:super.markAttributeDirty(e,r,n)}async register(e,r){const n=new Vo({forClass:fr(r).map(s=>s.rdfsClasses).flat(),instanceContainer:this.url});if(typeof e=="string"){n.mintUrl(e,!0,Ar()),await n.withEngine(this.requireEngine(),()=>n.save(an(e)));return}await e.withEngine(this.requireEngine(),async()=>{await e.loadRelationIfUnloaded("registrations"),!e.registrations.some(s=>n.instanceContainer===s.instanceContainer&&!n.forClass.some(i=>!s.forClass.includes(i)))&&await e.relatedRegistrations.create(n)})}static(e){return super.static(e)}ignoreRdfPropertyHistory(e,r){return r??(r=this.usingSolidEngine()),r&&e===sh}contains(e){return new rI(this,e)}newUrl(){return Xp(this.newUrlDocumentUrl())}newUniqueUrl(e){e=e??this.newUrl();const r=zb(e);return Xp(an(e),`${r}-${Ub()}`)}};Pe(si,"defaultResourceHash",null);const iI=mr({rdfContext:"http://www.w3.org/ns/solid/terms#",rdfsClass:"TypeIndex",timestamps:!1,fields:{registrationUrls:{type:_e.Array,items:_e.Key,rdfProperty:"hasTypeRegistration"}}});let Io=class Wd extends iI{static async createPublic(e){const r=await LA(e,Wd.requireFetch()),n=await this.findOrFail(r);return await n.updatePublicPermissions([xs.Read]),n}static async createPrivate(e){const r=await NA(e,Wd.requireFetch());return await this.findOrFail(r)}registrationsRelationship(){return Dt()?this.belongsToMany(Vo,"registrationUrls"):new sl(this,Vo)}async findContainer(e,r){await this.loadRelationIfUnloaded("registrations");const n=this.registrations.filter(s=>s.instanceContainer&&nx(s.forClass,e.rdfsClasses));return Dx(n,async s=>s!=null&&s.instanceContainer?(r??si).find(s.instanceContainer):null)}};function oI(t){return"rdfContexts"in t}const Bv={...WS,SolidACLAuthorization:JS,SolidContainer:si,SolidDocument:Ao,SolidResource:So,SolidTypeIndex:Io,SolidTypeRegistration:Vo},aI=new Set(Object.values(Bv));function lI(){rv(Bv)}const qv=mr({rdfContext:"https://schema.org/",rdfsClass:"Recipe",slugField:"name",fields:{name:{type:_e.String,required:!0},description:_e.String,imageUrl:{type:_e.Key,rdfProperty:"schema:image"},servings:{type:_e.String,rdfProperty:"schema:recipeYield"},prepTime:_e.String,cookTime:_e.String,ingredients:{type:_e.Array,rdfProperty:"schema:recipeIngredient",items:_e.String},instructionStepUrls:{type:_e.Array,items:_e.Key,rdfProperty:"schema:recipeInstructions"},externalUrls:{type:_e.Array,rdfProperty:"schema:sameAs",items:_e.Key}}}),cI=Object.freeze(Object.defineProperty({__proto__:null,default:qv},Symbol.toStringTag,{value:"Module"}));var uI=Object.defineProperty,dI=(t,e,r)=>e in t?uI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kd=(t,e,r)=>dI(t,typeof e!="symbol"?e+"":e,r);function Pi(t="Something went wrong",...e){const r=typeof t=="string"?Error:t;throw new r(...typeof t=="string"?[t]:e)}function fI(t,e){return t==null&&e==null?[t===null?1:0,e===null?1:0]:[t??null,e??null]}function Ku(t,e){const[r,n]=fI(t,e);return r>n?1:n>r?-1:0}function Oa(t,e){let r=t;const n=e.split(".");for(const s of n){if(Array.isArray(r)){r=r[Number(s)];continue}if(!hI(r))return;r=r[s]}return r}Array.isArray.bind(Array);function hI(t){return typeof t=="object"&&t!==null}Object.entries.bind(Object);Object.fromEntries.bind(Object);Object.values.bind(Object);Object.keys.bind(Object);function pI(t){return String(t)}function mI(t){t.splice(0,t.length)}function gI(t,e,r){const n=t.slice(0),s=[],i=r?(o,a)=>a.findIndex(l=>r(o,l)):(o,a)=>a.indexOf(o);for(const o of e){const a=i(o,n);a!==-1?n.splice(a,1):s.push(o)}return{added:s,removed:n}}function Vv(t,e){return e?t.filter(e):t.filter(r=>!!r)}function yI(t,e){for(const r of t)if(e(r))return r;return null}function bI(t,e){return[...t.entries()].flatMap(([r,n])=>e(n,r))}function vI(t,e){const r=typeof e=="string"?n=>pI(n[e]):e;return t.reduce((n,s)=>{var i;return(n[i=r(s)]??(n[i]=[])).push(s),n},{})}function _I(t){return t.length===0}function wI(t,e){return t.map(r=>r[e])}function xI(t){return t.length===0?null:t[Math.floor(Math.random()*t.length)]}function EI(t,e){const r=t.slice(0),n=[];for(;r.length>0&&n.length<e;){const s=Math.floor(Math.random()*r.length);n.push(r[s]),r.splice(s,1)}return n}function AI(t,e){const r=t.indexOf(e);return r===-1?!1:(t.splice(r,1),!0)}function SI(t,e){return t.splice(Number(e),1).length>0}function II(t,e,r){const n=t.indexOf(e);return n===-1?!1:(t[n]=r,!0)}function TI(t,e,r){r=e==="asc"||e==="desc"?e:r;const n={},s=a=>{switch(typeof a){case"string":return"";case"number":return Number.MIN_SAFE_INTEGER;case"boolean":return!1;default:return null}},i=(a,l)=>{if(!(l in n)){const c=Oa(t.find(u=>Oa(u,l)!==void 0&&Oa(u,l)!==null),l);n[l]=s(c)}return Oa(a,l)??n[l]},o=()=>{const a=r==="desc"?l=>(c,u)=>Ku(i(u,l),i(c,l)):l=>(c,u)=>Ku(i(c,l),i(u,l));switch(typeof e){case"function":return e;case"string":return e==="asc"?void 0:e==="desc"?(l,c)=>Ku(c,l):a(e);case"object":{const l=e.map(c=>a(c));return(c,u)=>{for(const d of l){const f=d(c,u);if(f!==0)return f}return 0}}}};return t.slice(0).sort(o())}function RI(t,e){return e?Object.values(t.reduce((r,n)=>{const s=e(n);return r[s]=r[s]??n,r},{})):[...new Set(t)]}function OI(t,e,r){return t.filter(n=>{const s=n[e],i=typeof s=="function"?s.call(n):s;return r?i===r:!!i})}function CI(t,e){return Array.isArray(e)?Vv(t,r=>e.indexOf(r)===-1):kI(t,t.indexOf(e))}function kI(t,e){return Hv(t,[e])}function Hv(t,e){return t.map((r,n)=>[r,n]).filter(([r,n])=>!e.includes(n)).map(([r])=>r)}let hg=class{static isConjuring(){return this.__conjuring}static isMagicReady(){return this.__reservedProperties.has(this)}static prepareMagic(){this.__conjuring=!0,this.__reservedProperties.set(this,new Set(Object.getOwnPropertyNames(new this))),this.__conjuring=!1}static isReservedProperty(e){var r;return!!((r=this.__reservedProperties.get(this))!=null&&r.has(e))}constructor(...e){if(!this.static().isConjuring())return this.static().isMagicReady()||this.static().prepareMagic(),this._proxy=this.createProxy(),this.initialize(...e),this._proxy.instance}static(e){const r=this.constructor;return e?r[e]:r}reserveProperty(e){Object.assign(this,{[e]:null})}initialize(...e){}__get(e){return Reflect.get(this._proxy.target,e)}__set(e,r){Reflect.set(this._proxy.target,e,r)}__delete(e){Reflect.deleteProperty(this._proxy.target,e)}createProxy(){const e=this.static();return{target:this,instance:new Proxy(this,{get(r,n,s){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.get(r,n,s):r.__get(n)},set(r,n,s,i){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.set(r,n,s,i):(r.__set(n,s),!0)},deleteProperty(r,n){return typeof n!="string"||n in r||e.isReservedProperty(n)?Reflect.deleteProperty(r,n):(r.__delete(n),!0)}})}}};Kd(hg,"__conjuring"),Kd(hg,"__reservedProperties",new WeakMap);const pg={},zv=class Wv{static get instance(){return this._instance=this._instance??new Wv}constructor(){}set(e,r){typeof r>"u"&&(r="__undefined__"),localStorage.setItem(e,JSON.stringify(r))}get(e,r=null){const n=localStorage.getItem(e);if(n===null)return r;if(n!=="__undefined__")return JSON.parse(n)}require(e){const r=this.get(e,pg);if(r===pg)throw new Error(`Failed getting required key from local storage: '${e}'`);return r}has(e){return localStorage.getItem(e)!==null}remove(e){localStorage.removeItem(e)}pull(e,r=null){if(!this.has(e))return r;const n=this.get(e);return this.remove(e),n}};Kd(zv,"_instance");let DI=zv;const mg=DI.instance;function Kv(t={}){const e=typeof t=="number"?t:(t.milliseconds||t.ms||0)+(t.seconds||0)*1e3;return new Promise(r=>setTimeout(r,e))}async function PI(t){for(;location.href!==t;)await Kv({ms:1})}async function $I(t){const e=t.reduce((r,n)=>(r.searchParams.delete(n),r),new URL(location.href));history.pushState(null,document.title,e.href),await PI(e.href)}function LI(t){return t.split("").reverse().join("")}function ph(t){return t.split(/_|-|\s|(?=[A-Z])/)}function NI(t){const[e,...r]=ph(t);return(e??"").toLowerCase()+r.map(n=>n.slice(0,1).toUpperCase()+n.slice(1).toLowerCase()).join("")}function Gv(t,e="-"){return t=t.normalize("NFD").replace(/[֊־᐀‐‑‒–—―⸗⸚⸺⸻~〜〰゠︱︲﹘﹣－(){}><[\]]/g," ").replace(/[\u0300-\u036f]/g,"").replace(/[\u3000-\u303f]/g,"").replace(/['".,#!$%/\\^&*;:=`@+?]/g,"").toLowerCase().trim().replace(/\s+/g,e),e.length>0&&(t=t.replace(new RegExp(`${e}+`,"g"),e)),t}function MI(t){return ph(t).map(e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()).join("")}function FI(t){return ph(t).map(e=>e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}function Jv(t,e){const r=t.prototype;for(const[n,s]of Object.entries(e))r[n]=function(...i){var o;const a=s(this.value,...i);return(o=this.chain)==null?void 0:o.call(this,a)}}function Xv(t,e){const r=t.prototype,n=Object.getOwnPropertyDescriptors(e.prototype);for(const[s,i]of Object.entries(n))if(!(s in r)){if(typeof i.value!="function"){Object.defineProperty(r,s,{get(){return this.chain(this.value[s])}});continue}r[s]=function(...o){var a;const l=i.value.call(this.value,...o);return(a=this.chain)==null?void 0:a.call(this,l)}}}let Yv=class{constructor(e){this.value=e}static isPrimitive(e){return this.prototype.isPrimitive(e)}create(e){const r=this.constructor;return new r(e)}chain(e){return this.isPrimitive(e)?this.create(e):e}};const jI={clear:mI,diff:gI,filter:Vv,first:yI,flatMap:bI,groupBy:vI,isEmpty:_I,project:wI,randomItem:xI,randomItems:EI,remove:AI,removeIndex:SI,replace:II,sorted:TI,unique:RI,where:OI,without:CI,withoutIndexes:Hv};class Qv extends Yv{static create(e=[]){const{prototype:r}=this;return r.create(e)}*[Symbol.iterator](){yield*this.value}get(e){return this.value[e]}toArray(){return this.value.slice(0)}isPrimitive(e){return Array.isArray(e)}}Jv(Qv,jI);Xv(Qv,Array);const UI={reverse:LI,toCamelCase:NI,toSlug:Gv,toStudlyCase:MI,toTitleCase:FI};class Zv extends Yv{static create(e=""){const{prototype:r}=this;return r.create(e)}toString(){return this.value}isPrimitive(e){return typeof e=="string"}}Jv(Zv,UI);Xv(Zv,String);const BI=[];function qI(t){let e=null;function r(){try{return t()}catch{return new t}}function n(i){return e=i,i}const s={setInstance:n,newInstance:r,requireInstance:()=>e??n(r()),reset:()=>n(r())};return BI.forEach(i=>i(s)),new Proxy(s,{get:(i,o,a)=>{const l=o!=="constructor"&&o in s?s:s.requireInstance();return Reflect.get(l,o,a)},set:(i,o,a)=>Reflect.set(s.requireInstance(),o,a)})}function VI(t){const e=new Proxy(t,{get(r,n,s){const i=Reflect.get(r,n,s);return typeof i!="function"?i:(...o)=>(i.call(r,...o),e)}});return e}function HI(t,e){if(!e)return VI(t);const r=e(t);return r instanceof Promise?r.then(()=>t):t}let zI=class{constructor(e,r){this.errorMessage=e,this.getValue=r}get(e,r,n){const s=this.getValue()??Pi(this.errorMessage),i=Reflect.get(s,r,n);return typeof i=="function"?i.bind(s):i}set(e,r,n,s){const i=this.getValue()??Pi(this.errorMessage);return Reflect.set(i,r,n,s)}getPrototypeOf(){const e=this.getValue()??Pi(this.errorMessage);return Object.getPrototypeOf(e)}};function Ca(t,e){return e??(e="Required value is missing"),typeof t=="function"?new Proxy({},new zI(e,t)):t??Pi(e)}const e0=mr({rdfContext:"https://schema.org/",rdfsClass:"HowToStep",fields:{text:{type:_e.String,required:!0},position:{type:_e.Number,required:!0}}}),WI=Object.freeze(Object.defineProperty({__proto__:null,default:e0},Symbol.toStringTag,{value:"Module"}));class El extends e0{}const KI=Object.freeze(Object.defineProperty({__proto__:null,default:El},Symbol.toStringTag,{value:"Module"}));class ei extends qv{isRamen(){return!!this.name&&Gv(this.name).includes("ramen")}instructionsRelationship(){return this.belongsToMany(El,"instructionStepUrls").onDelete("cascade").usingSameDocument(!0)}}const GI=Object.freeze(Object.defineProperty({__proto__:null,default:ei},Symbol.toStringTag,{value:"Module"}));class Gd extends si{recipesRelationship(){return this.contains(ei)}}const JI=Object.freeze(Object.defineProperty({__proto__:null,default:Gd},Symbol.toStringTag,{value:"Module"}));/**
* @vue/shared v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mh(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const pt={},$i=[],On=()=>{},t0=()=>!1,nc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),gh=t=>t.startsWith("onUpdate:"),pr=Object.assign,yh=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},XI=Object.prototype.hasOwnProperty,at=(t,e)=>XI.call(t,e),Fe=Array.isArray,Li=t=>la(t)==="[object Map]",sc=t=>la(t)==="[object Set]",gg=t=>la(t)==="[object Date]",Be=t=>typeof t=="function",It=t=>typeof t=="string",cn=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",r0=t=>(yt(t)||Be(t))&&Be(t.then)&&Be(t.catch),n0=Object.prototype.toString,la=t=>n0.call(t),YI=t=>la(t).slice(8,-1),s0=t=>la(t)==="[object Object]",ic=t=>It(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ko=mh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oc=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},QI=/-\w/g,Rr=oc(t=>t.replace(QI,e=>e.slice(1).toUpperCase())),ZI=/\B([A-Z])/g,Fs=oc(t=>t.replace(ZI,"-$1").toLowerCase()),ac=oc(t=>t.charAt(0).toUpperCase()+t.slice(1)),il=oc(t=>t?`on${ac(t)}`:""),Os=(t,e)=>!Object.is(t,e),ol=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},i0=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},eT=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let yg;const lc=()=>yg||(yg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Dn(t){if(Fe(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=It(n)?sT(n):Dn(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(It(t)||yt(t))return t}const tT=/;(?![^(]*\))/g,rT=/:([^]+)/,nT=/\/\*[^]*?\*\//g;function sT(t){const e={};return t.replace(nT,"").split(tT).forEach(r=>{if(r){const n=r.split(rT);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function dt(t){let e="";if(It(t))e=t;else if(Fe(t))for(let r=0;r<t.length;r++){const n=dt(t[r]);n&&(e+=n+" ")}else if(yt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function js(t){if(!t)return null;let{class:e,style:r}=t;return e&&!It(e)&&(t.class=dt(e)),r&&(t.style=Dn(r)),t}const iT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oT=mh(iT);function o0(t){return!!t||t===""}function aT(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=cc(t[n],e[n]);return r}function cc(t,e){if(t===e)return!0;let r=gg(t),n=gg(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=cn(t),n=cn(e),r||n)return t===e;if(r=Fe(t),n=Fe(e),r||n)return r&&n?aT(t,e):!1;if(r=yt(t),n=yt(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!cc(t[o],e[o]))return!1}}return String(t)===String(e)}function a0(t,e){return t.findIndex(r=>cc(r,e))}const l0=t=>!!(t&&t.__v_isRef===!0),je=t=>It(t)?t:t==null?"":Fe(t)||yt(t)&&(t.toString===n0||!Be(t.toString))?l0(t)?je(t.value):JSON.stringify(t,c0,2):String(t),c0=(t,e)=>l0(e)?c0(t,e.value):Li(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[Gu(n,i)+" =>"]=s,r),{})}:sc(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Gu(r))}:cn(e)?Gu(e):yt(e)&&!Fe(e)&&!s0(e)?String(e):e,Gu=(t,e="")=>{var r;return cn(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ir;class u0{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ir,!e&&ir&&(this.index=(ir.scopes||(ir.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=ir;try{return ir=this,e()}finally{ir=r}}}on(){++this._on===1&&(this.prevScope=ir,ir=this)}off(){this._on>0&&--this._on===0&&(ir=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ca(t){return new u0(t)}function uc(){return ir}function bh(t,e=!1){ir&&ir.cleanups.push(t)}let vt;const Ju=new WeakSet;class d0{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ir&&ir.active&&ir.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ju.has(this)&&(Ju.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||h0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,bg(this),p0(this);const e=vt,r=ln;vt=this,ln=!0;try{return this.fn()}finally{m0(this),vt=e,ln=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)wh(e);this.deps=this.depsTail=void 0,bg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ju.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jd(this)&&this.run()}get dirty(){return Jd(this)}}let f0=0,Do,Po;function h0(t,e=!1){if(t.flags|=8,e){t.next=Po,Po=t;return}t.next=Do,Do=t}function vh(){f0++}function _h(){if(--f0>0)return;if(Po){let e=Po;for(Po=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Do;){let e=Do;for(Do=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function p0(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function m0(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),wh(n),lT(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function Jd(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(g0(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function g0(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ho)||(t.globalVersion=Ho,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Jd(t))))return;t.flags|=2;const e=t.dep,r=vt,n=ln;vt=t,ln=!0;try{p0(t);const s=t.fn(t._value);(e.version===0||Os(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{vt=r,ln=n,m0(t),t.flags&=-3}}function wh(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)wh(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function lT(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let ln=!0;const y0=[];function ns(){y0.push(ln),ln=!1}function ss(){const t=y0.pop();ln=t===void 0?!0:t}function bg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=vt;vt=void 0;try{e()}finally{vt=r}}}let Ho=0;class cT{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!vt||!ln||vt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==vt)r=this.activeLink=new cT(vt,this),vt.deps?(r.prevDep=vt.depsTail,vt.depsTail.nextDep=r,vt.depsTail=r):vt.deps=vt.depsTail=r,b0(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=vt.depsTail,r.nextDep=void 0,vt.depsTail.nextDep=r,vt.depsTail=r,vt.deps===r&&(vt.deps=n)}return r}trigger(e){this.version++,Ho++,this.notify(e)}notify(e){vh();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{_h()}}}function b0(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)b0(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Al=new WeakMap,ii=Symbol(""),Xd=Symbol(""),zo=Symbol("");function ar(t,e,r){if(ln&&vt){let n=Al.get(t);n||Al.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new dc),s.map=n,s.key=r),s.track()}}function Jn(t,e,r,n,s,i){const o=Al.get(t);if(!o){Ho++;return}const a=l=>{l&&l.trigger()};if(vh(),e==="clear")o.forEach(a);else{const l=Fe(t),c=l&&ic(r);if(l&&r==="length"){const u=Number(n);o.forEach((d,f)=>{(f==="length"||f===zo||!cn(f)&&f>=u)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(zo)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ii)),Li(t)&&a(o.get(Xd)));break;case"delete":l||(a(o.get(ii)),Li(t)&&a(o.get(Xd)));break;case"set":Li(t)&&a(o.get(ii));break}}_h()}function uT(t,e){const r=Al.get(t);return r&&r.get(e)}function yi(t){const e=Qe(t);return e===t?e:(ar(e,"iterate",zo),Lr(t)?e:e.map(dn))}function fc(t){return ar(t=Qe(t),"iterate",zo),t}function ms(t,e){return is(t)?ts(t)?Vi(dn(e)):Vi(e):dn(e)}const dT={__proto__:null,[Symbol.iterator](){return Xu(this,Symbol.iterator,t=>ms(this,t))},concat(...t){return yi(this).concat(...t.map(e=>Fe(e)?yi(e):e))},entries(){return Xu(this,"entries",t=>(t[1]=ms(this,t[1]),t))},every(t,e){return zn(this,"every",t,e,void 0,arguments)},filter(t,e){return zn(this,"filter",t,e,r=>r.map(n=>ms(this,n)),arguments)},find(t,e){return zn(this,"find",t,e,r=>ms(this,r),arguments)},findIndex(t,e){return zn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return zn(this,"findLast",t,e,r=>ms(this,r),arguments)},findLastIndex(t,e){return zn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return zn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Yu(this,"includes",t)},indexOf(...t){return Yu(this,"indexOf",t)},join(t){return yi(this).join(t)},lastIndexOf(...t){return Yu(this,"lastIndexOf",t)},map(t,e){return zn(this,"map",t,e,void 0,arguments)},pop(){return fo(this,"pop")},push(...t){return fo(this,"push",t)},reduce(t,...e){return vg(this,"reduce",t,e)},reduceRight(t,...e){return vg(this,"reduceRight",t,e)},shift(){return fo(this,"shift")},some(t,e){return zn(this,"some",t,e,void 0,arguments)},splice(...t){return fo(this,"splice",t)},toReversed(){return yi(this).toReversed()},toSorted(t){return yi(this).toSorted(t)},toSpliced(...t){return yi(this).toSpliced(...t)},unshift(...t){return fo(this,"unshift",t)},values(){return Xu(this,"values",t=>ms(this,t))}};function Xu(t,e,r){const n=fc(t),s=n[e]();return n!==t&&!Lr(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=r(i.value)),i}),s}const fT=Array.prototype;function zn(t,e,r,n,s,i){const o=fc(t),a=o!==t&&!Lr(t),l=o[e];if(l!==fT[e]){const d=l.apply(t,i);return a?dn(d):d}let c=r;o!==t&&(a?c=function(d,f){return r.call(this,ms(t,d),f,t)}:r.length>2&&(c=function(d,f){return r.call(this,d,f,t)}));const u=l.call(o,c,n);return a&&s?s(u):u}function vg(t,e,r,n){const s=fc(t);let i=r;return s!==t&&(Lr(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,ms(t,a),l,t)}),s[e](i,...n)}function Yu(t,e,r){const n=Qe(t);ar(n,"iterate",zo);const s=n[e](...r);return(s===-1||s===!1)&&mc(r[0])?(r[0]=Qe(r[0]),n[e](...r)):s}function fo(t,e,r=[]){ns(),vh();const n=Qe(t)[e].apply(t,r);return _h(),ss(),n}const hT=mh("__proto__,__v_isRef,__isVue"),v0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(cn));function pT(t){cn(t)||(t=String(t));const e=Qe(this);return ar(e,"has",t),e.hasOwnProperty(t)}class _0{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?I0:S0:i?A0:E0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Fe(e);if(!s){let l;if(o&&(l=dT[r]))return l;if(r==="hasOwnProperty")return pT}const a=Reflect.get(e,r,Et(e)?e:n);if((cn(r)?v0.has(r):hT(r))||(s||ar(e,"get",r),i))return a;if(Et(a)){const l=o&&ic(r)?a:a.value;return s&&yt(l)?Pn(l):l}return yt(a)?s?Pn(a):un(a):a}}class w0 extends _0{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];const o=Fe(e)&&ic(r);if(!this._isShallow){const c=is(i);if(!Lr(n)&&!is(n)&&(i=Qe(i),n=Qe(n)),!o&&Et(i)&&!Et(n))return c||(i.value=n),!0}const a=o?Number(r)<e.length:at(e,r),l=Reflect.set(e,r,n,Et(e)?e:s);return e===Qe(s)&&(a?Os(n,i)&&Jn(e,"set",r,n):Jn(e,"add",r,n)),l}deleteProperty(e,r){const n=at(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&Jn(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!cn(r)||!v0.has(r))&&ar(e,"has",r),n}ownKeys(e){return ar(e,"iterate",Fe(e)?"length":ii),Reflect.ownKeys(e)}}class x0 extends _0{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const mT=new w0,gT=new x0,yT=new w0(!0),bT=new x0(!0),Yd=t=>t,ka=t=>Reflect.getPrototypeOf(t);function vT(t,e,r){return function(...n){const s=this.__v_raw,i=Qe(s),o=Li(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...n),u=r?Yd:e?Vi:dn;return!e&&ar(i,"iterate",l?Xd:ii),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Da(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function _T(t,e){const r={get(s){const i=this.__v_raw,o=Qe(i),a=Qe(s);t||(Os(s,a)&&ar(o,"get",s),ar(o,"get",a));const{has:l}=ka(o),c=e?Yd:t?Vi:dn;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&ar(Qe(s),"iterate",ii),s.size},has(s){const i=this.__v_raw,o=Qe(i),a=Qe(s);return t||(Os(s,a)&&ar(o,"has",s),ar(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Qe(a),c=e?Yd:t?Vi:dn;return!t&&ar(l,"iterate",ii),a.forEach((u,d)=>s.call(i,c(u),c(d),o))}};return pr(r,t?{add:Da("add"),set:Da("set"),delete:Da("delete"),clear:Da("clear")}:{add(s){!e&&!Lr(s)&&!is(s)&&(s=Qe(s));const i=Qe(this);return ka(i).has.call(i,s)||(i.add(s),Jn(i,"add",s,s)),this},set(s,i){!e&&!Lr(i)&&!is(i)&&(i=Qe(i));const o=Qe(this),{has:a,get:l}=ka(o);let c=a.call(o,s);c||(s=Qe(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?Os(i,u)&&Jn(o,"set",s,i):Jn(o,"add",s,i),this},delete(s){const i=Qe(this),{has:o,get:a}=ka(i);let l=o.call(i,s);l||(s=Qe(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&Jn(i,"delete",s,void 0),c},clear(){const s=Qe(this),i=s.size!==0,o=s.clear();return i&&Jn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=vT(s,t,e)}),r}function hc(t,e){const r=_T(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(at(r,s)&&s in n?r:n,s,i)}const wT={get:hc(!1,!1)},xT={get:hc(!1,!0)},ET={get:hc(!0,!1)},AT={get:hc(!0,!0)},E0=new WeakMap,A0=new WeakMap,S0=new WeakMap,I0=new WeakMap;function ST(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function IT(t){return t.__v_skip||!Object.isExtensible(t)?0:ST(YI(t))}function un(t){return is(t)?t:pc(t,!1,mT,wT,E0)}function TT(t){return pc(t,!1,yT,xT,A0)}function Pn(t){return pc(t,!0,gT,ET,S0)}function bi(t){return pc(t,!0,bT,AT,I0)}function pc(t,e,r,n,s){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=IT(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?n:r);return s.set(t,a),a}function ts(t){return is(t)?ts(t.__v_raw):!!(t&&t.__v_isReactive)}function is(t){return!!(t&&t.__v_isReadonly)}function Lr(t){return!!(t&&t.__v_isShallow)}function mc(t){return t?!!t.__v_raw:!1}function Qe(t){const e=t&&t.__v_raw;return e?Qe(e):t}function rt(t){return!at(t,"__v_skip")&&Object.isExtensible(t)&&i0(t,"__v_skip",!0),t}const dn=t=>yt(t)?un(t):t,Vi=t=>yt(t)?Pn(t):t;function Et(t){return t?t.__v_isRef===!0:!1}function Ae(t){return T0(t,!1)}function Fn(t){return T0(t,!0)}function T0(t,e){return Et(t)?t:new RT(t,e)}class RT{constructor(e,r){this.dep=new dc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Qe(e),this._value=r?e:dn(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Lr(e)||is(e);e=n?e:Qe(e),Os(e,r)&&(this._rawValue=e,this._value=n?e:dn(e),this.dep.trigger())}}function C(t){return Et(t)?t.value:t}function Yt(t){return Be(t)?t():C(t)}const OT={get:(t,e,r)=>e==="__v_raw"?t:C(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Et(s)&&!Et(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function R0(t){return ts(t)?t:new Proxy(t,OT)}class CT{constructor(e){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new dc,{get:n,set:s}=e(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function O0(t){return new CT(t)}function cs(t){const e=Fe(t)?new Array(t.length):{};for(const r in t)e[r]=C0(t,r);return e}class kT{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=Qe(e);let s=!0,i=e;if(!Fe(e)||!ic(String(r)))do s=!mc(i)||Lr(i);while(s&&(i=i.__v_raw));this._shallow=s}get value(){let e=this._object[this._key];return this._shallow&&(e=C(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&Et(this._raw[this._key])){const r=this._object[this._key];if(Et(r)){r.value=e;return}}this._object[this._key]=e}get dep(){return uT(this._raw,this._key)}}class DT{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function PT(t,e,r){return Et(t)?t:Be(t)?new DT(t):yt(t)&&arguments.length>1?C0(t,e,r):Ae(t)}function C0(t,e,r){return new kT(t,e,r)}class $T{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new dc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ho-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&vt!==this)return h0(this,!0),!0}get value(){const e=this.dep.track();return g0(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function LT(t,e,r=!1){let n,s;return Be(t)?n=t:(n=t.get,s=t.set),new $T(n,s,r)}const Pa={},Sl=new WeakMap;let Zs;function NT(t,e=!1,r=Zs){if(r){let n=Sl.get(r);n||Sl.set(r,n=[]),n.push(t)}}function MT(t,e,r=pt){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=r,c=p=>s?p:Lr(p)||s===!1||s===0?Xn(p,1):Xn(p);let u,d,f,h,m=!1,y=!1;if(Et(t)?(d=()=>t.value,m=Lr(t)):ts(t)?(d=()=>c(t),m=!0):Fe(t)?(y=!0,m=t.some(p=>ts(p)||Lr(p)),d=()=>t.map(p=>{if(Et(p))return p.value;if(ts(p))return c(p);if(Be(p))return l?l(p,2):p()})):Be(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){ns();try{f()}finally{ss()}}const p=Zs;Zs=u;try{return l?l(t,3,[h]):t(h)}finally{Zs=p}}:d=On,e&&s){const p=d,b=s===!0?1/0:s;d=()=>Xn(p(),b)}const _=uc(),x=()=>{u.stop(),_&&_.active&&yh(_.effects,u)};if(i&&e){const p=e;e=(...b)=>{p(...b),x()}}let A=y?new Array(t.length).fill(Pa):Pa;const w=p=>{if(!(!(u.flags&1)||!u.dirty&&!p))if(e){const b=u.run();if(s||m||(y?b.some((E,T)=>Os(E,A[T])):Os(b,A))){f&&f();const E=Zs;Zs=u;try{const T=[b,A===Pa?void 0:y&&A[0]===Pa?[]:A,h];A=b,l?l(e,3,T):e(...T)}finally{Zs=E}}}else u.run()};return a&&a(w),u=new d0(d),u.scheduler=o?()=>o(w,!1):w,h=p=>NT(p,!1,u),f=u.onStop=()=>{const p=Sl.get(u);if(p){if(l)l(p,4);else for(const b of p)b();Sl.delete(u)}},e?n?w(!0):A=u.run():o?o(w.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function Xn(t,e=1/0,r){if(e<=0||!yt(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,Et(t))Xn(t.value,e,r);else if(Fe(t))for(let n=0;n<t.length;n++)Xn(t[n],e,r);else if(sc(t)||Li(t))t.forEach(n=>{Xn(n,e,r)});else if(s0(t)){for(const n in t)Xn(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Xn(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ua(t,e,r,n){try{return n?t(...n):t()}catch(s){gc(s,e,r)}}function $n(t,e,r,n){if(Be(t)){const s=ua(t,e,r,n);return s&&r0(s)&&s.catch(i=>{gc(i,e,r)}),s}if(Fe(t)){const s=[];for(let i=0;i<t.length;i++)s.push($n(t[i],e,r,n));return s}}function gc(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||pt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){ns(),ua(i,null,10,[t,l,c]),ss();return}}FT(t,r,s,n,o)}function FT(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const vr=[];let En=-1;const Ni=[];let gs=null,Ai=0;const k0=Promise.resolve();let Il=null;function _r(t){const e=Il||k0;return t?e.then(this?t.bind(this):t):e}function jT(t){let e=En+1,r=vr.length;for(;e<r;){const n=e+r>>>1,s=vr[n],i=Wo(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function xh(t){if(!(t.flags&1)){const e=Wo(t),r=vr[vr.length-1];!r||!(t.flags&2)&&e>=Wo(r)?vr.push(t):vr.splice(jT(e),0,t),t.flags|=1,D0()}}function D0(){Il||(Il=k0.then($0))}function UT(t){Fe(t)?Ni.push(...t):gs&&t.id===-1?gs.splice(Ai+1,0,t):t.flags&1||(Ni.push(t),t.flags|=1),D0()}function _g(t,e,r=En+1){for(;r<vr.length;r++){const n=vr[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;vr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function P0(t){if(Ni.length){const e=[...new Set(Ni)].sort((r,n)=>Wo(r)-Wo(n));if(Ni.length=0,gs){gs.push(...e);return}for(gs=e,Ai=0;Ai<gs.length;Ai++){const r=gs[Ai];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}gs=null,Ai=0}}const Wo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function $0(t){try{for(En=0;En<vr.length;En++){const e=vr[En];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ua(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;En<vr.length;En++){const e=vr[En];e&&(e.flags&=-2)}En=-1,vr.length=0,P0(),Il=null,(vr.length||Ni.length)&&$0()}}let Jt=null,L0=null;function Tl(t){const e=Jt;return Jt=t,L0=t&&t.type.__scopeId||null,e}function de(t,e=Jt,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&Cl(-1);const i=Tl(e);let o;try{o=t(...s)}finally{Tl(i),n._d&&Cl(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function BT(t,e){if(Jt===null)return t;const r=_c(Jt),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=pt]=e[s];i&&(Be(i)&&(i={mounted:i,updated:i}),i.deep&&Xn(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Xs(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(ns(),$n(l,r,8,[t.el,a,t,e]),ss())}}function Us(t,e){if(cr){let r=cr.provides;const n=cr.parent&&cr.parent.provides;n===r&&(r=cr.provides=Object.create(n)),r[t]=e}}function hr(t,e,r=!1){const n=Fr();if(n||oi){let s=oi?oi._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&Be(e)?e.call(n&&n.proxy):e}}function qT(){return!!(Fr()||oi)}const VT=Symbol.for("v-scx"),HT=()=>hr(VT);function Bt(t,e){return yc(t,null,e)}function N0(t,e){return yc(t,null,{flush:"post"})}function st(t,e,r){return yc(t,e,r)}function yc(t,e,r=pt){const{immediate:n,deep:s,flush:i,once:o}=r,a=pr({},r),l=e&&n||!e&&i!=="post";let c;if(Jo){if(i==="sync"){const h=HT();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=On,h.resume=On,h.pause=On,h}}const u=cr;a.call=(h,m,y)=>$n(h,u,m,y);let d=!1;i==="post"?a.scheduler=h=>{br(h,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(h,m)=>{m?h():xh(h)}),a.augmentJob=h=>{e&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=MT(t,e,a);return Jo&&(c?c.push(f):l&&f()),f}function zT(t,e,r){const n=this.proxy,s=It(t)?t.includes(".")?M0(n,t):()=>n[t]:t.bind(n,n);let i;Be(e)?i=e:(i=e.handler,r=e);const o=fa(this),a=yc(s,i.bind(n),r);return o(),a}function M0(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const F0=Symbol("_vte"),WT=t=>t.__isTeleport,$o=t=>t&&(t.disabled||t.disabled===""),wg=t=>t&&(t.defer||t.defer===""),xg=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Eg=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Qd=(t,e)=>{const r=t&&t.to;return It(r)?e?e(r):null:r},j0={name:"Teleport",__isTeleport:!0,process(t,e,r,n,s,i,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:y,createComment:_}}=c,x=$o(e.props);let{shapeFlag:A,children:w,dynamicChildren:p}=e;if(t==null){const b=e.el=y(""),E=e.anchor=y("");h(b,r,n),h(E,r,n);const T=(O,P)=>{A&16&&u(w,O,P,s,i,o,a,l)},I=()=>{const O=e.target=Qd(e.props,m),P=U0(O,e,y,h);O&&(o!=="svg"&&xg(O)?o="svg":o!=="mathml"&&Eg(O)&&(o="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(O),x||(T(O,P),al(e,!1)))};x&&(T(r,E),al(e,!0)),wg(e.props)?(e.el.__isMounted=!1,br(()=>{I(),delete e.el.__isMounted},i)):I()}else{if(wg(e.props)&&t.el.__isMounted===!1){br(()=>{j0.process(t,e,r,n,s,i,o,a,l,c)},i);return}e.el=t.el,e.targetStart=t.targetStart;const b=e.anchor=t.anchor,E=e.target=t.target,T=e.targetAnchor=t.targetAnchor,I=$o(t.props),O=I?r:E,P=I?b:T;if(o==="svg"||xg(E)?o="svg":(o==="mathml"||Eg(E))&&(o="mathml"),p?(f(t.dynamicChildren,p,O,s,i,o,a),Oh(t,e,!0)):l||d(t,e,O,P,s,i,o,a,!1),x)I?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):$a(e,r,b,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const W=e.target=Qd(e.props,m);W&&$a(e,W,null,c,0)}else I&&$a(e,E,T,c,1);al(e,x)}},remove(t,e,r,{um:n,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(s(c),s(u)),i&&s(l),o&16){const h=i||!$o(f);for(let m=0;m<a.length;m++){const y=a[m];n(y,e,r,h,!!y.dynamicChildren)}}},move:$a,hydrate:KT};function $a(t,e,r,{o:{insert:n},m:s},i=2){i===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=i===2;if(d&&n(o,e,r),(!d||$o(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],e,r,2);d&&n(a,e,r)}function KT(t,e,r,n,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){function f(y,_,x,A){_.anchor=d(o(y),_,a(y),r,n,s,i),_.targetStart=x,_.targetAnchor=A}const h=e.target=Qd(e.props,l),m=$o(e.props);if(h){const y=h._lpa||h.firstChild;if(e.shapeFlag&16)if(m)f(t,e,y,y&&o(y));else{e.anchor=o(t);let _=y;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")e.targetStart=_;else if(_.data==="teleport anchor"){e.targetAnchor=_,h._lpa=e.targetAnchor&&o(e.targetAnchor);break}}_=o(_)}e.targetAnchor||U0(h,e,u,c),d(y&&o(y),e,h,r,n,s,i)}al(e,m)}else m&&e.shapeFlag&16&&f(t,e,t,o(t));return e.anchor&&o(e.anchor)}const Eh=j0;function al(t,e){const r=t.ctx;if(r&&r.ut){let n,s;for(e?(n=t.el,s=t.anchor):(n=t.targetStart,s=t.targetAnchor);n&&n!==s;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function U0(t,e,r,n){const s=e.targetStart=r(""),i=e.targetAnchor=r("");return s[F0]=i,t&&(n(s,t),n(i,t)),i}const GT=Symbol("_leaveCb");function Ah(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ah(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function be(t,e){return Be(t)?pr({name:t.name},e,{setup:t}):t}function Qu(){const t=Fr();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function B0(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Sh(t){const e=Fr(),r=Fn(null);if(e){const s=e.refs===pt?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>r.value,set:i=>r.value=i})}return r}const Rl=new WeakMap;function Lo(t,e,r,n,s=!1){if(Fe(t)){t.forEach((m,y)=>Lo(m,e&&(Fe(e)?e[y]:e),r,n,s));return}if(Mi(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Lo(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?_c(n.component):n.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===pt?a.refs={}:a.refs,d=a.setupState,f=Qe(d),h=d===pt?t0:m=>at(f,m);if(c!=null&&c!==l){if(Ag(e),It(c))u[c]=null,h(c)&&(d[c]=null);else if(Et(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(Be(l))ua(l,a,12,[o,u]);else{const m=It(l),y=Et(l);if(m||y){const _=()=>{if(t.f){const x=m?h(l)?d[l]:u[l]:l.value;if(s)Fe(x)&&yh(x,i);else if(Fe(x))x.includes(i)||x.push(i);else if(m)u[l]=[i],h(l)&&(d[l]=u[l]);else{const A=[i];l.value=A,t.k&&(u[t.k]=A)}}else m?(u[l]=o,h(l)&&(d[l]=o)):y&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const x=()=>{_(),Rl.delete(t)};x.id=-1,Rl.set(t,x),br(x,r)}else Ag(t),_()}}}function Ag(t){const e=Rl.get(t);e&&(e.flags|=8,Rl.delete(t))}lc().requestIdleCallback;lc().cancelIdleCallback;const Mi=t=>!!t.type.__asyncLoader,q0=t=>t.type.__isKeepAlive;function JT(t,e){V0(t,"a",e)}function XT(t,e){V0(t,"da",e)}function V0(t,e,r=cr){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(bc(e,n,r),r){let s=r.parent;for(;s&&s.parent;)q0(s.parent.vnode)&&YT(n,e,r,s),s=s.parent}}function YT(t,e,r,n){const s=bc(e,t,n,!0);jn(()=>{yh(n[e],s)},r)}function bc(t,e,r=cr,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ns();const a=fa(r),l=$n(e,r,t,o);return a(),ss(),l});return n?s.unshift(i):s.push(i),i}}const us=t=>(e,r=cr)=>{(!Jo||t==="sp")&&bc(t,(...n)=>e(...n),r)},QT=us("bm"),Qt=us("m"),ZT=us("bu"),eR=us("u"),H0=us("bum"),jn=us("um"),tR=us("sp"),rR=us("rtg"),nR=us("rtc");function sR(t,e=cr){bc("ec",t,e)}const z0="components";function iR(t,e){return K0(z0,t,!0,e)||t}const W0=Symbol.for("v-ndc");function Bs(t){return It(t)?K0(z0,t,!1)||t:t||W0}function K0(t,e,r=!0,n=!1){const s=Jt||cr;if(s){const i=s.type;{const a=BR(i,!1);if(a&&(a===e||a===Rr(e)||a===ac(Rr(e))))return i}const o=Sg(s[t]||i[t],e)||Sg(s.appContext[t],e);return!o&&n?i:o}}function Sg(t,e){return t&&(t[e]||t[Rr(e)]||t[ac(Rr(e))])}function Un(t,e,r,n){let s;const i=r,o=Fe(t);if(o||It(t)){const a=o&&ts(t);let l=!1,c=!1;a&&(l=!Lr(t),c=is(t),t=fc(t)),s=new Array(t.length);for(let u=0,d=t.length;u<d;u++)s[u]=e(l?c?Vi(dn(t[u])):dn(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(yt(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}function Ie(t,e,r={},n,s){if(Jt.ce||Jt.parent&&Mi(Jt.parent)&&Jt.parent.ce){const c=Object.keys(r).length>0;return e!=="default"&&(r.name=e),J(),ge(Ze,null,[ue("slot",r,n&&n())],c?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),J();const o=i&&G0(i(r)),a=r.key||o&&o.key,l=ge(Ze,{key:(a&&!cn(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function G0(t){return t.some(e=>Go(e)?!(e.type===fn||e.type===Ze&&!G0(e.children)):!0)?t:null}const Zd=t=>t?p_(t)?_c(t):Zd(t.parent):null,No=pr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zd(t.parent),$root:t=>Zd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Q0(t),$forceUpdate:t=>t.f||(t.f=()=>{xh(t.update)}),$nextTick:t=>t.n||(t.n=_r.bind(t.proxy)),$watch:t=>zT.bind(t)}),Zu=(t,e)=>t!==pt&&!t.__isScriptSetup&&at(t,e),oR={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(Zu(n,e))return o[e]=1,n[e];if(s!==pt&&at(s,e))return o[e]=2,s[e];if(at(i,e))return o[e]=3,i[e];if(r!==pt&&at(r,e))return o[e]=4,r[e];tf&&(o[e]=0)}}const c=No[e];let u,d;if(c)return e==="$attrs"&&ar(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(r!==pt&&at(r,e))return o[e]=4,r[e];if(d=l.config.globalProperties,at(d,e))return d[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return Zu(s,e)?(s[e]=r,!0):n!==pt&&at(n,e)?(n[e]=r,!0):at(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,props:i,type:o}},a){let l;return!!(r[a]||t!==pt&&a[0]!=="$"&&at(t,a)||Zu(e,a)||at(i,a)||at(n,a)||at(No,a)||at(s.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:at(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Ih(){return X0().slots}function J0(){return X0().attrs}function X0(t){const e=Fr();return e.setupContext||(e.setupContext=g_(e))}function ef(t){return Fe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function aR(t,e){const r=ef(t);for(const n in e){if(n.startsWith("__skip"))continue;let s=r[n];s?Fe(s)||Be(s)?s=r[n]={type:s,default:e[n]}:s.default=e[n]:s===null&&(s=r[n]={default:e[n]}),s&&e[`__skip_${n}`]&&(s.skipFactory=!0)}return r}function Ji(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}let tf=!0;function lR(t){const e=Q0(t),r=t.proxy,n=t.ctx;tf=!1,e.beforeCreate&&Ig(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:y,deactivated:_,beforeDestroy:x,beforeUnmount:A,destroyed:w,unmounted:p,render:b,renderTracked:E,renderTriggered:T,errorCaptured:I,serverPrefetch:O,expose:P,inheritAttrs:W,components:B,directives:U,filters:M}=e;if(c&&cR(c,n,null),o)for(const q in o){const F=o[q];Be(F)&&(n[q]=F.bind(r))}if(s){const q=s.call(r,r);yt(q)&&(t.data=un(q))}if(tf=!0,i)for(const q in i){const F=i[q],ee=Be(F)?F.bind(r,r):Be(F.get)?F.get.bind(r,r):On,j=!Be(F)&&Be(F.set)?F.set.bind(r):On,se=re({get:ee,set:j});Object.defineProperty(n,q,{enumerable:!0,configurable:!0,get:()=>se.value,set:oe=>se.value=oe})}if(a)for(const q in a)Y0(a[q],n,r,q);if(l){const q=Be(l)?l.call(r):l;Reflect.ownKeys(q).forEach(F=>{Us(F,q[F])})}u&&Ig(u,t,"c");function R(q,F){Fe(F)?F.forEach(ee=>q(ee.bind(r))):F&&q(F.bind(r))}if(R(QT,d),R(Qt,f),R(ZT,h),R(eR,m),R(JT,y),R(XT,_),R(sR,I),R(nR,E),R(rR,T),R(H0,A),R(jn,p),R(tR,O),Fe(P))if(P.length){const q=t.exposed||(t.exposed={});P.forEach(F=>{Object.defineProperty(q,F,{get:()=>r[F],set:ee=>r[F]=ee,enumerable:!0})})}else t.exposed||(t.exposed={});b&&t.render===On&&(t.render=b),W!=null&&(t.inheritAttrs=W),B&&(t.components=B),U&&(t.directives=U),O&&B0(t)}function cR(t,e,r=On){Fe(t)&&(t=rf(t));for(const n in t){const s=t[n];let i;yt(s)?"default"in s?i=hr(s.from||n,s.default,!0):i=hr(s.from||n):i=hr(s),Et(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function Ig(t,e,r){$n(Fe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Y0(t,e,r,n){let s=n.includes(".")?M0(r,n):()=>r[n];if(It(t)){const i=e[t];Be(i)&&st(s,i)}else if(Be(t))st(s,t.bind(r));else if(yt(t))if(Fe(t))t.forEach(i=>Y0(i,e,r,n));else{const i=Be(t.handler)?t.handler.bind(r):e[t.handler];Be(i)&&st(s,i,t)}}function Q0(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(c=>Ol(l,c,o,!0)),Ol(l,e,o)),yt(e)&&i.set(e,l),l}function Ol(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&Ol(t,i,r,!0),s&&s.forEach(o=>Ol(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=uR[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const uR={data:Tg,props:Rg,emits:Rg,methods:To,computed:To,beforeCreate:yr,created:yr,beforeMount:yr,mounted:yr,beforeUpdate:yr,updated:yr,beforeDestroy:yr,beforeUnmount:yr,destroyed:yr,unmounted:yr,activated:yr,deactivated:yr,errorCaptured:yr,serverPrefetch:yr,components:To,directives:To,watch:fR,provide:Tg,inject:dR};function Tg(t,e){return e?t?function(){return pr(Be(t)?t.call(this,this):t,Be(e)?e.call(this,this):e)}:e:t}function dR(t,e){return To(rf(t),rf(e))}function rf(t){if(Fe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function yr(t,e){return t?[...new Set([].concat(t,e))]:e}function To(t,e){return t?pr(Object.create(null),t,e):e}function Rg(t,e){return t?Fe(t)&&Fe(e)?[...new Set([...t,...e])]:pr(Object.create(null),ef(t),ef(e??{})):e}function fR(t,e){if(!t)return e;if(!e)return t;const r=pr(Object.create(null),t);for(const n in e)r[n]=yr(t[n],e[n]);return r}function Z0(){return{app:null,config:{isNativeTag:t0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hR=0;function pR(t,e){return function(n,s=null){Be(n)||(n=pr({},n)),s!=null&&!yt(s)&&(s=null);const i=Z0(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:hR++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:VR,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&Be(u.install)?(o.add(u),u.install(c,...d)):Be(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const h=c._ceVNode||ue(n,s);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(h,u,f),l=!0,c._container=u,u.__vue_app__=c,_c(h.component)}},onUnmount(u){a.push(u)},unmount(){l&&($n(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=oi;oi=c;try{return u()}finally{oi=d}}};return c}}let oi=null;const mR=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Rr(e)}Modifiers`]||t[`${Fs(e)}Modifiers`];function gR(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||pt;let s=r;const i=e.startsWith("update:"),o=i&&mR(n,e.slice(7));o&&(o.trim&&(s=r.map(u=>It(u)?u.trim():u)),o.number&&(s=r.map(eT)));let a,l=n[a=il(e)]||n[a=il(Rr(e))];!l&&i&&(l=n[a=il(Fs(e))]),l&&$n(l,t,6,s);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,$n(c,t,6,s)}}const yR=new WeakMap;function e_(t,e,r=!1){const n=r?yR:e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Be(t)){const l=c=>{const u=e_(c,e,!0);u&&(a=!0,pr(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(yt(t)&&n.set(t,null),null):(Fe(i)?i.forEach(l=>o[l]=null):pr(o,i),yt(t)&&n.set(t,o),o)}function vc(t,e){return!t||!nc(e)?!1:(e=e.slice(2).replace(/Once$/,""),at(t,e[0].toLowerCase()+e.slice(1))||at(t,Fs(e))||at(t,e))}function Og(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:m,inheritAttrs:y}=t,_=Tl(t);let x,A;try{if(r.shapeFlag&4){const p=s||n,b=p;x=An(c.call(b,p,u,d,h,f,m)),A=a}else{const p=e;x=An(p.length>1?p(d,{attrs:a,slots:o,emit:l}):p(d,null)),A=e.props?a:bR(a)}}catch(p){Fo.length=0,gc(p,t,1),x=ue(fn)}let w=x;if(A&&y!==!1){const p=Object.keys(A),{shapeFlag:b}=w;p.length&&b&7&&(i&&p.some(gh)&&(A=vR(A,i)),w=li(w,A,!1,!0))}return r.dirs&&(w=li(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&Ah(w,r.transition),x=w,Tl(_),x}const bR=t=>{let e;for(const r in t)(r==="class"||r==="style"||nc(r))&&((e||(e={}))[r]=t[r]);return e},vR=(t,e)=>{const r={};for(const n in t)(!gh(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function _R(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?Cg(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==n[f]&&!vc(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Cg(n,o,c):!0:!!o;return!1}function Cg(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!vc(r,i))return!0}return!1}function wR({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const t_={},r_=()=>Object.create(t_),n_=t=>Object.getPrototypeOf(t)===t_;function xR(t,e,r,n=!1){const s={},i=r_();t.propsDefaults=Object.create(null),s_(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:TT(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function ER(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Qe(s),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(vc(t.emitsOptions,f))continue;const h=e[f];if(l)if(at(i,f))h!==i[f]&&(i[f]=h,c=!0);else{const m=Rr(f);s[m]=nf(l,a,m,h,t,!1)}else h!==i[f]&&(i[f]=h,c=!0)}}}else{s_(t,e,s,i)&&(c=!0);let u;for(const d in a)(!e||!at(e,d)&&((u=Fs(d))===d||!at(e,u)))&&(l?r&&(r[d]!==void 0||r[u]!==void 0)&&(s[d]=nf(l,a,d,void 0,t,!0)):delete s[d]);if(i!==a)for(const d in i)(!e||!at(e,d))&&(delete i[d],c=!0)}c&&Jn(t.attrs,"set","")}function s_(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ko(l))continue;const c=e[l];let u;s&&at(s,u=Rr(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:vc(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=Qe(r),c=a||pt;for(let u=0;u<i.length;u++){const d=i[u];r[d]=nf(s,l,d,c[d],t,!at(c,d))}}return o}function nf(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=at(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Be(l)){const{propsDefaults:c}=s;if(r in c)n=c[r];else{const u=fa(s);n=c[r]=l.call(null,e),u()}}else n=l;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Fs(r))&&(n=!0))}return n}const AR=new WeakMap;function i_(t,e,r=!1){const n=r?AR:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!Be(t)){const u=d=>{l=!0;const[f,h]=i_(d,e,!0);pr(o,f),h&&a.push(...h)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return yt(t)&&n.set(t,$i),$i;if(Fe(i))for(let u=0;u<i.length;u++){const d=Rr(i[u]);kg(d)&&(o[d]=pt)}else if(i)for(const u in i){const d=Rr(u);if(kg(d)){const f=i[u],h=o[d]=Fe(f)||Be(f)?{type:f}:pr({},f),m=h.type;let y=!1,_=!0;if(Fe(m))for(let x=0;x<m.length;++x){const A=m[x],w=Be(A)&&A.name;if(w==="Boolean"){y=!0;break}else w==="String"&&(_=!1)}else y=Be(m)&&m.name==="Boolean";h[0]=y,h[1]=_,(y||at(h,"default"))&&a.push(d)}}const c=[o,a];return yt(t)&&n.set(t,c),c}function kg(t){return t[0]!=="$"&&!ko(t)}const Th=t=>t==="_"||t==="_ctx"||t==="$stable",Rh=t=>Fe(t)?t.map(An):[An(t)],SR=(t,e,r)=>{if(e._n)return e;const n=de((...s)=>Rh(e(...s)),r);return n._c=!1,n},o_=(t,e,r)=>{const n=t._ctx;for(const s in t){if(Th(s))continue;const i=t[s];if(Be(i))e[s]=SR(s,i,n);else if(i!=null){const o=Rh(i);e[s]=()=>o}}},a_=(t,e)=>{const r=Rh(e);t.slots.default=()=>r},l_=(t,e,r)=>{for(const n in e)(r||!Th(n))&&(t[n]=e[n])},IR=(t,e,r)=>{const n=t.slots=r_();if(t.vnode.shapeFlag&32){const s=e._;s?(l_(n,e,r),r&&i0(n,"_",s,!0)):o_(e,n)}else e&&a_(t,e)},TR=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=pt;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:l_(s,e,r):(i=!e.$stable,o_(e,s)),o=e}else e&&(a_(t,e),o={default:1});if(i)for(const a in s)!Th(a)&&o[a]==null&&delete s[a]},br=DR;function RR(t){return OR(t)}function OR(t,e){const r=lc();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=On,insertStaticContent:m}=t,y=(L,k,X,he=null,fe=null,pe=null,$=void 0,N=null,Y=!!k.dynamicChildren)=>{if(L===k)return;L&&!ho(L,k)&&(he=V(L),oe(L,fe,pe,!0),L=null),k.patchFlag===-2&&(Y=!1,k.dynamicChildren=null);const{type:Z,ref:xe,shapeFlag:ye}=k;switch(Z){case Xi:_(L,k,X,he);break;case fn:x(L,k,X,he);break;case Mo:L==null&&A(k,X,he,$);break;case Ze:B(L,k,X,he,fe,pe,$,N,Y);break;default:ye&1?b(L,k,X,he,fe,pe,$,N,Y):ye&6?U(L,k,X,he,fe,pe,$,N,Y):(ye&64||ye&128)&&Z.process(L,k,X,he,fe,pe,$,N,Y,ce)}xe!=null&&fe?Lo(xe,L&&L.ref,pe,k||L,!k):xe==null&&L&&L.ref!=null&&Lo(L.ref,null,pe,L,!0)},_=(L,k,X,he)=>{if(L==null)n(k.el=a(k.children),X,he);else{const fe=k.el=L.el;k.children!==L.children&&c(fe,k.children)}},x=(L,k,X,he)=>{L==null?n(k.el=l(k.children||""),X,he):k.el=L.el},A=(L,k,X,he)=>{[L.el,L.anchor]=m(L.children,k,X,he,L.el,L.anchor)},w=({el:L,anchor:k},X,he)=>{let fe;for(;L&&L!==k;)fe=f(L),n(L,X,he),L=fe;n(k,X,he)},p=({el:L,anchor:k})=>{let X;for(;L&&L!==k;)X=f(L),s(L),L=X;s(k)},b=(L,k,X,he,fe,pe,$,N,Y)=>{if(k.type==="svg"?$="svg":k.type==="math"&&($="mathml"),L==null)E(k,X,he,fe,pe,$,N,Y);else{const Z=L.el&&L.el._isVueCE?L.el:null;try{Z&&Z._beginPatch(),O(L,k,fe,pe,$,N,Y)}finally{Z&&Z._endPatch()}}},E=(L,k,X,he,fe,pe,$,N)=>{let Y,Z;const{props:xe,shapeFlag:ye,transition:Q,dirs:ie}=L;if(Y=L.el=o(L.type,pe,xe&&xe.is,xe),ye&8?u(Y,L.children):ye&16&&I(L.children,Y,null,he,fe,ed(L,pe),$,N),ie&&Xs(L,null,he,"created"),T(Y,L,L.scopeId,$,he),xe){for(const S in xe)S!=="value"&&!ko(S)&&i(Y,S,null,xe[S],pe,he);"value"in xe&&i(Y,"value",null,xe.value,pe),(Z=xe.onVnodeBeforeMount)&&bn(Z,he,L)}ie&&Xs(L,null,he,"beforeMount");const Re=CR(fe,Q);Re&&Q.beforeEnter(Y),n(Y,k,X),((Z=xe&&xe.onVnodeMounted)||Re||ie)&&br(()=>{Z&&bn(Z,he,L),Re&&Q.enter(Y),ie&&Xs(L,null,he,"mounted")},fe)},T=(L,k,X,he,fe)=>{if(X&&h(L,X),he)for(let pe=0;pe<he.length;pe++)h(L,he[pe]);if(fe){let pe=fe.subTree;if(k===pe||d_(pe.type)&&(pe.ssContent===k||pe.ssFallback===k)){const $=fe.vnode;T(L,$,$.scopeId,$.slotScopeIds,fe.parent)}}},I=(L,k,X,he,fe,pe,$,N,Y=0)=>{for(let Z=Y;Z<L.length;Z++){const xe=L[Z]=N?ys(L[Z]):An(L[Z]);y(null,xe,k,X,he,fe,pe,$,N)}},O=(L,k,X,he,fe,pe,$)=>{const N=k.el=L.el;let{patchFlag:Y,dynamicChildren:Z,dirs:xe}=k;Y|=L.patchFlag&16;const ye=L.props||pt,Q=k.props||pt;let ie;if(X&&Ys(X,!1),(ie=Q.onVnodeBeforeUpdate)&&bn(ie,X,k,L),xe&&Xs(k,L,X,"beforeUpdate"),X&&Ys(X,!0),(ye.innerHTML&&Q.innerHTML==null||ye.textContent&&Q.textContent==null)&&u(N,""),Z?P(L.dynamicChildren,Z,N,X,he,ed(k,fe),pe):$||F(L,k,N,null,X,he,ed(k,fe),pe,!1),Y>0){if(Y&16)W(N,ye,Q,X,fe);else if(Y&2&&ye.class!==Q.class&&i(N,"class",null,Q.class,fe),Y&4&&i(N,"style",ye.style,Q.style,fe),Y&8){const Re=k.dynamicProps;for(let S=0;S<Re.length;S++){const g=Re[S],v=ye[g],D=Q[g];(D!==v||g==="value")&&i(N,g,v,D,fe,X)}}Y&1&&L.children!==k.children&&u(N,k.children)}else!$&&Z==null&&W(N,ye,Q,X,fe);((ie=Q.onVnodeUpdated)||xe)&&br(()=>{ie&&bn(ie,X,k,L),xe&&Xs(k,L,X,"updated")},he)},P=(L,k,X,he,fe,pe,$)=>{for(let N=0;N<k.length;N++){const Y=L[N],Z=k[N],xe=Y.el&&(Y.type===Ze||!ho(Y,Z)||Y.shapeFlag&198)?d(Y.el):X;y(Y,Z,xe,null,he,fe,pe,$,!0)}},W=(L,k,X,he,fe)=>{if(k!==X){if(k!==pt)for(const pe in k)!ko(pe)&&!(pe in X)&&i(L,pe,k[pe],null,fe,he);for(const pe in X){if(ko(pe))continue;const $=X[pe],N=k[pe];$!==N&&pe!=="value"&&i(L,pe,N,$,fe,he)}"value"in X&&i(L,"value",k.value,X.value,fe)}},B=(L,k,X,he,fe,pe,$,N,Y)=>{const Z=k.el=L?L.el:a(""),xe=k.anchor=L?L.anchor:a("");let{patchFlag:ye,dynamicChildren:Q,slotScopeIds:ie}=k;ie&&(N=N?N.concat(ie):ie),L==null?(n(Z,X,he),n(xe,X,he),I(k.children||[],X,xe,fe,pe,$,N,Y)):ye>0&&ye&64&&Q&&L.dynamicChildren&&L.dynamicChildren.length===Q.length?(P(L.dynamicChildren,Q,X,fe,pe,$,N),(k.key!=null||fe&&k===fe.subTree)&&Oh(L,k,!0)):F(L,k,X,xe,fe,pe,$,N,Y)},U=(L,k,X,he,fe,pe,$,N,Y)=>{k.slotScopeIds=N,L==null?k.shapeFlag&512?fe.ctx.activate(k,X,he,$,Y):M(k,X,he,fe,pe,$,Y):te(L,k,Y)},M=(L,k,X,he,fe,pe,$)=>{const N=L.component=MR(L,he,fe);if(q0(L)&&(N.ctx.renderer=ce),FR(N,!1,$),N.asyncDep){if(fe&&fe.registerDep(N,R,$),!L.el){const Y=N.subTree=ue(fn);x(null,Y,k,X),L.placeholder=Y.el}}else R(N,L,k,X,fe,pe,$)},te=(L,k,X)=>{const he=k.component=L.component;if(_R(L,k,X))if(he.asyncDep&&!he.asyncResolved){q(he,k,X);return}else he.next=k,he.update();else k.el=L.el,he.vnode=k},R=(L,k,X,he,fe,pe,$)=>{const N=()=>{if(L.isMounted){let{next:ye,bu:Q,u:ie,parent:Re,vnode:S}=L;{const ne=c_(L);if(ne){ye&&(ye.el=S.el,q(L,ye,$)),ne.asyncDep.then(()=>{L.isUnmounted||N()});return}}let g=ye,v;Ys(L,!1),ye?(ye.el=S.el,q(L,ye,$)):ye=S,Q&&ol(Q),(v=ye.props&&ye.props.onVnodeBeforeUpdate)&&bn(v,Re,ye,S),Ys(L,!0);const D=Og(L),K=L.subTree;L.subTree=D,y(K,D,d(K.el),V(K),L,fe,pe),ye.el=D.el,g===null&&wR(L,D.el),ie&&br(ie,fe),(v=ye.props&&ye.props.onVnodeUpdated)&&br(()=>bn(v,Re,ye,S),fe)}else{let ye;const{el:Q,props:ie}=k,{bm:Re,m:S,parent:g,root:v,type:D}=L,K=Mi(k);Ys(L,!1),Re&&ol(Re),!K&&(ye=ie&&ie.onVnodeBeforeMount)&&bn(ye,g,k),Ys(L,!0);{v.ce&&v.ce._def.shadowRoot!==!1&&v.ce._injectChildStyle(D);const ne=L.subTree=Og(L);y(null,ne,X,he,L,fe,pe),k.el=ne.el}if(S&&br(S,fe),!K&&(ye=ie&&ie.onVnodeMounted)){const ne=k;br(()=>bn(ye,g,ne),fe)}(k.shapeFlag&256||g&&Mi(g.vnode)&&g.vnode.shapeFlag&256)&&L.a&&br(L.a,fe),L.isMounted=!0,k=X=he=null}};L.scope.on();const Y=L.effect=new d0(N);L.scope.off();const Z=L.update=Y.run.bind(Y),xe=L.job=Y.runIfDirty.bind(Y);xe.i=L,xe.id=L.uid,Y.scheduler=()=>xh(xe),Ys(L,!0),Z()},q=(L,k,X)=>{k.component=L;const he=L.vnode.props;L.vnode=k,L.next=null,ER(L,k.props,he,X),TR(L,k.children,X),ns(),_g(L),ss()},F=(L,k,X,he,fe,pe,$,N,Y=!1)=>{const Z=L&&L.children,xe=L?L.shapeFlag:0,ye=k.children,{patchFlag:Q,shapeFlag:ie}=k;if(Q>0){if(Q&128){j(Z,ye,X,he,fe,pe,$,N,Y);return}else if(Q&256){ee(Z,ye,X,he,fe,pe,$,N,Y);return}}ie&8?(xe&16&&H(Z,fe,pe),ye!==Z&&u(X,ye)):xe&16?ie&16?j(Z,ye,X,he,fe,pe,$,N,Y):H(Z,fe,pe,!0):(xe&8&&u(X,""),ie&16&&I(ye,X,he,fe,pe,$,N,Y))},ee=(L,k,X,he,fe,pe,$,N,Y)=>{L=L||$i,k=k||$i;const Z=L.length,xe=k.length,ye=Math.min(Z,xe);let Q;for(Q=0;Q<ye;Q++){const ie=k[Q]=Y?ys(k[Q]):An(k[Q]);y(L[Q],ie,X,null,fe,pe,$,N,Y)}Z>xe?H(L,fe,pe,!0,!1,ye):I(k,X,he,fe,pe,$,N,Y,ye)},j=(L,k,X,he,fe,pe,$,N,Y)=>{let Z=0;const xe=k.length;let ye=L.length-1,Q=xe-1;for(;Z<=ye&&Z<=Q;){const ie=L[Z],Re=k[Z]=Y?ys(k[Z]):An(k[Z]);if(ho(ie,Re))y(ie,Re,X,null,fe,pe,$,N,Y);else break;Z++}for(;Z<=ye&&Z<=Q;){const ie=L[ye],Re=k[Q]=Y?ys(k[Q]):An(k[Q]);if(ho(ie,Re))y(ie,Re,X,null,fe,pe,$,N,Y);else break;ye--,Q--}if(Z>ye){if(Z<=Q){const ie=Q+1,Re=ie<xe?k[ie].el:he;for(;Z<=Q;)y(null,k[Z]=Y?ys(k[Z]):An(k[Z]),X,Re,fe,pe,$,N,Y),Z++}}else if(Z>Q)for(;Z<=ye;)oe(L[Z],fe,pe,!0),Z++;else{const ie=Z,Re=Z,S=new Map;for(Z=Re;Z<=Q;Z++){const Ue=k[Z]=Y?ys(k[Z]):An(k[Z]);Ue.key!=null&&S.set(Ue.key,Z)}let g,v=0;const D=Q-Re+1;let K=!1,ne=0;const me=new Array(D);for(Z=0;Z<D;Z++)me[Z]=0;for(Z=ie;Z<=ye;Z++){const Ue=L[Z];if(v>=D){oe(Ue,fe,pe,!0);continue}let He;if(Ue.key!=null)He=S.get(Ue.key);else for(g=Re;g<=Q;g++)if(me[g-Re]===0&&ho(Ue,k[g])){He=g;break}He===void 0?oe(Ue,fe,pe,!0):(me[He-Re]=Z+1,He>=ne?ne=He:K=!0,y(Ue,k[He],X,null,fe,pe,$,N,Y),v++)}const qe=K?kR(me):$i;for(g=qe.length-1,Z=D-1;Z>=0;Z--){const Ue=Re+Z,He=k[Ue],ut=k[Ue+1],Ye=Ue+1<xe?ut.el||u_(ut):he;me[Z]===0?y(null,He,X,Ye,fe,pe,$,N,Y):K&&(g<0||Z!==qe[g]?se(He,X,Ye,2):g--)}}},se=(L,k,X,he,fe=null)=>{const{el:pe,type:$,transition:N,children:Y,shapeFlag:Z}=L;if(Z&6){se(L.component.subTree,k,X,he);return}if(Z&128){L.suspense.move(k,X,he);return}if(Z&64){$.move(L,k,X,ce);return}if($===Ze){n(pe,k,X);for(let ye=0;ye<Y.length;ye++)se(Y[ye],k,X,he);n(L.anchor,k,X);return}if($===Mo){w(L,k,X);return}if(he!==2&&Z&1&&N)if(he===0)N.beforeEnter(pe),n(pe,k,X),br(()=>N.enter(pe),fe);else{const{leave:ye,delayLeave:Q,afterLeave:ie}=N,Re=()=>{L.ctx.isUnmounted?s(pe):n(pe,k,X)},S=()=>{pe._isLeaving&&pe[GT](!0),ye(pe,()=>{Re(),ie&&ie()})};Q?Q(pe,Re,S):S()}else n(pe,k,X)},oe=(L,k,X,he=!1,fe=!1)=>{const{type:pe,props:$,ref:N,children:Y,dynamicChildren:Z,shapeFlag:xe,patchFlag:ye,dirs:Q,cacheIndex:ie}=L;if(ye===-2&&(fe=!1),N!=null&&(ns(),Lo(N,null,X,L,!0),ss()),ie!=null&&(k.renderCache[ie]=void 0),xe&256){k.ctx.deactivate(L);return}const Re=xe&1&&Q,S=!Mi(L);let g;if(S&&(g=$&&$.onVnodeBeforeUnmount)&&bn(g,k,L),xe&6)z(L.component,X,he);else{if(xe&128){L.suspense.unmount(X,he);return}Re&&Xs(L,null,k,"beforeUnmount"),xe&64?L.type.remove(L,k,X,ce,he):Z&&!Z.hasOnce&&(pe!==Ze||ye>0&&ye&64)?H(Z,k,X,!1,!0):(pe===Ze&&ye&384||!fe&&xe&16)&&H(Y,k,X),he&&ae(L)}(S&&(g=$&&$.onVnodeUnmounted)||Re)&&br(()=>{g&&bn(g,k,L),Re&&Xs(L,null,k,"unmounted")},X)},ae=L=>{const{type:k,el:X,anchor:he,transition:fe}=L;if(k===Ze){we(X,he);return}if(k===Mo){p(L);return}const pe=()=>{s(X),fe&&!fe.persisted&&fe.afterLeave&&fe.afterLeave()};if(L.shapeFlag&1&&fe&&!fe.persisted){const{leave:$,delayLeave:N}=fe,Y=()=>$(X,pe);N?N(L.el,pe,Y):Y()}else pe()},we=(L,k)=>{let X;for(;L!==k;)X=f(L),s(L),L=X;s(k)},z=(L,k,X)=>{const{bum:he,scope:fe,job:pe,subTree:$,um:N,m:Y,a:Z}=L;Dg(Y),Dg(Z),he&&ol(he),fe.stop(),pe&&(pe.flags|=8,oe($,L,k,X)),N&&br(N,k),br(()=>{L.isUnmounted=!0},k)},H=(L,k,X,he=!1,fe=!1,pe=0)=>{for(let $=pe;$<L.length;$++)oe(L[$],k,X,he,fe)},V=L=>{if(L.shapeFlag&6)return V(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const k=f(L.anchor||L.el),X=k&&k[F0];return X?f(X):k};let le=!1;const ve=(L,k,X)=>{let he;L==null?k._vnode&&(oe(k._vnode,null,null,!0),he=k._vnode.component):y(k._vnode||null,L,k,null,null,null,X),k._vnode=L,le||(le=!0,_g(he),P0(),le=!1)},ce={p:y,um:oe,m:se,r:ae,mt:M,mc:I,pc:F,pbc:P,n:V,o:t};return{render:ve,hydrate:void 0,createApp:pR(ve)}}function ed({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Ys({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function CR(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Oh(t,e,r=!1){const n=t.children,s=e.children;if(Fe(n)&&Fe(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ys(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Oh(o,a)),a.type===Xi&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(t.type===Ze?1:0)),a.type===fn&&!a.el&&(a.el=o.el)}}function kR(t){const e=t.slice(),r=[0];let n,s,i,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(s=r[r.length-1],t[s]<c){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function c_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:c_(e)}function Dg(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function u_(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?u_(e.subTree):null}const d_=t=>t.__isSuspense;function DR(t,e){e&&e.pendingBranch?Fe(t)?e.effects.push(...t):e.effects.push(t):UT(t)}const Ze=Symbol.for("v-fgt"),Xi=Symbol.for("v-txt"),fn=Symbol.for("v-cmt"),Mo=Symbol.for("v-stc"),Fo=[];let Dr=null;function J(t=!1){Fo.push(Dr=t?null:[])}function PR(){Fo.pop(),Dr=Fo[Fo.length-1]||null}let Ko=1;function Cl(t,e=!1){Ko+=t,t<0&&Dr&&e&&(Dr.hasOnce=!0)}function f_(t){return t.dynamicChildren=Ko>0?Dr||$i:null,PR(),Ko>0&&Dr&&Dr.push(t),t}function Se(t,e,r,n,s,i){return f_(Oe(t,e,r,n,s,i,!0))}function ge(t,e,r,n,s){return f_(ue(t,e,r,n,s,!0))}function Go(t){return t?t.__v_isVNode===!0:!1}function ho(t,e){return t.type===e.type&&t.key===e.key}const h_=({key:t})=>t??null,ll=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?It(t)||Et(t)||Be(t)?{i:Jt,r:t,k:e,f:!!r}:t:null);function Oe(t,e=null,r=null,n=0,s=null,i=t===Ze?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&h_(e),ref:e&&ll(e),scopeId:L0,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jt};return a?(Ch(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=It(r)?8:16),Ko>0&&!o&&Dr&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Dr.push(l),l}const ue=$R;function $R(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===W0)&&(t=fn),Go(t)){const a=li(t,e,!0);return r&&Ch(a,r),Ko>0&&!i&&Dr&&(a.shapeFlag&6?Dr[Dr.indexOf(t)]=a:Dr.push(a)),a.patchFlag=-2,a}if(qR(t)&&(t=t.__vccOpts),e){e=ds(e);let{class:a,style:l}=e;a&&!It(a)&&(e.class=dt(a)),yt(l)&&(mc(l)&&!Fe(l)&&(l=pr({},l)),e.style=Dn(l))}const o=It(t)?1:d_(t)?128:WT(t)?64:yt(t)?4:Be(t)?2:0;return Oe(t,e,r,n,s,o,i,!0)}function ds(t){return t?mc(t)||n_(t)?pr({},t):t:null}function li(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Ve(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&h_(c),ref:e&&e.ref?r&&i?Fe(i)?i.concat(ll(e)):[i,ll(e)]:ll(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&li(t.ssContent),ssFallback:t.ssFallback&&li(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Ah(u,l.clone(u)),u}function tt(t=" ",e=0){return ue(Xi,null,t,e)}function da(t,e){const r=ue(Mo,null,t);return r.staticCount=e,r}function Ge(t="",e=!1){return e?(J(),ge(fn,null,t)):ue(fn,null,t)}function An(t){return t==null||typeof t=="boolean"?ue(fn):Fe(t)?ue(Ze,null,t.slice()):Go(t)?ys(t):ue(Xi,null,String(t))}function ys(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:li(t)}function Ch(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Fe(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),Ch(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!n_(e)?e._ctx=Jt:s===3&&Jt&&(Jt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Be(e)?(e={default:e,_ctx:Jt},r=32):(e=String(e),n&64?(r=16,e=[tt(e)]):r=8);t.children=e,t.shapeFlag|=r}function Ve(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=dt([e.class,n.class]));else if(s==="style")e.style=Dn([e.style,n.style]);else if(nc(s)){const i=e[s],o=n[s];o&&i!==o&&!(Fe(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function bn(t,e,r,n=null){$n(t,e,7,[r,n])}const LR=Z0();let NR=0;function MR(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||LR,i={uid:NR++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new u0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:i_(n,s),emitsOptions:e_(n,s),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:n.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=gR.bind(null,i),t.ce&&t.ce(i),i}let cr=null;const Fr=()=>cr||Jt;let kl,sf;{const t=lc(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};kl=e("__VUE_INSTANCE_SETTERS__",r=>cr=r),sf=e("__VUE_SSR_SETTERS__",r=>Jo=r)}const fa=t=>{const e=cr;return kl(t),t.scope.on(),()=>{t.scope.off(),kl(e)}},Pg=()=>{cr&&cr.scope.off(),kl(null)};function p_(t){return t.vnode.shapeFlag&4}let Jo=!1;function FR(t,e=!1,r=!1){e&&sf(e);const{props:n,children:s}=t.vnode,i=p_(t);xR(t,n,i,e),IR(t,s,r||e);const o=i?jR(t,e):void 0;return e&&sf(!1),o}function jR(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,oR);const{setup:n}=r;if(n){ns();const s=t.setupContext=n.length>1?g_(t):null,i=fa(t),o=ua(n,t,0,[t.props,s]),a=r0(o);if(ss(),i(),(a||t.sp)&&!Mi(t)&&B0(t),a){if(o.then(Pg,Pg),e)return o.then(l=>{$g(t,l)}).catch(l=>{gc(l,t,0)});t.asyncDep=o}else $g(t,o)}else m_(t)}function $g(t,e,r){Be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=R0(e)),m_(t)}function m_(t,e,r){const n=t.type;t.render||(t.render=n.render||On);{const s=fa(t);ns();try{lR(t)}finally{ss(),s()}}}const UR={get(t,e){return ar(t,"get",""),t[e]}};function g_(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,UR),slots:t.slots,emit:t.emit,expose:e}}function _c(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(R0(rt(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in No)return No[r](t)},has(e,r){return r in e||r in No}})):t.proxy}function BR(t,e=!0){return Be(t)?t.displayName||t.name:t.name||e&&t.__name}function qR(t){return Be(t)&&"__vccOpts"in t}const re=(t,e)=>LT(t,e,Jo);function rs(t,e,r){try{Cl(-1);const n=arguments.length;return n===2?yt(e)&&!Fe(e)?Go(e)?ue(t,null,[e]):ue(t,e):ue(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Go(r)&&(r=[r]),ue(t,e,r))}finally{Cl(1)}}const VR="3.5.26";/**
* @vue/runtime-dom v3.5.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let of;const Lg=typeof window<"u"&&window.trustedTypes;if(Lg)try{of=Lg.createPolicy("vue",{createHTML:t=>t})}catch{}const y_=of?t=>of.createHTML(t):t=>t,HR="http://www.w3.org/2000/svg",zR="http://www.w3.org/1998/Math/MathML",Gn=typeof document<"u"?document:null,Ng=Gn&&Gn.createElement("template"),WR={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?Gn.createElementNS(HR,t):e==="mathml"?Gn.createElementNS(zR,t):r?Gn.createElement(t,{is:r}):Gn.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>Gn.createTextNode(t),createComment:t=>Gn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{Ng.innerHTML=y_(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Ng.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},KR=Symbol("_vtc");function GR(t,e,r){const n=t[KR];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Mg=Symbol("_vod"),JR=Symbol("_vsh"),XR=Symbol(""),YR=/(?:^|;)\s*display\s*:/;function QR(t,e,r){const n=t.style,s=It(r);let i=!1;if(r&&!s){if(e)if(It(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&cl(n,a,"")}else for(const o in e)r[o]==null&&cl(n,o,"");for(const o in r)o==="display"&&(i=!0),cl(n,o,r[o])}else if(s){if(e!==r){const o=n[XR];o&&(r+=";"+o),n.cssText=r,i=YR.test(r)}}else e&&t.removeAttribute("style");Mg in t&&(t[Mg]=i?n.display:"",t[JR]&&(n.display="none"))}const Fg=/\s*!important$/;function cl(t,e,r){if(Fe(r))r.forEach(n=>cl(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=ZR(t,e);Fg.test(r)?t.setProperty(Fs(n),r.replace(Fg,""),"important"):t[n]=r}}const jg=["Webkit","Moz","ms"],td={};function ZR(t,e){const r=td[e];if(r)return r;let n=Rr(e);if(n!=="filter"&&n in t)return td[e]=n;n=ac(n);for(let s=0;s<jg.length;s++){const i=jg[s]+n;if(i in t)return td[e]=i}return e}const Ug="http://www.w3.org/1999/xlink";function Bg(t,e,r,n,s,i=oT(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(Ug,e.slice(6,e.length)):t.setAttributeNS(Ug,e,r):r==null||i&&!o0(r)?t.removeAttribute(e):t.setAttribute(e,i?"":cn(r)?String(r):r)}function qg(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?y_(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=o0(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function b_(t,e,r,n){t.addEventListener(e,r,n)}function eO(t,e,r,n){t.removeEventListener(e,r,n)}const Vg=Symbol("_vei");function tO(t,e,r,n,s=null){const i=t[Vg]||(t[Vg]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=rO(e);if(n){const c=i[e]=iO(n,s);b_(t,a,c,l)}else o&&(eO(t,a,o,l),i[e]=void 0)}}const Hg=/(?:Once|Passive|Capture)$/;function rO(t){let e;if(Hg.test(t)){e={};let n;for(;n=t.match(Hg);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fs(t.slice(2)),e]}let rd=0;const nO=Promise.resolve(),sO=()=>rd||(nO.then(()=>rd=0),rd=Date.now());function iO(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;$n(oO(n,r.value),e,5,[n])};return r.value=t,r.attached=sO(),r}function oO(t,e){if(Fe(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const zg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,aO=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?GR(t,n,o):e==="style"?QR(t,r,n):nc(e)?gh(e)||tO(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):lO(t,e,n,o))?(qg(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Bg(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!It(n))?qg(t,Rr(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Bg(t,e,n,o))};function lO(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&zg(e)&&Be(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return zg(e)&&It(r)?!1:e in t}const Wg=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Fe(e)?r=>ol(e,r):e},nd=Symbol("_assign"),cO={deep:!0,created(t,e,r){t[nd]=Wg(r),b_(t,"change",()=>{const n=t._modelValue,s=uO(t),i=t.checked,o=t[nd];if(Fe(n)){const a=a0(n,s),l=a!==-1;if(i&&!l)o(n.concat(s));else if(!i&&l){const c=[...n];c.splice(a,1),o(c)}}else if(sc(n)){const a=new Set(n);i?a.add(s):a.delete(s),o(a)}else o(v_(t,i))})},mounted:Kg,beforeUpdate(t,e,r){t[nd]=Wg(r),Kg(t,e,r)}};function Kg(t,{value:e,oldValue:r},n){t._modelValue=e;let s;if(Fe(e))s=a0(e,n.props.value)>-1;else if(sc(e))s=e.has(n.props.value);else{if(e===r)return;s=cc(e,v_(t,!0))}t.checked!==s&&(t.checked=s)}function uO(t){return"_value"in t?t._value:t.value}function v_(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const dO=["ctrl","shift","alt","meta"],fO={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>dO.some(r=>t[`${r}Key`]&&!e.includes(r))},Cs=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=((s,...i)=>{for(let o=0;o<e.length;o++){const a=fO[e[o]];if(a&&a(s,e))return}return t(s,...i)}))},hO={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pO=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=(s=>{if(!("key"in s))return;const i=Fs(s.key);if(e.some(o=>o===i||hO[o]===i))return t(s)}))},mO=pr({patchProp:aO},WR);let Gg;function gO(){return Gg||(Gg=RR(mO))}const yO=((...t)=>{const e=gO().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=vO(n);if(!s)return;const i=e._component;!Be(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,bO(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e});function bO(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function vO(t){return It(t)?document.querySelector(t):t}const Sn={name:"Ramen",version:"?",sourceHash:`04125e7875db711ddd2f70a5f5ac626d599cc0da
`,locales:{en:"English"}};/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let __;const ha=t=>__=t,w_=Symbol();function af(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var jo;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(jo||(jo={}));function _O(){const t=ca(!0),e=t.run(()=>Ae({}));let r=[],n=[];const s=rt({install(i){ha(s),s._a=i,i.provide(w_,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const x_=()=>{};function Jg(t,e,r,n=x_){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&uc()&&bh(s),s}function vi(t,...e){t.slice().forEach(r=>{r(...e)})}const wO=t=>t(),Xg=Symbol(),sd=Symbol();function lf(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];af(s)&&af(n)&&t.hasOwnProperty(r)&&!Et(n)&&!ts(n)?t[r]=lf(s,n):t[r]=n}return t}const xO=Symbol();function EO(t){return!af(t)||!t.hasOwnProperty(xO)}const{assign:hs}=Object;function AO(t){return!!(Et(t)&&t.effect)}function SO(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=s?s():{});const u=cs(r.state.value[t]);return hs(u,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=rt(re(()=>{ha(r);const h=r._s.get(t);return o[f].call(h,h)})),d),{}))}return l=E_(t,c,e,r,n,!0),l}function E_(t,e,r={},n,s,i){let o;const a=hs({actions:{}},r),l={deep:!0};let c,u,d=[],f=[],h;const m=n.state.value[t];!i&&!m&&(n.state.value[t]={}),Ae({});let y;function _(I){let O;c=u=!1,typeof I=="function"?(I(n.state.value[t]),O={type:jo.patchFunction,storeId:t,events:h}):(lf(n.state.value[t],I),O={type:jo.patchObject,payload:I,storeId:t,events:h});const P=y=Symbol();_r().then(()=>{y===P&&(c=!0)}),u=!0,vi(d,O,n.state.value[t])}const x=i?function(){const{state:O}=r,P=O?O():{};this.$patch(W=>{hs(W,P)})}:x_;function A(){o.stop(),d=[],f=[],n._s.delete(t)}const w=(I,O="")=>{if(Xg in I)return I[sd]=O,I;const P=function(){ha(n);const W=Array.from(arguments),B=[],U=[];function M(q){B.push(q)}function te(q){U.push(q)}vi(f,{args:W,name:P[sd],store:b,after:M,onError:te});let R;try{R=I.apply(this&&this.$id===t?this:b,W)}catch(q){throw vi(U,q),q}return R instanceof Promise?R.then(q=>(vi(B,q),q)).catch(q=>(vi(U,q),Promise.reject(q))):(vi(B,R),R)};return P[Xg]=!0,P[sd]=O,P},p={_p:n,$id:t,$onAction:Jg.bind(null,f),$patch:_,$reset:x,$subscribe(I,O={}){const P=Jg(d,I,O.detached,()=>W()),W=o.run(()=>st(()=>n.state.value[t],B=>{(O.flush==="sync"?u:c)&&I({storeId:t,type:jo.direct,events:h},B)},hs({},l,O)));return P},$dispose:A},b=un(p);n._s.set(t,b);const T=(n._a&&n._a.runWithContext||wO)(()=>n._e.run(()=>(o=ca()).run(()=>e({action:w}))));for(const I in T){const O=T[I];if(Et(O)&&!AO(O)||ts(O))i||(m&&EO(O)&&(Et(O)?O.value=m[I]:lf(O,m[I])),n.state.value[t][I]=O);else if(typeof O=="function"){const P=w(O,I);T[I]=P,a.actions[I]=O}}return hs(b,T),hs(Qe(b),T),Object.defineProperty(b,"$state",{get:()=>n.state.value[t],set:I=>{_(O=>{hs(O,I)})}}),n._p.forEach(I=>{hs(b,o.run(()=>I({store:b,app:n._a,pinia:n,options:a})))}),m&&i&&r.hydrate&&r.hydrate(b.$state,m),c=!0,u=!0,b}/*! #__NO_SIDE_EFFECTS__ */function IO(t,e,r){let n,s;const i=typeof e=="function";typeof t=="string"?(n=t,s=i?r:e):(s=t,n=t.id);function o(a,l){const c=qT();return a=a||(c?hr(w_,null):null),a&&ha(a),a=__,a._s.has(n)||(i?E_(n,e,s,a):SO(n,s,a)),a._s.get(n)}return o.$id=n,o}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:A_,setPrototypeOf:Yg,isFrozen:TO,getPrototypeOf:RO,getOwnPropertyDescriptor:OO}=Object;let{freeze:Sr,seal:Gr,create:cf}=Object,{apply:uf,construct:df}=typeof Reflect<"u"&&Reflect;Sr||(Sr=function(e){return e});Gr||(Gr=function(e){return e});uf||(uf=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return e.apply(r,s)});df||(df=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return new e(...n)});const La=Ir(Array.prototype.forEach),CO=Ir(Array.prototype.lastIndexOf),Qg=Ir(Array.prototype.pop),po=Ir(Array.prototype.push),kO=Ir(Array.prototype.splice),ul=Ir(String.prototype.toLowerCase),id=Ir(String.prototype.toString),od=Ir(String.prototype.match),mo=Ir(String.prototype.replace),DO=Ir(String.prototype.indexOf),PO=Ir(String.prototype.trim),Zr=Ir(Object.prototype.hasOwnProperty),gr=Ir(RegExp.prototype.test),go=$O(TypeError);function Ir(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return uf(t,e,n)}}function $O(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return df(t,r)}}function Je(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ul;Yg&&Yg(t,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const i=r(s);i!==s&&(TO(e)||(e[n]=i),s=i)}t[s]=!0}return t}function LO(t){for(let e=0;e<t.length;e++)Zr(t,e)||(t[e]=null);return t}function wn(t){const e=cf(null);for(const[r,n]of A_(t))Zr(t,r)&&(Array.isArray(n)?e[r]=LO(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=wn(n):e[r]=n);return e}function yo(t,e){for(;t!==null;){const n=OO(t,e);if(n){if(n.get)return Ir(n.get);if(typeof n.value=="function")return Ir(n.value)}t=RO(t)}function r(){return null}return r}const Zg=Sr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ad=Sr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ld=Sr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),NO=Sr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),cd=Sr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),MO=Sr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ey=Sr(["#text"]),ty=Sr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ud=Sr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ry=Sr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Na=Sr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),FO=Gr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jO=Gr(/<%[\w\W]*|[\w\W]*%>/gm),UO=Gr(/\$\{[\w\W]*/gm),BO=Gr(/^data-[\-\w.\u00B7-\uFFFF]+$/),qO=Gr(/^aria-[\-\w]+$/),S_=Gr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),VO=Gr(/^(?:\w+script|data):/i),HO=Gr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),I_=Gr(/^html$/i),zO=Gr(/^[a-z][.\w]*(-[.\w]+)+$/i);var ny=Object.freeze({__proto__:null,ARIA_ATTR:qO,ATTR_WHITESPACE:HO,CUSTOM_ELEMENT:zO,DATA_ATTR:BO,DOCTYPE_NAME:I_,ERB_EXPR:jO,IS_ALLOWED_URI:S_,IS_SCRIPT_OR_DATA:VO,MUSTACHE_EXPR:FO,TMPLIT_EXPR:UO});const bo={element:1,text:3,progressingInstruction:7,comment:8,document:9},WO=function(){return typeof window>"u"?null:window},KO=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(n=r.getAttribute(s));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},sy=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function T_(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:WO();const e=Le=>T_(Le);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==bo.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,s=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:h}=t,m=l.prototype,y=yo(m,"cloneNode"),_=yo(m,"remove"),x=yo(m,"nextSibling"),A=yo(m,"childNodes"),w=yo(m,"parentNode");if(typeof o=="function"){const Le=r.createElement("template");Le.content&&Le.content.ownerDocument&&(r=Le.content.ownerDocument)}let p,b="";const{implementation:E,createNodeIterator:T,createDocumentFragment:I,getElementsByTagName:O}=r,{importNode:P}=n;let W=sy();e.isSupported=typeof A_=="function"&&typeof w=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:B,ERB_EXPR:U,TMPLIT_EXPR:M,DATA_ATTR:te,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:ee}=ny;let{IS_ALLOWED_URI:j}=ny,se=null;const oe=Je({},[...Zg,...ad,...ld,...cd,...ey]);let ae=null;const we=Je({},[...ty,...ud,...ry,...Na]);let z=Object.seal(cf(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,V=null;const le=Object.seal(cf(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ve=!0,ce=!0,Te=!1,L=!0,k=!1,X=!0,he=!1,fe=!1,pe=!1,$=!1,N=!1,Y=!1,Z=!0,xe=!1;const ye="user-content-";let Q=!0,ie=!1,Re={},S=null;const g=Je({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let v=null;const D=Je({},["audio","video","img","source","image","track"]);let K=null;const ne=Je({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",qe="http://www.w3.org/2000/svg",Ue="http://www.w3.org/1999/xhtml";let He=Ue,ut=!1,Ye=null;const _1=Je({},[me,qe,Ue],id);let ba=Je({},["mi","mo","mn","ms","mtext"]),va=Je({},["annotation-xml"]);const w1=Je({},["title","style","font","a","script"]);let no=null;const x1=["application/xhtml+xml","text/html"],E1="text/html";let Mt=null,hi=null;const A1=r.createElement("form"),wp=function(G){return G instanceof RegExp||G instanceof Function},jc=function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(hi&&hi===G)){if((!G||typeof G!="object")&&(G={}),G=wn(G),no=x1.indexOf(G.PARSER_MEDIA_TYPE)===-1?E1:G.PARSER_MEDIA_TYPE,Mt=no==="application/xhtml+xml"?id:ul,se=Zr(G,"ALLOWED_TAGS")?Je({},G.ALLOWED_TAGS,Mt):oe,ae=Zr(G,"ALLOWED_ATTR")?Je({},G.ALLOWED_ATTR,Mt):we,Ye=Zr(G,"ALLOWED_NAMESPACES")?Je({},G.ALLOWED_NAMESPACES,id):_1,K=Zr(G,"ADD_URI_SAFE_ATTR")?Je(wn(ne),G.ADD_URI_SAFE_ATTR,Mt):ne,v=Zr(G,"ADD_DATA_URI_TAGS")?Je(wn(D),G.ADD_DATA_URI_TAGS,Mt):D,S=Zr(G,"FORBID_CONTENTS")?Je({},G.FORBID_CONTENTS,Mt):g,H=Zr(G,"FORBID_TAGS")?Je({},G.FORBID_TAGS,Mt):wn({}),V=Zr(G,"FORBID_ATTR")?Je({},G.FORBID_ATTR,Mt):wn({}),Re=Zr(G,"USE_PROFILES")?G.USE_PROFILES:!1,ve=G.ALLOW_ARIA_ATTR!==!1,ce=G.ALLOW_DATA_ATTR!==!1,Te=G.ALLOW_UNKNOWN_PROTOCOLS||!1,L=G.ALLOW_SELF_CLOSE_IN_ATTR!==!1,k=G.SAFE_FOR_TEMPLATES||!1,X=G.SAFE_FOR_XML!==!1,he=G.WHOLE_DOCUMENT||!1,$=G.RETURN_DOM||!1,N=G.RETURN_DOM_FRAGMENT||!1,Y=G.RETURN_TRUSTED_TYPE||!1,pe=G.FORCE_BODY||!1,Z=G.SANITIZE_DOM!==!1,xe=G.SANITIZE_NAMED_PROPS||!1,Q=G.KEEP_CONTENT!==!1,ie=G.IN_PLACE||!1,j=G.ALLOWED_URI_REGEXP||S_,He=G.NAMESPACE||Ue,ba=G.MATHML_TEXT_INTEGRATION_POINTS||ba,va=G.HTML_INTEGRATION_POINTS||va,z=G.CUSTOM_ELEMENT_HANDLING||{},G.CUSTOM_ELEMENT_HANDLING&&wp(G.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=G.CUSTOM_ELEMENT_HANDLING.tagNameCheck),G.CUSTOM_ELEMENT_HANDLING&&wp(G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),G.CUSTOM_ELEMENT_HANDLING&&typeof G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(z.allowCustomizedBuiltInElements=G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),k&&(ce=!1),N&&($=!0),Re&&(se=Je({},ey),ae=[],Re.html===!0&&(Je(se,Zg),Je(ae,ty)),Re.svg===!0&&(Je(se,ad),Je(ae,ud),Je(ae,Na)),Re.svgFilters===!0&&(Je(se,ld),Je(ae,ud),Je(ae,Na)),Re.mathMl===!0&&(Je(se,cd),Je(ae,ry),Je(ae,Na))),G.ADD_TAGS&&(typeof G.ADD_TAGS=="function"?le.tagCheck=G.ADD_TAGS:(se===oe&&(se=wn(se)),Je(se,G.ADD_TAGS,Mt))),G.ADD_ATTR&&(typeof G.ADD_ATTR=="function"?le.attributeCheck=G.ADD_ATTR:(ae===we&&(ae=wn(ae)),Je(ae,G.ADD_ATTR,Mt))),G.ADD_URI_SAFE_ATTR&&Je(K,G.ADD_URI_SAFE_ATTR,Mt),G.FORBID_CONTENTS&&(S===g&&(S=wn(S)),Je(S,G.FORBID_CONTENTS,Mt)),G.ADD_FORBID_CONTENTS&&(S===g&&(S=wn(S)),Je(S,G.ADD_FORBID_CONTENTS,Mt)),Q&&(se["#text"]=!0),he&&Je(se,["html","head","body"]),se.table&&(Je(se,["tbody"]),delete H.tbody),G.TRUSTED_TYPES_POLICY){if(typeof G.TRUSTED_TYPES_POLICY.createHTML!="function")throw go('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof G.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw go('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');p=G.TRUSTED_TYPES_POLICY,b=p.createHTML("")}else p===void 0&&(p=KO(h,s)),p!==null&&typeof b=="string"&&(b=p.createHTML(""));Sr&&Sr(G),hi=G}},xp=Je({},[...ad,...ld,...NO]),Ep=Je({},[...cd,...MO]),S1=function(G){let Ee=w(G);(!Ee||!Ee.tagName)&&(Ee={namespaceURI:He,tagName:"template"});const $e=ul(G.tagName),wt=ul(Ee.tagName);return Ye[G.namespaceURI]?G.namespaceURI===qe?Ee.namespaceURI===Ue?$e==="svg":Ee.namespaceURI===me?$e==="svg"&&(wt==="annotation-xml"||ba[wt]):!!xp[$e]:G.namespaceURI===me?Ee.namespaceURI===Ue?$e==="math":Ee.namespaceURI===qe?$e==="math"&&va[wt]:!!Ep[$e]:G.namespaceURI===Ue?Ee.namespaceURI===qe&&!va[wt]||Ee.namespaceURI===me&&!ba[wt]?!1:!Ep[$e]&&(w1[$e]||!xp[$e]):!!(no==="application/xhtml+xml"&&Ye[G.namespaceURI]):!1},yn=function(G){po(e.removed,{element:G});try{w(G).removeChild(G)}catch{_(G)}},Js=function(G,Ee){try{po(e.removed,{attribute:Ee.getAttributeNode(G),from:Ee})}catch{po(e.removed,{attribute:null,from:Ee})}if(Ee.removeAttribute(G),G==="is")if($||N)try{yn(Ee)}catch{}else try{Ee.setAttribute(G,"")}catch{}},Ap=function(G){let Ee=null,$e=null;if(pe)G="<remove></remove>"+G;else{const kt=od(G,/^[\r\n\t ]+/);$e=kt&&kt[0]}no==="application/xhtml+xml"&&He===Ue&&(G='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+G+"</body></html>");const wt=p?p.createHTML(G):G;if(He===Ue)try{Ee=new f().parseFromString(wt,no)}catch{}if(!Ee||!Ee.documentElement){Ee=E.createDocument(He,"template",null);try{Ee.documentElement.innerHTML=ut?b:wt}catch{}}const Zt=Ee.body||Ee.documentElement;return G&&$e&&Zt.insertBefore(r.createTextNode($e),Zt.childNodes[0]||null),He===Ue?O.call(Ee,he?"html":"body")[0]:he?Ee.documentElement:Zt},Sp=function(G){return T.call(G.ownerDocument||G,G,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Uc=function(G){return G instanceof d&&(typeof G.nodeName!="string"||typeof G.textContent!="string"||typeof G.removeChild!="function"||!(G.attributes instanceof u)||typeof G.removeAttribute!="function"||typeof G.setAttribute!="function"||typeof G.namespaceURI!="string"||typeof G.insertBefore!="function"||typeof G.hasChildNodes!="function")},Ip=function(G){return typeof a=="function"&&G instanceof a};function Vn(Le,G,Ee){La(Le,$e=>{$e.call(e,G,Ee,hi)})}const Tp=function(G){let Ee=null;if(Vn(W.beforeSanitizeElements,G,null),Uc(G))return yn(G),!0;const $e=Mt(G.nodeName);if(Vn(W.uponSanitizeElement,G,{tagName:$e,allowedTags:se}),X&&G.hasChildNodes()&&!Ip(G.firstElementChild)&&gr(/<[/\w!]/g,G.innerHTML)&&gr(/<[/\w!]/g,G.textContent)||G.nodeType===bo.progressingInstruction||X&&G.nodeType===bo.comment&&gr(/<[/\w]/g,G.data))return yn(G),!0;if(!(le.tagCheck instanceof Function&&le.tagCheck($e))&&(!se[$e]||H[$e])){if(!H[$e]&&Op($e)&&(z.tagNameCheck instanceof RegExp&&gr(z.tagNameCheck,$e)||z.tagNameCheck instanceof Function&&z.tagNameCheck($e)))return!1;if(Q&&!S[$e]){const wt=w(G)||G.parentNode,Zt=A(G)||G.childNodes;if(Zt&&wt){const kt=Zt.length;for(let Tr=kt-1;Tr>=0;--Tr){const Hn=y(Zt[Tr],!0);Hn.__removalCount=(G.__removalCount||0)+1,wt.insertBefore(Hn,x(G))}}}return yn(G),!0}return G instanceof l&&!S1(G)||($e==="noscript"||$e==="noembed"||$e==="noframes")&&gr(/<\/no(script|embed|frames)/i,G.innerHTML)?(yn(G),!0):(k&&G.nodeType===bo.text&&(Ee=G.textContent,La([B,U,M],wt=>{Ee=mo(Ee,wt," ")}),G.textContent!==Ee&&(po(e.removed,{element:G.cloneNode()}),G.textContent=Ee)),Vn(W.afterSanitizeElements,G,null),!1)},Rp=function(G,Ee,$e){if(Z&&(Ee==="id"||Ee==="name")&&($e in r||$e in A1))return!1;if(!(ce&&!V[Ee]&&gr(te,Ee))){if(!(ve&&gr(R,Ee))){if(!(le.attributeCheck instanceof Function&&le.attributeCheck(Ee,G))){if(!ae[Ee]||V[Ee]){if(!(Op(G)&&(z.tagNameCheck instanceof RegExp&&gr(z.tagNameCheck,G)||z.tagNameCheck instanceof Function&&z.tagNameCheck(G))&&(z.attributeNameCheck instanceof RegExp&&gr(z.attributeNameCheck,Ee)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(Ee,G))||Ee==="is"&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&gr(z.tagNameCheck,$e)||z.tagNameCheck instanceof Function&&z.tagNameCheck($e))))return!1}else if(!K[Ee]){if(!gr(j,mo($e,F,""))){if(!((Ee==="src"||Ee==="xlink:href"||Ee==="href")&&G!=="script"&&DO($e,"data:")===0&&v[G])){if(!(Te&&!gr(q,mo($e,F,"")))){if($e)return!1}}}}}}}return!0},Op=function(G){return G!=="annotation-xml"&&od(G,ee)},Cp=function(G){Vn(W.beforeSanitizeAttributes,G,null);const{attributes:Ee}=G;if(!Ee||Uc(G))return;const $e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae,forceKeepAttr:void 0};let wt=Ee.length;for(;wt--;){const Zt=Ee[wt],{name:kt,namespaceURI:Tr,value:Hn}=Zt,pi=Mt(kt),Bc=Hn;let Wt=kt==="value"?Bc:PO(Bc);if($e.attrName=pi,$e.attrValue=Wt,$e.keepAttr=!0,$e.forceKeepAttr=void 0,Vn(W.uponSanitizeAttribute,G,$e),Wt=$e.attrValue,xe&&(pi==="id"||pi==="name")&&(Js(kt,G),Wt=ye+Wt),X&&gr(/((--!?|])>)|<\/(style|title|textarea)/i,Wt)){Js(kt,G);continue}if(pi==="attributename"&&od(Wt,"href")){Js(kt,G);continue}if($e.forceKeepAttr)continue;if(!$e.keepAttr){Js(kt,G);continue}if(!L&&gr(/\/>/i,Wt)){Js(kt,G);continue}k&&La([B,U,M],Dp=>{Wt=mo(Wt,Dp," ")});const kp=Mt(G.nodeName);if(!Rp(kp,pi,Wt)){Js(kt,G);continue}if(p&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!Tr)switch(h.getAttributeType(kp,pi)){case"TrustedHTML":{Wt=p.createHTML(Wt);break}case"TrustedScriptURL":{Wt=p.createScriptURL(Wt);break}}if(Wt!==Bc)try{Tr?G.setAttributeNS(Tr,kt,Wt):G.setAttribute(kt,Wt),Uc(G)?yn(G):Qg(e.removed)}catch{Js(kt,G)}}Vn(W.afterSanitizeAttributes,G,null)},I1=function Le(G){let Ee=null;const $e=Sp(G);for(Vn(W.beforeSanitizeShadowDOM,G,null);Ee=$e.nextNode();)Vn(W.uponSanitizeShadowNode,Ee,null),Tp(Ee),Cp(Ee),Ee.content instanceof i&&Le(Ee.content);Vn(W.afterSanitizeShadowDOM,G,null)};return e.sanitize=function(Le){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ee=null,$e=null,wt=null,Zt=null;if(ut=!Le,ut&&(Le="<!-->"),typeof Le!="string"&&!Ip(Le))if(typeof Le.toString=="function"){if(Le=Le.toString(),typeof Le!="string")throw go("dirty is not a string, aborting")}else throw go("toString is not a function");if(!e.isSupported)return Le;if(fe||jc(G),e.removed=[],typeof Le=="string"&&(ie=!1),ie){if(Le.nodeName){const Hn=Mt(Le.nodeName);if(!se[Hn]||H[Hn])throw go("root node is forbidden and cannot be sanitized in-place")}}else if(Le instanceof a)Ee=Ap("<!---->"),$e=Ee.ownerDocument.importNode(Le,!0),$e.nodeType===bo.element&&$e.nodeName==="BODY"||$e.nodeName==="HTML"?Ee=$e:Ee.appendChild($e);else{if(!$&&!k&&!he&&Le.indexOf("<")===-1)return p&&Y?p.createHTML(Le):Le;if(Ee=Ap(Le),!Ee)return $?null:Y?b:""}Ee&&pe&&yn(Ee.firstChild);const kt=Sp(ie?Le:Ee);for(;wt=kt.nextNode();)Tp(wt),Cp(wt),wt.content instanceof i&&I1(wt.content);if(ie)return Le;if($){if(N)for(Zt=I.call(Ee.ownerDocument);Ee.firstChild;)Zt.appendChild(Ee.firstChild);else Zt=Ee;return(ae.shadowroot||ae.shadowrootmode)&&(Zt=P.call(n,Zt,!0)),Zt}let Tr=he?Ee.outerHTML:Ee.innerHTML;return he&&se["!doctype"]&&Ee.ownerDocument&&Ee.ownerDocument.doctype&&Ee.ownerDocument.doctype.name&&gr(I_,Ee.ownerDocument.doctype.name)&&(Tr="<!DOCTYPE "+Ee.ownerDocument.doctype.name+`>
`+Tr),k&&La([B,U,M],Hn=>{Tr=mo(Tr,Hn," ")}),p&&Y?p.createHTML(Tr):Tr},e.setConfig=function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jc(Le),fe=!0},e.clearConfig=function(){hi=null,fe=!1},e.isValidAttribute=function(Le,G,Ee){hi||jc({});const $e=Mt(Le),wt=Mt(G);return Rp($e,wt,Ee)},e.addHook=function(Le,G){typeof G=="function"&&po(W[Le],G)},e.removeHook=function(Le,G){if(G!==void 0){const Ee=CO(W[Le],G);return Ee===-1?void 0:kO(W[Le],Ee,1)[0]}return Qg(W[Le])},e.removeHooks=function(Le){W[Le]=[]},e.removeAllHooks=function(){W=sy()},e}var GO=T_();function kh(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var di=kh();function R_(t){di=t}var Uo={exec:()=>null};function ct(t,e=""){let r=typeof t=="string"?t:t.source;const n={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(wr.caret,"$1"),r=r.replace(s,o),n},getRegex:()=>new RegExp(r,e)};return n}var wr={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},JO=/^(?:[ \t]*(?:\n|$))+/,XO=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,YO=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,pa=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,QO=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Dh=/(?:[*+-]|\d{1,9}[.)])/,O_=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,C_=ct(O_).replace(/bull/g,Dh).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ZO=ct(O_).replace(/bull/g,Dh).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Ph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,eC=/^[^\n]+/,$h=/(?!\s*\])(?:\\.|[^\[\]\\])+/,tC=ct(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",$h).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),rC=ct(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Dh).getRegex(),wc="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Lh=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,nC=ct("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Lh).replace("tag",wc).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),k_=ct(Ph).replace("hr",pa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wc).getRegex(),sC=ct(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",k_).getRegex(),Nh={blockquote:sC,code:XO,def:tC,fences:YO,heading:QO,hr:pa,html:nC,lheading:C_,list:rC,newline:JO,paragraph:k_,table:Uo,text:eC},iy=ct("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",pa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wc).getRegex(),iC={...Nh,lheading:ZO,table:iy,paragraph:ct(Ph).replace("hr",pa).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",iy).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wc).getRegex()},oC={...Nh,html:ct(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Lh).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Uo,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ct(Ph).replace("hr",pa).replace("heading",` *#{1,6} *[^
]`).replace("lheading",C_).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},aC=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,lC=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,D_=/^( {2,}|\\)\n(?!\s*$)/,cC=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,xc=/[\p{P}\p{S}]/u,Mh=/[\s\p{P}\p{S}]/u,P_=/[^\s\p{P}\p{S}]/u,uC=ct(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Mh).getRegex(),$_=/(?!~)[\p{P}\p{S}]/u,dC=/(?!~)[\s\p{P}\p{S}]/u,fC=/(?:[^\s\p{P}\p{S}]|~)/u,hC=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,L_=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,pC=ct(L_,"u").replace(/punct/g,xc).getRegex(),mC=ct(L_,"u").replace(/punct/g,$_).getRegex(),N_="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",gC=ct(N_,"gu").replace(/notPunctSpace/g,P_).replace(/punctSpace/g,Mh).replace(/punct/g,xc).getRegex(),yC=ct(N_,"gu").replace(/notPunctSpace/g,fC).replace(/punctSpace/g,dC).replace(/punct/g,$_).getRegex(),bC=ct("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,P_).replace(/punctSpace/g,Mh).replace(/punct/g,xc).getRegex(),vC=ct(/\\(punct)/,"gu").replace(/punct/g,xc).getRegex(),_C=ct(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),wC=ct(Lh).replace("(?:-->|$)","-->").getRegex(),xC=ct("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",wC).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Dl=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,EC=ct(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Dl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),M_=ct(/^!?\[(label)\]\[(ref)\]/).replace("label",Dl).replace("ref",$h).getRegex(),F_=ct(/^!?\[(ref)\](?:\[\])?/).replace("ref",$h).getRegex(),AC=ct("reflink|nolink(?!\\()","g").replace("reflink",M_).replace("nolink",F_).getRegex(),Fh={_backpedal:Uo,anyPunctuation:vC,autolink:_C,blockSkip:hC,br:D_,code:lC,del:Uo,emStrongLDelim:pC,emStrongRDelimAst:gC,emStrongRDelimUnd:bC,escape:aC,link:EC,nolink:F_,punctuation:uC,reflink:M_,reflinkSearch:AC,tag:xC,text:cC,url:Uo},SC={...Fh,link:ct(/^!?\[(label)\]\((.*?)\)/).replace("label",Dl).getRegex(),reflink:ct(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Dl).getRegex()},ff={...Fh,emStrongRDelimAst:yC,emStrongLDelim:mC,url:ct(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},IC={...ff,br:ct(D_).replace("{2,}","*").getRegex(),text:ct(ff.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ma={normal:Nh,gfm:iC,pedantic:oC},vo={normal:Fh,gfm:ff,breaks:IC,pedantic:SC},TC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},oy=t=>TC[t];function xn(t,e){if(e){if(wr.escapeTest.test(t))return t.replace(wr.escapeReplace,oy)}else if(wr.escapeTestNoEncode.test(t))return t.replace(wr.escapeReplaceNoEncode,oy);return t}function ay(t){try{t=encodeURI(t).replace(wr.percentDecode,"%")}catch{return null}return t}function ly(t,e){var i;const r=t.replace(wr.findPipe,(o,a,l)=>{let c=!1,u=a;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),n=r.split(wr.splitPipe);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!((i=n.at(-1))!=null&&i.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(wr.slashPipe,"|");return n}function _o(t,e,r){const n=t.length;if(n===0)return"";let s=0;for(;s<n&&t.charAt(n-s-1)===e;)s++;return t.slice(0,n-s)}function RC(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return r>0?-2:-1}function cy(t,e,r,n,s){const i=e.href,o=e.title||null,a=t[1].replace(s.other.outputLinkReplace,"$1");n.state.inLink=!0;const l={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:i,title:o,text:a,tokens:n.inlineTokens(a)};return n.state.inLink=!1,l}function OC(t,e,r){const n=t.match(r.other.indentCodeCompensation);if(n===null)return e;const s=n[1];return e.split(`
`).map(i=>{const o=i.match(r.other.beginningSpace);if(o===null)return i;const[a]=o;return a.length>=s.length?i.slice(s.length):i}).join(`
`)}var Pl=class{constructor(t){it(this,"options");it(this,"rules");it(this,"lexer");this.options=t||di}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:_o(r,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const r=e[0],n=OC(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){const n=_o(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:_o(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let r=_o(e[0],`
`).split(`
`),n="",s="";const i=[];for(;r.length>0;){let o=!1;const a=[];let l;for(l=0;l<r.length;l++)if(this.rules.other.blockquoteStart.test(r[l]))a.push(r[l]),o=!0;else if(!o)a.push(r[l]);else break;r=r.slice(l);const c=a.join(`
`),u=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,s=s?`${s}
${u}`:u;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,i,!0),this.lexer.state.top=d,r.length===0)break;const f=i.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const h=f,m=h.raw+`
`+r.join(`
`),y=this.blockquote(m);i[i.length-1]=y,n=n.substring(0,n.length-h.raw.length)+y.raw,s=s.substring(0,s.length-h.text.length)+y.text;break}else if((f==null?void 0:f.type)==="list"){const h=f,m=h.raw+`
`+r.join(`
`),y=this.list(m);i[i.length-1]=y,n=n.substring(0,n.length-f.raw.length)+y.raw,s=s.substring(0,s.length-h.raw.length)+y.raw,r=m.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:i,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim();const n=r.length>1,s={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");const i=this.rules.other.listItemRegex(r);let o=!1;for(;t;){let l=!1,c="",u="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,x=>" ".repeat(3*x.length)),f=t.split(`
`,1)[0],h=!d.trim(),m=0;if(this.options.pedantic?(m=2,u=d.trimStart()):h?m=e[1].length+1:(m=e[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,u=d.slice(m),m+=e[1].length),h&&this.rules.other.blankLine.test(f)&&(c+=f+`
`,t=t.substring(f.length+1),l=!0),!l){const x=this.rules.other.nextBulletRegex(m),A=this.rules.other.hrRegex(m),w=this.rules.other.fencesBeginRegex(m),p=this.rules.other.headingBeginRegex(m),b=this.rules.other.htmlBeginRegex(m);for(;t;){const E=t.split(`
`,1)[0];let T;if(f=E,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),T=f):T=f.replace(this.rules.other.tabCharGlobal,"    "),w.test(f)||p.test(f)||b.test(f)||x.test(f)||A.test(f))break;if(T.search(this.rules.other.nonSpaceChar)>=m||!f.trim())u+=`
`+T.slice(m);else{if(h||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||w.test(d)||p.test(d)||A.test(d))break;u+=`
`+f}!h&&!f.trim()&&(h=!0),c+=E+`
`,t=t.substring(E.length+1),d=T.slice(m)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let y=null,_;this.options.gfm&&(y=this.rules.other.listIsTask.exec(u),y&&(_=y[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:c,task:!!y,checked:_,loose:!1,text:u,tokens:[]}),s.raw+=c}const a=s.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){const c=s.items[l].tokens.filter(d=>d.type==="space"),u=c.length>0&&c.some(d=>this.rules.other.anyLine.test(d.raw));s.loose=u}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:n,title:s}}}table(t){var o;const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const r=ly(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===n.length){for(const a of n)this.rules.other.tableAlignRight.test(a)?i.align.push("right"):this.rules.other.tableAlignCenter.test(a)?i.align.push("center"):this.rules.other.tableAlignLeft.test(a)?i.align.push("left"):i.align.push(null);for(let a=0;a<r.length;a++)i.header.push({text:r[a],tokens:this.lexer.inline(r[a]),header:!0,align:i.align[a]});for(const a of s)i.rows.push(ly(a,i.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:i.align[c]})));return i}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const i=_o(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{const i=RC(e[2],"()");if(i===-2)return;if(i>-1){const a=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,a).trim(),e[3]=""}}let n=e[2],s="";if(this.options.pedantic){const i=this.rules.other.pedanticHrefTitle.exec(n);i&&(n=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),cy(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[n.toLowerCase()];if(!s){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return cy(r,s,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const i=[...n[0]].length-1;let o,a,l=i,c=0;const u=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+i);(n=u.exec(e))!=null;){if(o=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!o)continue;if(a=[...o].length,n[3]||n[4]){l+=a;continue}else if((n[5]||n[6])&&i%3&&!((i+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);const d=[...n[0]][0].length,f=t.slice(0,i+n.index+d+a);if(Math.min(i,a)%2){const m=f.slice(1,-1);return{type:"em",raw:f,text:m,tokens:this.lexer.inlineTokens(m)}}const h=f.slice(2,-2);return{type:"strong",raw:f,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let r,n;return e[2]==="@"?(r=e[1],n="mailto:"+r):(r=e[1],n=r),{type:"link",raw:e[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let e;if(e=this.rules.inline.url.exec(t)){let n,s;if(e[2]==="@")n=e[0],s="mailto:"+n;else{let i;do i=e[0],e[0]=((r=this.rules.inline._backpedal.exec(e[0]))==null?void 0:r[0])??"";while(i!==e[0]);n=e[0],e[1]==="www."?s="http://"+e[0]:s=e[0]}return{type:"link",raw:e[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},Yn=class hf{constructor(e){it(this,"tokens");it(this,"options");it(this,"state");it(this,"tokenizer");it(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||di,this.options.tokenizer=this.options.tokenizer||new Pl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:wr,block:Ma.normal,inline:vo.normal};this.options.pedantic?(r.block=Ma.pedantic,r.inline=vo.pedantic):this.options.gfm&&(r.block=Ma.gfm,this.options.breaks?r.inline=vo.breaks:r.inline=vo.gfm),this.tokenizer.rules=r}static get rules(){return{block:Ma,inline:vo}}static lex(e,r){return new hf(r).lex(e)}static lexInline(e,r){return new hf(r).inlineTokens(e)}lex(e){e=e.replace(wr.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){var s,i,o;for(this.options.pedantic&&(e=e.replace(wr.tabCharGlobal,"    ").replace(wr.spaceLine,""));e;){let a;if((i=(s=this.options.extensions)==null?void 0:s.block)!=null&&i.some(c=>(a=c.call({lexer:this},e,r))?(e=e.substring(a.raw.length),r.push(a),!0):!1))continue;if(a=this.tokenizer.space(e)){e=e.substring(a.raw.length);const c=r.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:r.push(a);continue}if(a=this.tokenizer.code(e)){e=e.substring(a.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):r.push(a);continue}if(a=this.tokenizer.fences(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.heading(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.hr(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.blockquote(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.list(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.html(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.def(e)){e=e.substring(a.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(e)){e=e.substring(a.raw.length),r.push(a);continue}if(a=this.tokenizer.lheading(e)){e=e.substring(a.raw.length),r.push(a);continue}let l=e;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0;const u=e.slice(1);let d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},u),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){const c=r.at(-1);n&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(a),n=l.length!==e.length,e=e.substring(a.raw.length);continue}if(a=this.tokenizer.text(e)){e=e.substring(a.raw.length);const c=r.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):r.push(a);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var a,l,c;let n=e,s=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,s.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,o="";for(;e;){i||(o=""),i=!1;let u;if((l=(a=this.options.extensions)==null?void 0:a.inline)!=null&&l.some(f=>(u=f.call({lexer:this},e,r))?(e=e.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);const f=r.at(-1);u.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(e,n,o)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),r.push(u);continue}let d=e;if((c=this.options.extensions)!=null&&c.startInline){let f=1/0;const h=e.slice(1);let m;this.options.extensions.startInline.forEach(y=>{m=y.call({lexer:this},h),typeof m=="number"&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(d=e.substring(0,f+1))}if(u=this.tokenizer.inlineText(d)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(o=u.raw.slice(-1)),i=!0;const f=r.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):r.push(u);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return r}},Hi=class{constructor(t){it(this,"options");it(this,"parser");this.options=t||di}space(t){return""}code({text:t,lang:e,escaped:r}){var i;const n=(i=(e||"").match(wr.notSpaceStart))==null?void 0:i[0],s=t.replace(wr.endingNewline,"")+`
`;return n?'<pre><code class="language-'+xn(n)+'">'+(r?s:xn(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:xn(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,r=t.start;let n="";for(let o=0;o<t.items.length;o++){const a=t.items[o];n+=this.listitem(a)}const s=e?"ol":"ul",i=e&&r!==1?' start="'+r+'"':"";return"<"+s+i+`>
`+n+"</"+s+`>
`}listitem(t){var r;let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?((r=t.tokens[0])==null?void 0:r.type)==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+xn(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let s=0;s<t.header.length;s++)r+=this.tablecell(t.header[s]);e+=this.tablerow({text:r});let n="";for(let s=0;s<t.rows.length;s++){const i=t.rows[s];r="";for(let o=0;o<i.length;o++)r+=this.tablecell(i[o]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${xn(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){const n=this.parser.parseInline(r),s=ay(t);if(s===null)return n;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+xn(e)+'"'),i+=">"+n+"</a>",i}image({href:t,title:e,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));const s=ay(t);if(s===null)return xn(r);t=s;let i=`<img src="${t}" alt="${r}"`;return e&&(i+=` title="${xn(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:xn(t.text)}},jh=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Qn=class pf{constructor(e){it(this,"options");it(this,"renderer");it(this,"textRenderer");this.options=e||di,this.options.renderer=this.options.renderer||new Hi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new jh}static parse(e,r){return new pf(r).parse(e)}static parseInline(e,r){return new pf(r).parseInline(e)}parse(e,r=!0){var s,i;let n="";for(let o=0;o<e.length;o++){const a=e[o];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){const c=a,u=this.options.extensions.renderers[c.type].call({parser:this},c);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){n+=u||"";continue}}const l=a;switch(l.type){case"space":{n+=this.renderer.space(l);continue}case"hr":{n+=this.renderer.hr(l);continue}case"heading":{n+=this.renderer.heading(l);continue}case"code":{n+=this.renderer.code(l);continue}case"table":{n+=this.renderer.table(l);continue}case"blockquote":{n+=this.renderer.blockquote(l);continue}case"list":{n+=this.renderer.list(l);continue}case"html":{n+=this.renderer.html(l);continue}case"paragraph":{n+=this.renderer.paragraph(l);continue}case"text":{let c=l,u=this.renderer.text(c);for(;o+1<e.length&&e[o+1].type==="text";)c=e[++o],u+=`
`+this.renderer.text(c);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}parseInline(e,r=this.renderer){var s,i;let n="";for(let o=0;o<e.length;o++){const a=e[o];if((i=(s=this.options.extensions)==null?void 0:s.renderers)!=null&&i[a.type]){const c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){n+=c||"";continue}}const l=a;switch(l.type){case"escape":{n+=r.text(l);break}case"html":{n+=r.html(l);break}case"link":{n+=r.link(l);break}case"image":{n+=r.image(l);break}case"strong":{n+=r.strong(l);break}case"em":{n+=r.em(l);break}case"codespan":{n+=r.codespan(l);break}case"br":{n+=r.br(l);break}case"del":{n+=r.del(l);break}case"text":{n+=r.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return n}},Rd,dl=(Rd=class{constructor(t){it(this,"options");it(this,"block");this.options=t||di}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Yn.lex:Yn.lexInline}provideParser(){return this.block?Qn.parse:Qn.parseInline}},it(Rd,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Rd),CC=class{constructor(...t){it(this,"defaults",kh());it(this,"options",this.setOptions);it(this,"parse",this.parseMarkdown(!0));it(this,"parseInline",this.parseMarkdown(!1));it(this,"Parser",Qn);it(this,"Renderer",Hi);it(this,"TextRenderer",jh);it(this,"Lexer",Yn);it(this,"Tokenizer",Pl);it(this,"Hooks",dl);this.use(...t)}walkTokens(t,e){var n,s;let r=[];for(const i of t)switch(r=r.concat(e.call(this,i)),i.type){case"table":{const o=i;for(const a of o.header)r=r.concat(this.walkTokens(a.tokens,e));for(const a of o.rows)for(const l of a)r=r.concat(this.walkTokens(l.tokens,e));break}case"list":{const o=i;r=r.concat(this.walkTokens(o.items,e));break}default:{const o=i;(s=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&s[o.type]?this.defaults.extensions.childTokens[o.type].forEach(a=>{const l=o[a].flat(1/0);r=r.concat(this.walkTokens(l,e))}):o.tokens&&(r=r.concat(this.walkTokens(o.tokens,e)))}}return r}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const i=e.renderers[s.name];i?e.renderers[s.name]=function(...o){let a=s.renderer.apply(this,o);return a===!1&&(a=i.apply(this,o)),a}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),n.extensions=e),r.renderer){const s=this.defaults.renderer||new Hi(this.defaults);for(const i in r.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;const o=i,a=r.renderer[o],l=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u||""}}n.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new Pl(this.defaults);for(const i in r.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;const o=i,a=r.tokenizer[o],l=s[o];s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u}}n.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new dl;for(const i in r.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;const o=i,a=r.hooks[o],l=s[o];dl.passThroughHooks.has(i)?s[o]=c=>{if(this.defaults.async)return Promise.resolve(a.call(s,c)).then(d=>l.call(s,d));const u=a.call(s,c);return l.call(s,u)}:s[o]=(...c)=>{let u=a.apply(s,c);return u===!1&&(u=l.apply(s,c)),u}}n.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,i=r.walkTokens;n.walkTokens=function(o){let a=[];return a.push(i.call(this,o)),s&&(a=a.concat(s.call(this,o))),a}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Yn.lex(t,e??this.defaults)}parser(t,e){return Qn.parse(t,e??this.defaults)}parseMarkdown(t){return(r,n)=>{const s={...n},i={...this.defaults,...s},o=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&s.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));i.hooks&&(i.hooks.options=i,i.hooks.block=t);const a=i.hooks?i.hooks.provideLexer():t?Yn.lex:Yn.lexInline,l=i.hooks?i.hooks.provideParser():t?Qn.parse:Qn.parseInline;if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(c=>a(c,i)).then(c=>i.hooks?i.hooks.processAllTokens(c):c).then(c=>i.walkTokens?Promise.all(this.walkTokens(c,i.walkTokens)).then(()=>c):c).then(c=>l(c,i)).then(c=>i.hooks?i.hooks.postprocess(c):c).catch(o);try{i.hooks&&(r=i.hooks.preprocess(r));let c=a(r,i);i.hooks&&(c=i.hooks.processAllTokens(c)),i.walkTokens&&this.walkTokens(c,i.walkTokens);let u=l(c,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(c){return o(c)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const n="<p>An error occurred:</p><pre>"+xn(r.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(r);throw r}}},ci=new CC;function ft(t,e){return ci.parse(t,e)}ft.options=ft.setOptions=function(t){return ci.setOptions(t),ft.defaults=ci.defaults,R_(ft.defaults),ft};ft.getDefaults=kh;ft.defaults=di;ft.use=function(...t){return ci.use(...t),ft.defaults=ci.defaults,R_(ft.defaults),ft};ft.walkTokens=function(t,e){return ci.walkTokens(t,e)};ft.parseInline=ci.parseInline;ft.Parser=Qn;ft.parser=Qn.parse;ft.Renderer=Hi;ft.TextRenderer=jh;ft.Lexer=Yn;ft.lexer=Yn.lex;ft.Tokenizer=Pl;ft.Hooks=dl;ft.parse=ft;ft.options;ft.setOptions;ft.use;ft.walkTokens;ft.parseInline;Qn.parse;Yn.lex;const j_=Symbol();function Uh(){return hr(j_)??We("Could not inject modal controller, are you calling injectModal() or useModal() outside of a modal component?")}function kC(t){Us(j_,t)}function DC(t){let e=!1;const r=Uh();return(t==null?void 0:t.removeOnClose)!==void 0&&st(r,(n,s)=>{n.removeOnClose.value=!!(t!=null&&t.removeOnClose),n.visible.value=e,!(!s||!e)&&(s.visible.value=!1)},{immediate:!0}),Qt(()=>(e=!0,r.value.visible.value=!0)),{id:re(()=>r.value.id),visible:re(()=>r.value.visible.value),child:re(()=>r.value.child.value),close:n=>r.value.close(n),remove:()=>r.value.remove()}}const mf=be({__name:"ModalComponent",props:{is:{}},setup(t){const e=Fn(t.is),r=re(()=>{const n={};for(const s in t.is.props)n[s]=C(t.is.props[s]);return n});return kC(e),st(()=>t.is,()=>void(e.value=t.is)),(n,s)=>(J(),ge(Bs(t.is.component),Ve(r.value,{onClose:s[0]||(s[0]=i=>t.is.close(i))}),null,16))}}),Tt=Fn([]),PC=["data-open"],$C=be({__name:"ModalsPortal",props:{nested:{type:Boolean,default:!1}},setup(t){return(e,r)=>(J(),Se("div",{"data-open":C(Tt).length?"true":void 0},[Ie(e.$slots,"overlay",{show:C(Tt).length>0}),t.nested?C(Tt)[0]?(J(),ge(mf,{key:1,is:C(Tt)[0]},null,8,["is"])):Ge("",!0):(J(!0),Se(Ze,{key:0},Un(C(Tt),n=>(J(),ge(mf,{key:n.id,is:n},null,8,["is"]))),128))],8,PC))}});function U_(t,e){const r=Ar(),n=e??{},s=Ae(!1),i=Ae(!0),o=Fn(null),a=new ks,l=st(s,d=>d||c()),c=async d=>{l.stop(),s.value=!1,Q1(d)?a.resolve({dismissed:!1,...d}):d!==void 0?a.resolve({dismissed:!1,response:d}):a.resolve({dismissed:!0}),i.value&&u()},u=()=>{var h,m,y;const d=Tt.value.findIndex(_=>_.id===r);if(d===-1)return;(h=Tt.value[d])!=null&&h.visible.value&&((m=Tt.value[d])==null||m.close());const f=Tt.value[d-1];f&&(f.child.value=((y=Tt.value[d])==null?void 0:y.child.value)??null),Tt.value=Tt.value.filter(_=>_.id!==r)};return{id:r,component:t,props:n,removeOnClose:i,visible:s,child:o,close:c,remove:u,promisedResult:a}}function uy(t,e){const r="removeOnClose"in t?t:U_(t,e??{}),n=Tt.value[Tt.value.length-1];return n&&(n.child.value=r),Tt.value=Tt.value.concat([r]),r.promisedResult}async function dy(t,e={}){const r=Tt.value.find(n=>n.id===t);r&&(r.close(),e.remove&&r.remove(),e.removeAfter&&(await Rn(e.removeAfter),r.remove()))}function B_(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=B_(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function q_(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=B_(t))&&(n&&(n+=" "),n+=e);return n}const fy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hy=q_,LC=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return hy(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const u=r==null?void 0:r[c],d=i==null?void 0:i[c];if(u===null)return null;const f=fy(u)||fy(d);return s[c][f]}),a=r&&Object.entries(r).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(m=>{let[y,_]=m;return Array.isArray(_)?_.includes({...i,...a}[y]):{...i,...a}[y]===_})?[...c,d,f]:c},[]);return hy(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)},NC=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},MC=(t,e)=>({classGroupId:t,validator:e}),V_=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),$l="-",py=[],FC="arbitrary..",jC=t=>{const e=BC(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return UC(o);const a=o.split($l),l=a[0]===""&&a.length>1?1:0;return H_(a,l,e)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=n[o],c=r[o];return l?c?NC(c,l):l:c||py}return r[o]||py}}},H_=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const s=t[e],i=r.nextPart.get(s);if(i){const c=H_(t,e+1,i);if(c)return c}const o=r.validators;if(o===null)return;const a=e===0?t.join($l):t.slice(e).join($l),l=o.length;for(let c=0;c<l;c++){const u=o[c];if(u.validator(a))return u.classGroupId}},UC=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?FC+n:void 0})(),BC=t=>{const{theme:e,classGroups:r}=t;return qC(r,e)},qC=(t,e)=>{const r=V_();for(const n in t){const s=t[n];Bh(s,r,n,e)}return r},Bh=(t,e,r,n)=>{const s=t.length;for(let i=0;i<s;i++){const o=t[i];VC(o,e,r,n)}},VC=(t,e,r,n)=>{if(typeof t=="string"){HC(t,e,r);return}if(typeof t=="function"){zC(t,e,r,n);return}WC(t,e,r,n)},HC=(t,e,r)=>{const n=t===""?e:z_(e,t);n.classGroupId=r},zC=(t,e,r,n)=>{if(KC(t)){Bh(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(MC(r,t))},WC=(t,e,r,n)=>{const s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,l]=s[o];Bh(l,z_(e,a),r,n)}},z_=(t,e)=>{let r=t;const n=e.split($l),s=n.length;for(let i=0;i<s;i++){const o=n[i];let a=r.nextPart.get(o);a||(a=V_(),r.nextPart.set(o,a)),r=a}return r},KC=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,GC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const s=(i,o)=>{r[i]=o,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return s(i,o),o},set(i,o){i in r?r[i]=o:s(i,o)}}},gf="!",my=":",JC=[],gy=(t,e,r,n,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),XC=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=s=>{const i=[];let o=0,a=0,l=0,c;const u=s.length;for(let y=0;y<u;y++){const _=s[y];if(o===0&&a===0){if(_===my){i.push(s.slice(l,y)),l=y+1;continue}if(_==="/"){c=y;continue}}_==="["?o++:_==="]"?o--:_==="("?a++:_===")"&&a--}const d=i.length===0?s:s.slice(l);let f=d,h=!1;d.endsWith(gf)?(f=d.slice(0,-1),h=!0):d.startsWith(gf)&&(f=d.slice(1),h=!0);const m=c&&c>l?c-l:void 0;return gy(i,h,f,m)};if(e){const s=e+my,i=n;n=o=>o.startsWith(s)?i(o.slice(s.length)):gy(JC,!1,o,void 0,!0)}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},YC=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let s=[];for(let i=0;i<r.length;i++){const o=r[i],a=o[0]==="[",l=e.has(o);a||l?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(o)):s.push(o)}return s.length>0&&(s.sort(),n.push(...s)),n}},QC=t=>({cache:GC(t.cacheSize),parseClassName:XC(t),sortModifiers:YC(t),...jC(t)}),ZC=/\s+/,ek=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],a=t.trim().split(ZC);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:d,modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:y}=r(u);if(d){l=u+(l.length>0?" "+l:l);continue}let _=!!y,x=n(_?m.substring(0,y):m);if(!x){if(!_){l=u+(l.length>0?" "+l:l);continue}if(x=n(m),!x){l=u+(l.length>0?" "+l:l);continue}_=!1}const A=f.length===0?"":f.length===1?f[0]:i(f).join(":"),w=h?A+gf:A,p=w+x;if(o.indexOf(p)>-1)continue;o.push(p);const b=s(x,_);for(let E=0;E<b.length;++E){const T=b[E];o.push(w+T)}l=u+(l.length>0?" "+l:l)}return l},tk=(...t)=>{let e=0,r,n,s="";for(;e<t.length;)(r=t[e++])&&(n=W_(r))&&(s&&(s+=" "),s+=n);return s},W_=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=W_(t[n]))&&(r&&(r+=" "),r+=e);return r},rk=(t,...e)=>{let r,n,s,i;const o=l=>{const c=e.reduce((u,d)=>d(u),t());return r=QC(c),n=r.cache.get,s=r.cache.set,i=a,a(l)},a=l=>{const c=n(l);if(c)return c;const u=ek(l,r);return s(l,u),u};return i=o,(...l)=>i(tk(...l))},nk=[],Ft=t=>{const e=r=>r[t]||nk;return e.isThemeGetter=!0,e},K_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,G_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,sk=/^\d+\/\d+$/,ik=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ok=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ak=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,lk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ck=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_i=t=>sk.test(t),Ke=t=>!!t&&!Number.isNaN(Number(t)),fs=t=>!!t&&Number.isInteger(Number(t)),dd=t=>t.endsWith("%")&&Ke(t.slice(0,-1)),Wn=t=>ik.test(t),uk=()=>!0,dk=t=>ok.test(t)&&!ak.test(t),J_=()=>!1,fk=t=>lk.test(t),hk=t=>ck.test(t),pk=t=>!ke(t)&&!De(t),mk=t=>Yi(t,Q_,J_),ke=t=>K_.test(t),Qs=t=>Yi(t,Z_,dk),fd=t=>Yi(t,_k,Ke),yy=t=>Yi(t,X_,J_),gk=t=>Yi(t,Y_,hk),Fa=t=>Yi(t,ew,fk),De=t=>G_.test(t),wo=t=>Qi(t,Z_),yk=t=>Qi(t,wk),by=t=>Qi(t,X_),bk=t=>Qi(t,Q_),vk=t=>Qi(t,Y_),ja=t=>Qi(t,ew,!0),Yi=(t,e,r)=>{const n=K_.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},Qi=(t,e,r=!1)=>{const n=G_.exec(t);return n?n[1]?e(n[1]):r:!1},X_=t=>t==="position"||t==="percentage",Y_=t=>t==="image"||t==="url",Q_=t=>t==="length"||t==="size"||t==="bg-size",Z_=t=>t==="length",_k=t=>t==="number",wk=t=>t==="family-name",ew=t=>t==="shadow",xk=()=>{const t=Ft("color"),e=Ft("font"),r=Ft("text"),n=Ft("font-weight"),s=Ft("tracking"),i=Ft("leading"),o=Ft("breakpoint"),a=Ft("container"),l=Ft("spacing"),c=Ft("radius"),u=Ft("shadow"),d=Ft("inset-shadow"),f=Ft("text-shadow"),h=Ft("drop-shadow"),m=Ft("blur"),y=Ft("perspective"),_=Ft("aspect"),x=Ft("ease"),A=Ft("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],p=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],b=()=>[...p(),De,ke],E=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],I=()=>[De,ke,l],O=()=>[_i,"full","auto",...I()],P=()=>[fs,"none","subgrid",De,ke],W=()=>["auto",{span:["full",fs,De,ke]},fs,De,ke],B=()=>[fs,"auto",De,ke],U=()=>["auto","min","max","fr",De,ke],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...I()],q=()=>[_i,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],F=()=>[t,De,ke],ee=()=>[...p(),by,yy,{position:[De,ke]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",bk,mk,{size:[De,ke]}],oe=()=>[dd,wo,Qs],ae=()=>["","none","full",c,De,ke],we=()=>["",Ke,wo,Qs],z=()=>["solid","dashed","dotted","double"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[Ke,dd,by,yy],le=()=>["","none",m,De,ke],ve=()=>["none",Ke,De,ke],ce=()=>["none",Ke,De,ke],Te=()=>[Ke,De,ke],L=()=>[_i,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wn],breakpoint:[Wn],color:[uk],container:[Wn],"drop-shadow":[Wn],ease:["in","out","in-out"],font:[pk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wn],shadow:[Wn],spacing:["px",Ke],text:[Wn],"text-shadow":[Wn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_i,ke,De,_]}],container:["container"],columns:[{columns:[Ke,ke,De,a]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[fs,"auto",De,ke]}],basis:[{basis:[_i,"full","auto",a,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,_i,"auto","initial","none",ke]}],grow:[{grow:["",Ke,De,ke]}],shrink:[{shrink:["",Ke,De,ke]}],order:[{order:[fs,"first","last","none",De,ke]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[a,"screen",...q()]}],"min-w":[{"min-w":[a,"screen","none",...q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",r,wo,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,De,fd]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",dd,ke]}],"font-family":[{font:[yk,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,De,ke]}],"line-clamp":[{"line-clamp":[Ke,"none",De,fd]}],leading:[{leading:[i,...I()]}],"list-image":[{"list-image":["none",De,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",De,Qs]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Ke,"auto",De,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fs,De,ke],radial:["",De,ke],conic:[fs,De,ke]},vk,gk]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,De,ke]}],"outline-w":[{outline:["",Ke,wo,Qs]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",u,ja,Fa]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",d,ja,Fa]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Ke,Qs]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",f,ja,Fa]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Ke,De,ke]}],"mix-blend":[{"mix-blend":[...H(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":H()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[De,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":p()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,ke]}],filter:[{filter:["","none",De,ke]}],blur:[{blur:le()}],brightness:[{brightness:[Ke,De,ke]}],contrast:[{contrast:[Ke,De,ke]}],"drop-shadow":[{"drop-shadow":["","none",h,ja,Fa]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Ke,De,ke]}],"hue-rotate":[{"hue-rotate":[Ke,De,ke]}],invert:[{invert:["",Ke,De,ke]}],saturate:[{saturate:[Ke,De,ke]}],sepia:[{sepia:["",Ke,De,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",De,ke]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,De,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,De,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,De,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,De,ke]}],"backdrop-invert":[{"backdrop-invert":["",Ke,De,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,De,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,De,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,De,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",De,ke]}],ease:[{ease:["linear","initial",x,De,ke]}],delay:[{delay:[Ke,De,ke]}],animate:[{animate:["none",A,De,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,De,ke]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[De,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:L()}],"translate-x":[{"translate-x":L()}],"translate-y":[{"translate-y":L()}],"translate-z":[{"translate-z":L()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,ke]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Ke,wo,Qs,fd]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ek=rk(xk);function vy(t){return typeof t=="string"?`'${t}'`:new Ak().serialize(t)}const Ak=(function(){var e;class t{constructor(){$p(this,e,new Map)}compare(n,s){const i=typeof n,o=typeof s;return i==="string"&&o==="string"?n.localeCompare(s):i==="number"&&o==="number"?n-s:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(s,!0))}serialize(n,s){if(n===null)return"null";switch(typeof n){case"string":return s?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const s=Object.prototype.toString.call(n);if(s!=="[object Object]")return this.serializeBuiltInType(s.length<10?`unknown:${s}`:s.slice(8,-1),n);const i=n.constructor,o=i===Object||i===void 0?"":i.name;if(o!==""&&globalThis[o]===i)return this.serializeBuiltInType(o,n);if(typeof n.toJSON=="function"){const a=n.toJSON();return o+(a!==null&&typeof a=="object"?this.$object(a):`(${this.serialize(a)})`)}return this.serializeObjectEntries(o,Object.entries(n))}serializeBuiltInType(n,s){const i=this["$"+n];if(i)return i.call(this,s);if(typeof(s==null?void 0:s.entries)=="function")return this.serializeObjectEntries(n,s.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,s){const i=Array.from(s).sort((a,l)=>this.compare(a[0],l[0]));let o=`${n}{`;for(let a=0;a<i.length;a++){const[l,c]=i[a];o+=`${this.serialize(l,!0)}:${this.serialize(c)}`,a<i.length-1&&(o+=",")}return o+"}"}$object(n){let s=so(this,e).get(n);return s===void 0&&(so(this,e).set(n,`#${so(this,e).size}`),s=this.serializeObject(n),so(this,e).set(n,s)),s}$function(n){const s=Function.prototype.toString.call(n);return s.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${s.replace(/\s*\n\s*/g,"")}`}$Array(n){let s="[";for(let i=0;i<n.length;i++)s+=this.serialize(n[i]),i<n.length-1&&(s+=",");return s+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((s,i)=>this.compare(s,i)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}e=new WeakMap;for(const r of["Error","RegExp","URL"])t.prototype["$"+r]=function(n){return`${r}(${n})`};for(const r of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+r]=function(n){return`${r}[${n.join(",")}]`};for(const r of["BigInt64Array","BigUint64Array"])t.prototype["$"+r]=function(n){return`${r}[${n.join("n,")}${n.length>0?"n":""}]`};return t})();function Sk(t,e){return t===e||vy(t)===vy(e)}function _y(t,e=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY){return Math.min(r,Math.max(e,t))}function gn(t,e){const r=typeof t=="string"&&!e?`${t}Context`:e,n=Symbol(r);return[o=>{const a=hr(n,o);if(a||a===null)return a;throw new Error(`Injection \`${n.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},o=>(Us(n,o),o)]}function Er(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function qh(t,e,r){const n=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&n.addEventListener(t,e,{once:!0}),n.dispatchEvent(s)}function wy(t){return t==null}function Vh(t){return t?t.flatMap(e=>e.type===Ze?Vh(e.children):[e]):[]}const[Hh]=gn("ConfigProvider");function Ik(t,e){var r;const n=Fn();return Bt(()=>{n.value=t()},{...e,flush:(r=void 0)!=null?r:"sync"}),Pn(n)}function Zi(t){return uc()?(bh(t),!0):!1}function Tk(t){let e=!1,r;const n=ca(!0);return(...s)=>(e||(r=n.run(()=>t(...s)),e=!0),r)}function Rk(t){let e=0,r,n;const s=()=>{e-=1,n&&e<=0&&(n.stop(),r=void 0,n=void 0)};return(...i)=>(e+=1,n||(n=ca(!0),r=n.run(()=>t(...i))),Zi(s),r)}const Bn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ok=t=>typeof t<"u",Ck=Object.prototype.toString,kk=t=>Ck.call(t)==="[object Object]",Dk=()=>{},xy=Pk();function Pk(){var t,e;return Bn&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function $k(t){return Fr()}function hd(t){return Array.isArray(t)?t:[t]}function Lk(t,e=1e4){return O0((r,n)=>{let s=Yt(t),i;const o=()=>setTimeout(()=>{s=Yt(t),n()},Yt(e));return Zi(()=>{clearTimeout(i)}),{get(){return r(),s},set(a){s=a,n(),clearTimeout(i),i=o()}}})}function Nk(t,e){$k()&&H0(t,e)}function Mk(t,e,r={}){const{immediate:n=!0,immediateCallback:s=!1}=r,i=Fn(!1);let o=null;function a(){o&&(clearTimeout(o),o=null)}function l(){i.value=!1,a()}function c(...u){s&&t(),a(),i.value=!0,o=setTimeout(()=>{i.value=!1,o=null,t(...u)},Yt(e))}return n&&(i.value=!0,Bn&&c()),Zi(l),{isPending:Pn(i),start:c,stop:l}}function Fk(t=1e3,e={}){const{controls:r=!1,callback:n}=e,s=Mk(n??Dk,t,e),i=re(()=>!s.isPending.value);return r?{ready:i,...s}:i}function jk(t,e,r){return st(t,e,{...r,immediate:!0})}const ma=Bn?window:void 0;function Jr(t){var e;const r=Yt(t);return(e=r==null?void 0:r.$el)!=null?e:r}function tw(...t){const e=[],r=()=>{e.forEach(a=>a()),e.length=0},n=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),s=re(()=>{const a=hd(Yt(t[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),i=jk(()=>{var a,l;return[(l=(a=s.value)==null?void 0:a.map(c=>Jr(c)))!=null?l:[ma].filter(c=>c!=null),hd(Yt(s.value?t[1]:t[0])),hd(C(s.value?t[2]:t[1])),Yt(s.value?t[3]:t[2])]},([a,l,c,u])=>{if(r(),!(a!=null&&a.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const d=kk(u)?{...u}:u;e.push(...a.flatMap(f=>l.flatMap(h=>c.map(m=>n(f,h,m,d)))))},{flush:"post"}),o=()=>{i(),r()};return Zi(r),o}function rw(){const t=Fn(!1),e=Fr();return e&&Qt(()=>{t.value=!0},e),t}function Uk(t){const e=rw();return re(()=>(e.value,!!t()))}function Bk(t){return typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0}function zh(...t){let e,r,n={};t.length===3?(e=t[0],r=t[1],n=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,r=t[0],n=t[1]):(e=t[0],r=t[1]):(e=!0,r=t[0]);const{target:s=ma,eventName:i="keydown",passive:o=!1,dedupe:a=!1}=n,l=Bk(e);return tw(s,i,u=>{u.repeat&&Yt(a)||l(u)&&r(u)},o)}function nw(t,e={}){const{immediate:r=!0,fpsLimit:n=void 0,window:s=ma,once:i=!1}=e,o=Fn(!1),a=re(()=>n?1e3/Yt(n):null);let l=0,c=null;function u(h){if(!o.value||!s)return;l||(l=h);const m=h-l;if(a.value&&m<a.value){c=s.requestAnimationFrame(u);return}if(l=h,t({delta:m,timestamp:h}),i){o.value=!1,c=null;return}c=s.requestAnimationFrame(u)}function d(){!o.value&&s&&(o.value=!0,l=0,c=s.requestAnimationFrame(u))}function f(){o.value=!1,c!=null&&s&&(s.cancelAnimationFrame(c),c=null)}return r&&d(),Zi(f),{isActive:Pn(o),pause:f,resume:d}}function qk(t){return JSON.parse(JSON.stringify(t))}function Vk(t,e,r={}){const{window:n=ma,...s}=r;let i;const o=Uk(()=>n&&"ResizeObserver"in n),a=()=>{i&&(i.disconnect(),i=void 0)},l=re(()=>{const d=Yt(t);return Array.isArray(d)?d.map(f=>Jr(f)):[Jr(d)]}),c=st(l,d=>{if(a(),o.value&&n){i=new ResizeObserver(e);for(const f of d)f&&i.observe(f,s)}},{immediate:!0,flush:"post"}),u=()=>{a(),c()};return Zi(u),{isSupported:o,stop:u}}function Xo(t,e,r,n={}){var s,i,o;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=n,h=Fr(),m=r||(h==null?void 0:h.emit)||((s=h==null?void 0:h.$emit)==null?void 0:s.bind(h))||((o=(i=h==null?void 0:h.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let y=c;e||(e="modelValue"),y=y||`update:${e.toString()}`;const _=w=>a?typeof a=="function"?a(w):qk(w):w,x=()=>Ok(t[e])?_(t[e]):d,A=w=>{f?f(w)&&m(y,w):m(y,w)};if(l){const w=x(),p=Ae(w);let b=!1;return st(()=>t[e],E=>{b||(b=!0,p.value=_(E),_r(()=>b=!1))}),st(p,E=>{!b&&(E!==t[e]||u)&&A(E)},{deep:u}),p}else return re({get(){return x()},set(w){A(w)}})}function pd(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function yf(t,e,r=".",n){if(!pd(e))return yf(t,{},r,n);const s=Object.assign({},e);for(const i in t){if(i==="__proto__"||i==="constructor")continue;const o=t[i];o!=null&&(n&&n(s,i,o,r)||(Array.isArray(o)&&Array.isArray(s[i])?s[i]=[...o,...s[i]]:pd(o)&&pd(s[i])?s[i]=yf(o,s[i],(r?`${r}.`:"")+i.toString(),n):s[i]=o))}return s}function Hk(t){return(...e)=>e.reduce((r,n)=>yf(r,n,"",t),{})}const zk=Hk(),Wk=Rk(()=>{const t=Ae(new Map),e=Ae(),r=re(()=>{for(const o of t.value.values())if(o)return!0;return!1}),n=Hh({scrollBody:Ae(!0)});let s=null;const i=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=e.value??"",xy&&(s==null||s()),e.value=void 0};return st(r,(o,a)=>{var d;if(!Bn)return;if(!o){a&&i();return}e.value===void 0&&(e.value=document.body.style.overflow);const l=window.innerWidth-document.documentElement.clientWidth,c={padding:l,margin:0},u=(d=n.scrollBody)!=null&&d.value?typeof n.scrollBody.value=="object"?zk({padding:n.scrollBody.value.padding===!0?l:n.scrollBody.value.padding,margin:n.scrollBody.value.margin===!0?l:n.scrollBody.value.margin},c):c:{padding:0,margin:0};l>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.documentElement.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),xy&&(s=tw(document,"touchmove",f=>Kk(f),{passive:!1})),_r(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function sw(t){const e=Math.random().toString(36).substring(2,7),r=Wk();r.value.set(e,t??!1);const n=re({get:()=>r.value.get(e)??!1,set:s=>r.value.set(e,s)});return Nk(()=>{r.value.delete(e)}),n}function iw(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientWidth<t.scrollWidth||e.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const r=t.parentNode;return!(r instanceof Element)||r.tagName==="BODY"?!1:iw(r)}}function Kk(t){const e=t||window.event,r=e.target;return r instanceof Element&&iw(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.cancelable&&e.preventDefault(),!1)}function Gk(t){const e=Hh({dir:Ae("ltr")});return re(()=>{var r;return(t==null?void 0:t.value)||((r=e.dir)==null?void 0:r.value)||"ltr"})}function Ec(t){const e=Fr(),r=e==null?void 0:e.type.emits,n={};return r!=null&&r.length||console.warn(`No emitted event found. Please check component: ${e==null?void 0:e.type.__name}`),r==null||r.forEach(s=>{n[il(Rr(s))]=(...i)=>t(s,...i)}),n}let md=0;function Jk(){Bt(t=>{if(!Bn)return;const e=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",e[0]??Ey()),document.body.insertAdjacentElement("beforeend",e[1]??Ey()),md++,t(()=>{md===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(r=>r.remove()),md--})})}function Ey(){const t=document.createElement("span");return t.setAttribute("data-reka-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}function ow(t){return re(()=>{var e;return Yt(t)?!!((e=Jr(t))!=null&&e.closest("form")):!0})}function ht(){const t=Fr(),e=Ae(),r=re(()=>{var o,a;return["#text","#comment"].includes((o=e.value)==null?void 0:o.$el.nodeName)?(a=e.value)==null?void 0:a.$el.nextElementSibling:Jr(e)}),n=Object.assign({},t.exposed),s={};for(const o in t.props)Object.defineProperty(s,o,{enumerable:!0,configurable:!0,get:()=>t.props[o]});if(Object.keys(n).length>0)for(const o in n)Object.defineProperty(s,o,{enumerable:!0,configurable:!0,get:()=>n[o]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=s;function i(o){e.value=o,o&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>o instanceof Element?o:o.$el}),t.exposed=s)}return{forwardRef:i,currentRef:e,currentElement:r}}function Wh(t){const e=Fr(),r=Object.keys((e==null?void 0:e.type.props)??{}).reduce((s,i)=>{const o=(e==null?void 0:e.type.props[i]).default;return o!==void 0&&(s[i]=o),s},{}),n=PT(t);return re(()=>{const s={},i=(e==null?void 0:e.vnode.props)??{};return Object.keys(i).forEach(o=>{s[Rr(o)]=i[o]}),Object.keys({...r,...s}).reduce((o,a)=>(n.value[a]!==void 0&&(o[a]=n.value[a]),o),{})})}function Xk(t,e){const r=Wh(t),n=e?Ec(e):{};return re(()=>({...r.value,...n}))}var Yk=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wi=new WeakMap,Ua=new WeakMap,Ba={},gd=0,aw=function(t){return t&&(t.host||aw(t.parentNode))},Qk=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=aw(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Zk=function(t,e,r,n){var s=Qk(e,Array.isArray(t)?t:[t]);Ba[r]||(Ba[r]=new WeakMap);var i=Ba[r],o=[],a=new Set,l=new Set(s),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};s.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else try{var h=f.getAttribute(n),m=h!==null&&h!=="false",y=(wi.get(f)||0)+1,_=(i.get(f)||0)+1;wi.set(f,y),i.set(f,_),o.push(f),y===1&&m&&Ua.set(f,!0),_===1&&f.setAttribute(r,"true"),m||f.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return u(e),a.clear(),gd++,function(){o.forEach(function(d){var f=wi.get(d)-1,h=i.get(d)-1;wi.set(d,f),i.set(d,h),f||(Ua.has(d)||d.removeAttribute(n),Ua.delete(d)),h||d.removeAttribute(r)}),gd--,gd||(wi=new WeakMap,wi=new WeakMap,Ua=new WeakMap,Ba={})}},e2=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Yk(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Zk(n,s,r,"aria-hidden")):function(){return null}};function lw(t){let e;st(()=>Jr(t),r=>{r?e=e2(r):e&&e()}),jn(()=>{e&&e()})}function Ll(t,e="reka"){return`${e}-${Qu==null?void 0:Qu()}`}function t2(t){const e=Ae(),r=re(()=>{var s;return((s=e.value)==null?void 0:s.width)??0}),n=re(()=>{var s;return((s=e.value)==null?void 0:s.height)??0});return Qt(()=>{const s=Jr(t);if(s){e.value={width:s.offsetWidth,height:s.offsetHeight};const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,c;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,c=d.blockSize}else l=s.offsetWidth,c=s.offsetHeight;e.value={width:l,height:c}});return i.observe(s,{box:"border-box"}),()=>i.unobserve(s)}else e.value=void 0}),{width:r,height:n}}function r2(t,e){const r=Ae(t);function n(i){return e[r.value][i]??r.value}return{state:r,dispatch:i=>{r.value=n(i)}}}function cw(t){const e=Lk("",1e3);return{search:e,handleTypeaheadSearch:(s,i)=>{e.value=e.value+s;{const o=Er(),a=i.map(f=>{var h,m;return{...f,textValue:((h=f.value)==null?void 0:h.textValue)??((m=f.ref.textContent)==null?void 0:m.trim())??""}}),l=a.find(f=>f.ref===o),c=a.map(f=>f.textValue),u=s2(c,e.value,l==null?void 0:l.textValue),d=a.find(f=>f.textValue===u);return d&&d.ref.focus(),d==null?void 0:d.ref}},resetTypeahead:()=>{e.value=""}}}function n2(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function s2(t,e,r){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=n2(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function i2(t,e){var _;const r=Ae({}),n=Ae("none"),s=Ae(t),i=t.value?"mounted":"unmounted";let o;const a=((_=e.value)==null?void 0:_.ownerDocument.defaultView)??ma,{state:l,dispatch:c}=r2(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=x=>{var A;if(Bn){const w=new CustomEvent(x,{bubbles:!1,cancelable:!1});(A=e.value)==null||A.dispatchEvent(w)}};st(t,async(x,A)=>{var p;const w=A!==x;if(await _r(),w){const b=n.value,E=qa(e.value);x?(c("MOUNT"),u("enter"),E==="none"&&u("after-enter")):E==="none"||E==="undefined"||((p=r.value)==null?void 0:p.display)==="none"?(c("UNMOUNT"),u("leave"),u("after-leave")):A&&b!==E?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const d=x=>{const A=qa(e.value),w=A.includes(CSS.escape(x.animationName)),p=l.value==="mounted"?"enter":"leave";if(x.target===e.value&&w&&(u(`after-${p}`),c("ANIMATION_END"),!s.value)){const b=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",o=a==null?void 0:a.setTimeout(()=>{var E;((E=e.value)==null?void 0:E.style.animationFillMode)==="forwards"&&(e.value.style.animationFillMode=b)})}x.target===e.value&&A==="none"&&c("ANIMATION_END")},f=x=>{x.target===e.value&&(n.value=qa(e.value))},h=st(e,(x,A)=>{x?(r.value=getComputedStyle(x),x.addEventListener("animationstart",f),x.addEventListener("animationcancel",d),x.addEventListener("animationend",d)):(c("ANIMATION_END"),o!==void 0&&(a==null||a.clearTimeout(o)),A==null||A.removeEventListener("animationstart",f),A==null||A.removeEventListener("animationcancel",d),A==null||A.removeEventListener("animationend",d))},{immediate:!0}),m=st(l,()=>{const x=qa(e.value);n.value=l.value==="mounted"?x:"none"});return jn(()=>{h(),m()}),{isPresent:re(()=>["mounted","unmountSuspended"].includes(l.value))}}function qa(t){return t&&getComputedStyle(t).animationName||"none"}var Ac=be({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:r}){var c;const{present:n,forceMount:s}=cs(t),i=Ae(),{isPresent:o}=i2(n,i);r({present:o});let a=e.default({present:o.value});a=Vh(a||[]);const l=Fr();if(a&&(a==null?void 0:a.length)>1){const u=(c=l==null?void 0:l.parent)!=null&&c.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(d=>`  - ${d}`).join(`
`)].join(`
`))}return()=>s.value||n.value||o.value?rs(e.default({present:o.value})[0],{ref:u=>{const d=Jr(u);return typeof(d==null?void 0:d.hasAttribute)>"u"||(d!=null&&d.hasAttribute("data-reka-popper-content-wrapper")?i.value=d.firstElementChild:i.value=d),d}}):null}});const bf=be({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:r}){return()=>{var l;if(!r.default)return null;const n=Vh(r.default()),s=n.findIndex(c=>c.type!==fn);if(s===-1)return n;const i=n[s];(l=i.props)==null||delete l.ref;const o=i.props?Ve(e,i.props):e,a=li({...i,props:{}},o);return n.length===1?a:(n[s]=a,n)}}}),o2=["area","img","input"],_t=be({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:r}){const n=t.asChild?"template":t.as;return typeof n=="string"&&o2.includes(n)?()=>rs(n,e):n!=="template"?()=>rs(t.as,e,{default:r.default}):()=>rs(bf,e,{default:r.default})}});function vf(){const t=Ae(),e=re(()=>{var r,n;return["#text","#comment"].includes((r=t.value)==null?void 0:r.$el.nodeName)?(n=t.value)==null?void 0:n.$el.nextElementSibling:Jr(t)});return{primitiveElement:t,currentElement:e}}const[qs,a2]=gn("DialogRoot");var l2=be({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:e}){const r=t,s=Xo(r,"open",e,{defaultValue:r.defaultOpen,passive:r.open===void 0}),i=Ae(),o=Ae(),{modal:a}=cs(r);return a2({open:s,modal:a,openModal:()=>{s.value=!0},onOpenChange:l=>{s.value=l},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:i,contentElement:o}),(l,c)=>Ie(l.$slots,"default",{open:C(s),close:()=>s.value=!1})}}),c2=l2;const u2="dismissableLayer.pointerDownOutside",d2="dismissableLayer.focusOutside";function uw(t,e){const r=e.closest("[data-dismissable-layer]"),n=t.dataset.dismissableLayer===""?t:t.querySelector("[data-dismissable-layer]"),s=Array.from(t.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(r&&(n===r||s.indexOf(n)<s.indexOf(r)))}function f2(t,e,r=!0){var o;const n=((o=e==null?void 0:e.value)==null?void 0:o.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=Ae(!1),i=Ae(()=>{});return Bt(a=>{if(!Bn||!Yt(r))return;const l=async u=>{const d=u.target;if(!(!(e!=null&&e.value)||!d)){if(uw(e.value,d)){s.value=!1;return}if(u.target&&!s.value){let h=function(){qh(u2,t,f)};const f={originalEvent:u};u.pointerType==="touch"?(n.removeEventListener("click",i.value),i.value=h,n.addEventListener("click",i.value,{once:!0})):h()}else n.removeEventListener("click",i.value);s.value=!1}},c=window.setTimeout(()=>{n.addEventListener("pointerdown",l)},0);a(()=>{window.clearTimeout(c),n.removeEventListener("pointerdown",l),n.removeEventListener("click",i.value)})}),{onPointerDownCapture:()=>{Yt(r)&&(s.value=!0)}}}function h2(t,e,r=!0){var i;const n=((i=e==null?void 0:e.value)==null?void 0:i.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=Ae(!1);return Bt(o=>{if(!Bn||!Yt(r))return;const a=async l=>{if(!(e!=null&&e.value))return;await _r(),await _r();const c=l.target;!e.value||!c||uw(e.value,c)||l.target&&!s.value&&qh(d2,t,{originalEvent:l})};n.addEventListener("focusin",a),o(()=>n.removeEventListener("focusin",a))}),{onFocusCapture:()=>{Yt(r)&&(s.value=!0)},onBlurCapture:()=>{Yt(r)&&(s.value=!1)}}}const en=un({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var p2=be({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(t,{emit:e}){const r=t,n=e,{forwardRef:s,currentElement:i}=ht(),o=re(()=>{var m;return((m=i.value)==null?void 0:m.ownerDocument)??globalThis.document}),a=re(()=>en.layersRoot),l=re(()=>i.value?Array.from(a.value).indexOf(i.value):-1),c=re(()=>en.layersWithOutsidePointerEventsDisabled.size>0),u=re(()=>{const m=Array.from(a.value),[y]=[...en.layersWithOutsidePointerEventsDisabled].slice(-1),_=m.indexOf(y);return l.value>=_}),d=f2(async m=>{const y=[...en.branches].some(_=>_==null?void 0:_.contains(m.target));!u.value||y||(n("pointerDownOutside",m),n("interactOutside",m),await _r(),m.defaultPrevented||n("dismiss"))},i),f=h2(m=>{[...en.branches].some(_=>_==null?void 0:_.contains(m.target))||(n("focusOutside",m),n("interactOutside",m),m.defaultPrevented||n("dismiss"))},i);zh("Escape",m=>{l.value===a.value.size-1&&(n("escapeKeyDown",m),m.defaultPrevented||n("dismiss"))});let h;return Bt(m=>{i.value&&(r.disableOutsidePointerEvents&&(en.layersWithOutsidePointerEventsDisabled.size===0&&(h=o.value.body.style.pointerEvents,o.value.body.style.pointerEvents="none"),en.layersWithOutsidePointerEventsDisabled.add(i.value)),a.value.add(i.value),m(()=>{r.disableOutsidePointerEvents&&en.layersWithOutsidePointerEventsDisabled.size===1&&(o.value.body.style.pointerEvents=h)}))}),Bt(m=>{m(()=>{i.value&&(a.value.delete(i.value),en.layersWithOutsidePointerEventsDisabled.delete(i.value))})}),(m,y)=>(J(),ge(C(_t),{ref:C(s),"as-child":m.asChild,as:m.as,"data-dismissable-layer":"",style:Dn({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:C(f).onFocusCapture,onBlurCapture:C(f).onBlurCapture,onPointerdownCapture:C(d).onPointerDownCapture},{default:de(()=>[Ie(m.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),dw=p2,m2=be({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:r,currentElement:n}=ht();return Qt(()=>{en.branches.add(n.value)}),jn(()=>{en.branches.delete(n.value)}),(s,i)=>(J(),ge(C(_t),Ve({ref:C(r)},e),{default:de(()=>[Ie(s.$slots,"default")]),_:3},16))}}),g2=m2;const y2=Tk(()=>Ae([]));function b2(){const t=y2();return{add(e){const r=t.value[0];e!==r&&(r==null||r.pause()),t.value=Ay(t.value,e),t.value.unshift(e)},remove(e){var r;t.value=Ay(t.value,e),(r=t.value[0])==null||r.resume()}}}function Ay(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function v2(t){return t.filter(e=>e.tagName!=="A")}const yd="focusScope.autoFocusOnMount",bd="focusScope.autoFocusOnUnmount",Sy={bubbles:!1,cancelable:!0};function fl(t,{select:e=!1}={}){const r=Er();for(const n of t)if(ps(n,{select:e}),Er()!==r)return!0}function _2(t){const e=Kh(t),r=Iy(e,t),n=Iy(e.reverse(),t);return[r,n]}function Kh(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Iy(t,e){for(const r of t)if(!w2(r,{upTo:e}))return r}function w2(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function x2(t){return t instanceof HTMLInputElement&&"select"in t}function ps(t,{select:e=!1}={}){if(t&&t.focus){const r=Er();t.focus({preventScroll:!0}),t!==r&&x2(t)&&e&&t.select()}}var E2=be({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:e}){const r=t,n=e,{currentRef:s,currentElement:i}=ht(),o=Ae(null),a=b2(),l=un({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Bt(u=>{if(!Bn)return;const d=i.value;if(!r.trapped)return;function f(_){if(l.paused||!d)return;const x=_.target;d.contains(x)?o.value=x:ps(o.value,{select:!0})}function h(_){if(l.paused||!d)return;const x=_.relatedTarget;x!==null&&(d.contains(x)||ps(o.value,{select:!0}))}function m(_){d.contains(o.value)||ps(d)}document.addEventListener("focusin",f),document.addEventListener("focusout",h);const y=new MutationObserver(m);d&&y.observe(d,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",h),y.disconnect()})}),Bt(async u=>{const d=i.value;if(await _r(),!d)return;a.add(l);const f=Er();if(!d.contains(f)){const m=new CustomEvent(yd,Sy);d.addEventListener(yd,y=>n("mountAutoFocus",y)),d.dispatchEvent(m),m.defaultPrevented||(fl(v2(Kh(d)),{select:!0}),Er()===f&&ps(d))}u(()=>{d.removeEventListener(yd,_=>n("mountAutoFocus",_));const m=new CustomEvent(bd,Sy),y=_=>{n("unmountAutoFocus",_)};d.addEventListener(bd,y),d.dispatchEvent(m),setTimeout(()=>{m.defaultPrevented||ps(f??document.body,{select:!0}),d.removeEventListener(bd,y),a.remove(l)},0)})});function c(u){if(!r.loop&&!r.trapped||l.paused)return;const d=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,f=Er();if(d&&f){const h=u.currentTarget,[m,y]=_2(h);m&&y?!u.shiftKey&&f===y?(u.preventDefault(),r.loop&&ps(m,{select:!0})):u.shiftKey&&f===m&&(u.preventDefault(),r.loop&&ps(y,{select:!0})):f===h&&u.preventDefault()}}return(u,d)=>(J(),ge(C(_t),{ref_key:"currentRef",ref:s,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:c},{default:de(()=>[Ie(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),fw=E2;function A2(t){return t?"open":"closed"}function Ty(t){const e=Er();for(const r of t)if(r===e||(r.focus(),Er()!==e))return}var S2=be({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=t,n=e,s=qs(),{forwardRef:i,currentElement:o}=ht();return s.titleId||(s.titleId=Ll(void 0,"reka-dialog-title")),s.descriptionId||(s.descriptionId=Ll(void 0,"reka-dialog-description")),Qt(()=>{s.contentElement=o,Er()!==document.body&&(s.triggerElement.value=Er())}),(a,l)=>(J(),ge(C(fw),{"as-child":"",loop:"",trapped:r.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>n("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>n("closeAutoFocus",c))},{default:de(()=>[ue(C(dw),Ve({id:C(s).contentId,ref:C(i),as:a.as,"as-child":a.asChild,"disable-outside-pointer-events":a.disableOutsidePointerEvents,role:"dialog","aria-describedby":C(s).descriptionId,"aria-labelledby":C(s).titleId,"data-state":C(A2)(C(s).open.value)},a.$attrs,{onDismiss:l[0]||(l[0]=c=>C(s).onOpenChange(!1)),onEscapeKeyDown:l[1]||(l[1]=c=>n("escapeKeyDown",c)),onFocusOutside:l[2]||(l[2]=c=>n("focusOutside",c)),onInteractOutside:l[3]||(l[3]=c=>n("interactOutside",c)),onPointerDownOutside:l[4]||(l[4]=c=>n("pointerDownOutside",c))}),{default:de(()=>[Ie(a.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),hw=S2,I2=be({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=t,n=e,s=qs(),i=Ec(n),{forwardRef:o,currentElement:a}=ht();return lw(a),(l,c)=>(J(),ge(hw,Ve({...r,...C(i)},{ref:C(o),"trap-focus":C(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;u.defaultPrevented||(u.preventDefault(),(d=C(s).triggerElement.value)==null||d.focus())}),onPointerDownOutside:c[1]||(c[1]=u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&u.preventDefault()}),onFocusOutside:c[2]||(c[2]=u=>{u.preventDefault()})}),{default:de(()=>[Ie(l.$slots,"default")]),_:3},16,["trap-focus"]))}}),T2=I2,R2=be({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=t,s=Ec(e);ht();const i=qs(),o=Ae(!1),a=Ae(!1);return(l,c)=>(J(),ge(hw,Ve({...r,...C(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{var d;u.defaultPrevented||(o.value||(d=C(i).triggerElement.value)==null||d.focus(),u.preventDefault()),o.value=!1,a.value=!1}),onInteractOutside:c[1]||(c[1]=u=>{var h;u.defaultPrevented||(o.value=!0,u.detail.originalEvent.type==="pointerdown"&&(a.value=!0));const d=u.target;((h=C(i).triggerElement.value)==null?void 0:h.contains(d))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&a.value&&u.preventDefault()})}),{default:de(()=>[Ie(l.$slots,"default")]),_:3},16))}}),O2=R2,C2=be({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const r=t,n=e,s=qs(),i=Ec(n),{forwardRef:o}=ht();return(a,l)=>(J(),ge(C(Ac),{present:a.forceMount||C(s).open.value},{default:de(()=>[C(s).modal.value?(J(),ge(T2,Ve({key:0,ref:C(o)},{...r,...C(i),...a.$attrs}),{default:de(()=>[Ie(a.$slots,"default")]),_:3},16)):(J(),ge(O2,Ve({key:1,ref:C(o)},{...r,...C(i),...a.$attrs}),{default:de(()=>[Ie(a.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),k2=C2,D2=be({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(t){const e=t;ht();const r=qs();return(n,s)=>(J(),ge(C(_t),Ve(e,{id:C(r).descriptionId}),{default:de(()=>[Ie(n.$slots,"default")]),_:3},16,["id"]))}}),P2=D2,$2=be({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=qs();return sw(!0),ht(),(r,n)=>(J(),ge(C(_t),{as:r.as,"as-child":r.asChild,"data-state":C(e).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:de(()=>[Ie(r.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),L2=$2,N2=be({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=qs(),{forwardRef:r}=ht();return(n,s)=>{var i;return(i=C(e))!=null&&i.modal.value?(J(),ge(C(Ac),{key:0,present:n.forceMount||C(e).open.value},{default:de(()=>[ue(L2,Ve(n.$attrs,{ref:C(r),as:n.as,"as-child":n.asChild}),{default:de(()=>[Ie(n.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):Ge("v-if",!0)}}}),M2=N2,F2=be({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=rw();return(r,n)=>C(e)||r.forceMount?(J(),ge(Eh,{key:0,to:r.to,disabled:r.disabled,defer:r.defer},[Ie(r.$slots,"default")],8,["to","disabled","defer"])):Ge("v-if",!0)}}),pw=F2,j2=be({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(r,n)=>(J(),ge(C(pw),js(ds(e)),{default:de(()=>[Ie(r.$slots,"default")]),_:3},16))}}),U2=j2,B2=be({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(t){const e=t,r=qs();return ht(),(n,s)=>(J(),ge(C(_t),Ve(e,{id:C(r).titleId}),{default:de(()=>[Ie(n.$slots,"default")]),_:3},16,["id"]))}}),q2=B2;const Ry="data-reka-collection-item";function Vs(t={}){const{key:e="",isProvider:r=!1}=t,n=`${e}CollectionProvider`;let s;if(r){const u=Ae(new Map);s={collectionRef:Ae(),itemMap:u},Us(n,s)}else s=hr(n);const i=(u=!1)=>{const d=s.collectionRef.value;if(!d)return[];const f=Array.from(d.querySelectorAll(`[${Ry}]`)),m=Array.from(s.itemMap.value.values()).sort((y,_)=>f.indexOf(y.ref)-f.indexOf(_.ref));return u?m:m.filter(y=>y.ref.dataset.disabled!=="")},o=be({name:"CollectionSlot",setup(u,{slots:d}){const{primitiveElement:f,currentElement:h}=vf();return st(h,()=>{s.collectionRef.value=h.value}),()=>rs(bf,{ref:f},d)}}),a=be({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(u,{slots:d,attrs:f}){const{primitiveElement:h,currentElement:m}=vf();return Bt(y=>{if(m.value){const _=rt(m.value);s.itemMap.value.set(_,{ref:m.value,value:u.value}),y(()=>s.itemMap.value.delete(_))}}),()=>rs(bf,{...f,[Ry]:"",ref:h},d)}}),l=re(()=>Array.from(s.itemMap.value.values())),c=re(()=>s.itemMap.value.size);return{getItems:i,reactiveItems:l,itemMapSize:c,CollectionSlot:o,CollectionItem:a}}var V2=be({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,r)=>(J(),ge(C(_t),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:de(()=>[Ie(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),Sc=V2,H2=be({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:r,currentElement:n}=vf(),s=re(()=>e.checked??e.value);return st(s,(i,o)=>{if(!n.value)return;const a=n.value,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(u&&i!==o){const d=new Event("input",{bubbles:!0}),f=new Event("change",{bubbles:!0});u.call(a,i),a.dispatchEvent(d),a.dispatchEvent(f)}}),(i,o)=>(J(),ge(Sc,Ve({ref_key:"primitiveElement",ref:r},{...e,...i.$attrs},{as:"input"}),null,16))}}),Oy=H2,z2=be({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,r=re(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),n=re(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((s,i)=>typeof s=="object"?Object.entries(s).map(([o,a])=>({name:`${e.name}[${i}][${o}]`,value:a})):{name:`${e.name}[${i}]`,value:s}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([s,i])=>({name:`${e.name}[${s}]`,value:i})):[]);return(s,i)=>(J(),Se(Ze,null,[Ge(" We render single input if it's required "),r.value?(J(),ge(Oy,Ve({key:s.name},{...e,...s.$attrs},{name:s.name,value:s.value}),null,16,["name","value"])):(J(!0),Se(Ze,{key:1},Un(n.value,o=>(J(),ge(Oy,Ve({key:o.name},{ref_for:!0},{...e,...s.$attrs},{name:o.name,value:o.value}),null,16,["name","value"]))),128))],2112))}}),W2=z2;const[mw,K2]=gn("PopperRoot");var G2=be({inheritAttrs:!1,__name:"PopperRoot",setup(t){const e=Ae();return K2({anchor:e,onAnchorChange:r=>e.value=r}),(r,n)=>Ie(r.$slots,"default")}}),J2=G2,X2=be({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{forwardRef:r,currentElement:n}=ht(),s=mw();return N0(()=>{s.onAnchorChange(e.reference??n.value)}),(i,o)=>(J(),ge(C(_t),{ref:C(r),as:i.as,"as-child":i.asChild},{default:de(()=>[Ie(i.$slots,"default")]),_:3},8,["as","as-child"]))}}),Y2=X2;function Q2(t){return t!==null}function Z2(t){return{name:"transformOrigin",options:t,fn(e){var _,x,A;const{placement:r,rects:n,middlewareData:s}=e,o=((_=s.arrow)==null?void 0:_.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=_f(r),d={start:"0%",center:"50%",end:"100%"}[u],f=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,h=(((A=s.arrow)==null?void 0:A.y)??0)+l/2;let m="",y="";return c==="bottom"?(m=o?d:`${f}px`,y=`${-l}px`):c==="top"?(m=o?d:`${f}px`,y=`${n.floating.height+l}px`):c==="right"?(m=`${-l}px`,y=o?d:`${h}px`):c==="left"&&(m=`${n.floating.width+l}px`,y=o?d:`${h}px`),{data:{x:m,y}}}}}function _f(t){const[e,r="center"]=t.split("-");return[e,r]}const eD=["top","right","bottom","left"],Ps=Math.min,Or=Math.max,Nl=Math.round,Va=Math.floor,Cn=t=>({x:t,y:t}),tD={left:"right",right:"left",bottom:"top",top:"bottom"},rD={start:"end",end:"start"};function wf(t,e,r){return Or(t,Ps(e,r))}function os(t,e){return typeof t=="function"?t(e):t}function as(t){return t.split("-")[0]}function eo(t){return t.split("-")[1]}function Gh(t){return t==="x"?"y":"x"}function Jh(t){return t==="y"?"height":"width"}const nD=new Set(["top","bottom"]);function Tn(t){return nD.has(as(t))?"y":"x"}function Xh(t){return Gh(Tn(t))}function sD(t,e,r){r===void 0&&(r=!1);const n=eo(t),s=Xh(t),i=Jh(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ml(o)),[o,Ml(o)]}function iD(t){const e=Ml(t);return[xf(t),e,xf(e)]}function xf(t){return t.replace(/start|end/g,e=>rD[e])}const Cy=["left","right"],ky=["right","left"],oD=["top","bottom"],aD=["bottom","top"];function lD(t,e,r){switch(t){case"top":case"bottom":return r?e?ky:Cy:e?Cy:ky;case"left":case"right":return e?oD:aD;default:return[]}}function cD(t,e,r,n){const s=eo(t);let i=lD(as(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(xf)))),i}function Ml(t){return t.replace(/left|right|bottom|top/g,e=>tD[e])}function uD(t){return{top:0,right:0,bottom:0,left:0,...t}}function gw(t){return typeof t!="number"?uD(t):{top:t,right:t,bottom:t,left:t}}function Fl(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Dy(t,e,r){let{reference:n,floating:s}=t;const i=Tn(e),o=Xh(e),a=Jh(o),l=as(e),c=i==="y",u=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,f=n[a]/2-s[a]/2;let h;switch(l){case"top":h={x:u,y:n.y-s.height};break;case"bottom":h={x:u,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:d};break;case"left":h={x:n.x-s.width,y:d};break;default:h={x:n.x,y:n.y}}switch(eo(e)){case"start":h[o]-=f*(r&&c?-1:1);break;case"end":h[o]+=f*(r&&c?-1:1);break}return h}const dD=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:d}=Dy(c,n,l),f=n,h={},m=0;for(let y=0;y<a.length;y++){const{name:_,fn:x}=a[y],{x:A,y:w,data:p,reset:b}=await x({x:u,y:d,initialPlacement:n,placement:f,strategy:s,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=A??u,d=w??d,h={...h,[_]:{...h[_],...p}},b&&m<=50&&(m++,typeof b=="object"&&(b.placement&&(f=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):b.rects),{x:u,y:d}=Dy(c,f,l)),y=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function Yo(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=os(e,t),m=gw(h),_=a[f?d==="floating"?"reference":"floating":d],x=Fl(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),A=d==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),p=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},b=Fl(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:w,strategy:l}):A);return{top:(x.top-b.top+m.top)/p.y,bottom:(b.bottom-x.bottom+m.bottom)/p.y,left:(x.left-b.left+m.left)/p.x,right:(b.right-x.right+m.right)/p.x}}const fD=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=os(t,e)||{};if(c==null)return{};const d=gw(u),f={x:r,y:n},h=Xh(s),m=Jh(h),y=await o.getDimensions(c),_=h==="y",x=_?"top":"left",A=_?"bottom":"right",w=_?"clientHeight":"clientWidth",p=i.reference[m]+i.reference[h]-f[h]-i.floating[m],b=f[h]-i.reference[h],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=E?E[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(E)))&&(T=a.floating[w]||i.floating[m]);const I=p/2-b/2,O=T/2-y[m]/2-1,P=Ps(d[x],O),W=Ps(d[A],O),B=P,U=T-y[m]-W,M=T/2-y[m]/2+I,te=wf(B,M,U),R=!l.arrow&&eo(s)!=null&&M!==te&&i.reference[m]/2-(M<B?P:W)-y[m]/2<0,q=R?M<B?M-B:M-U:0;return{[h]:f[h]+q,data:{[h]:te,centerOffset:M-te-q,...R&&{alignmentOffset:q}},reset:R}}}),hD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:y=!0,..._}=os(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=as(s),A=Tn(a),w=as(a)===a,p=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=f||(w||!y?[Ml(a)]:iD(a)),E=m!=="none";!f&&E&&b.push(...cD(a,y,m,p));const T=[a,...b],I=await Yo(e,_),O=[];let P=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&O.push(I[x]),d){const M=sD(s,o,p);O.push(I[M[0]],I[M[1]])}if(P=[...P,{placement:s,overflows:O}],!O.every(M=>M<=0)){var W,B;const M=(((W=i.flip)==null?void 0:W.index)||0)+1,te=T[M];if(te&&(!(d==="alignment"?A!==Tn(te):!1)||P.every(F=>Tn(F.placement)===A?F.overflows[0]>0:!0)))return{data:{index:M,overflows:P},reset:{placement:te}};let R=(B=P.filter(q=>q.overflows[0]<=0).sort((q,F)=>q.overflows[1]-F.overflows[1])[0])==null?void 0:B.placement;if(!R)switch(h){case"bestFit":{var U;const q=(U=P.filter(F=>{if(E){const ee=Tn(F.placement);return ee===A||ee==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(ee=>ee>0).reduce((ee,j)=>ee+j,0)]).sort((F,ee)=>F[1]-ee[1])[0])==null?void 0:U[0];q&&(R=q);break}case"initialPlacement":R=a;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function Py(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function $y(t){return eD.some(e=>t[e]>=0)}const pD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=os(t,e);switch(n){case"referenceHidden":{const i=await Yo(e,{...s,elementContext:"reference"}),o=Py(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:$y(o)}}}case"escaped":{const i=await Yo(e,{...s,altBoundary:!0}),o=Py(i,r.floating);return{data:{escapedOffsets:o,escaped:$y(o)}}}default:return{}}}}},yw=new Set(["left","top"]);async function mD(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=as(r),a=eo(r),l=Tn(r)==="y",c=yw.has(o)?-1:1,u=i&&l?-1:1,d=os(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const gD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await mD(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},yD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x,y:A}=_;return{x,y:A}}},...l}=os(t,e),c={x:r,y:n},u=await Yo(e,l),d=Tn(as(s)),f=Gh(d);let h=c[f],m=c[d];if(i){const _=f==="y"?"top":"left",x=f==="y"?"bottom":"right",A=h+u[_],w=h-u[x];h=wf(A,h,w)}if(o){const _=d==="y"?"top":"left",x=d==="y"?"bottom":"right",A=m+u[_],w=m-u[x];m=wf(A,m,w)}const y=a.fn({...e,[f]:h,[d]:m});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[f]:i,[d]:o}}}}}},bD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=os(t,e),u={x:r,y:n},d=Tn(s),f=Gh(d);let h=u[f],m=u[d];const y=os(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const w=f==="y"?"height":"width",p=i.reference[f]-i.floating[w]+_.mainAxis,b=i.reference[f]+i.reference[w]-_.mainAxis;h<p?h=p:h>b&&(h=b)}if(c){var x,A;const w=f==="y"?"width":"height",p=yw.has(as(s)),b=i.reference[d]-i.floating[w]+(p&&((x=o.offset)==null?void 0:x[d])||0)+(p?0:_.crossAxis),E=i.reference[d]+i.reference[w]+(p?0:((A=o.offset)==null?void 0:A[d])||0)-(p?_.crossAxis:0);m<b?m=b:m>E&&(m=E)}return{[f]:h,[d]:m}}}},vD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=os(t,e),u=await Yo(e,c),d=as(s),f=eo(s),h=Tn(s)==="y",{width:m,height:y}=i.floating;let _,x;d==="top"||d==="bottom"?(_=d,x=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=d,_=f==="end"?"top":"bottom");const A=y-u.top-u.bottom,w=m-u.left-u.right,p=Ps(y-u[_],A),b=Ps(m-u[x],w),E=!e.middlewareData.shift;let T=p,I=b;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(I=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(T=A),E&&!f){const P=Or(u.left,0),W=Or(u.right,0),B=Or(u.top,0),U=Or(u.bottom,0);h?I=m-2*(P!==0||W!==0?P+W:Or(u.left,u.right)):T=y-2*(B!==0||U!==0?B+U:Or(u.top,u.bottom))}await l({...e,availableWidth:I,availableHeight:T});const O=await o.getDimensions(a.floating);return m!==O.width||y!==O.height?{reset:{rects:!0}}:{}}}};function Ic(){return typeof window<"u"}function fi(t){return Yh(t)?(t.nodeName||"").toLowerCase():"#document"}function Nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function qn(t){var e;return(e=(Yh(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Yh(t){return Ic()?t instanceof Node||t instanceof Nr(t).Node:!1}function hn(t){return Ic()?t instanceof Element||t instanceof Nr(t).Element:!1}function Ln(t){return Ic()?t instanceof HTMLElement||t instanceof Nr(t).HTMLElement:!1}function Ly(t){return!Ic()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nr(t).ShadowRoot}const _D=new Set(["inline","contents"]);function ga(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=pn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!_D.has(s)}const wD=new Set(["table","td","th"]);function xD(t){return wD.has(fi(t))}const ED=[":popover-open",":modal"];function Tc(t){return ED.some(e=>{try{return t.matches(e)}catch{return!1}})}const AD=["transform","translate","scale","rotate","perspective"],SD=["transform","translate","scale","rotate","perspective","filter"],ID=["paint","layout","strict","content"];function Qh(t){const e=Zh(),r=hn(t)?pn(t):t;return AD.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||SD.some(n=>(r.willChange||"").includes(n))||ID.some(n=>(r.contain||"").includes(n))}function TD(t){let e=$s(t);for(;Ln(e)&&!zi(e);){if(Qh(e))return e;if(Tc(e))return null;e=$s(e)}return null}function Zh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RD=new Set(["html","body","#document"]);function zi(t){return RD.has(fi(t))}function pn(t){return Nr(t).getComputedStyle(t)}function Rc(t){return hn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $s(t){if(fi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ly(t)&&t.host||qn(t);return Ly(e)?e.host:e}function bw(t){const e=$s(t);return zi(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ln(e)&&ga(e)?e:bw(e)}function Qo(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=bw(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=Nr(s);if(i){const a=Ef(o);return e.concat(o,o.visualViewport||[],ga(s)?s:[],a&&r?Qo(a):[])}return e.concat(s,Qo(s,[],r))}function Ef(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vw(t){const e=pn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Ln(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,a=Nl(r)!==i||Nl(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function ep(t){return hn(t)?t:t.contextElement}function Fi(t){const e=ep(t);if(!Ln(e))return Cn(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=vw(e);let o=(i?Nl(r.width):r.width)/n,a=(i?Nl(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const OD=Cn(0);function _w(t){const e=Nr(t);return!Zh()||!e.visualViewport?OD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CD(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Nr(t)?!1:e}function ui(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=ep(t);let o=Cn(1);e&&(n?hn(n)&&(o=Fi(n)):o=Fi(t));const a=CD(i,r,n)?_w(i):Cn(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Nr(i),h=n&&hn(n)?Nr(n):n;let m=f,y=Ef(m);for(;y&&n&&h!==m;){const _=Fi(y),x=y.getBoundingClientRect(),A=pn(y),w=x.left+(y.clientLeft+parseFloat(A.paddingLeft))*_.x,p=x.top+(y.clientTop+parseFloat(A.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,d*=_.y,l+=w,c+=p,m=Nr(y),y=Ef(m)}}return Fl({width:u,height:d,x:l,y:c})}function Oc(t,e){const r=Rc(t).scrollLeft;return e?e.left+r:ui(qn(t)).left+r}function ww(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Oc(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function kD(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=qn(n),a=e?Tc(e.floating):!1;if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},c=Cn(1);const u=Cn(0),d=Ln(n);if((d||!d&&!i)&&((fi(n)!=="body"||ga(o))&&(l=Rc(n)),Ln(n))){const h=ui(n);c=Fi(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}const f=o&&!d&&!i?ww(o,l):Cn(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function DD(t){return Array.from(t.getClientRects())}function PD(t){const e=qn(t),r=Rc(t),n=t.ownerDocument.body,s=Or(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Or(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Oc(t);const a=-r.scrollTop;return pn(n).direction==="rtl"&&(o+=Or(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:a}}const Ny=25;function $D(t,e){const r=Nr(t),n=qn(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Zh();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=Oc(n);if(c<=0){const u=n.ownerDocument,d=u.body,f=getComputedStyle(d),h=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(n.clientWidth-d.clientWidth-h);m<=Ny&&(i-=m)}else c<=Ny&&(i+=c);return{width:i,height:o,x:a,y:l}}const LD=new Set(["absolute","fixed"]);function ND(t,e){const r=ui(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=Ln(t)?Fi(t):Cn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=n*i.y;return{width:o,height:a,x:l,y:c}}function My(t,e,r){let n;if(e==="viewport")n=$D(t,r);else if(e==="document")n=PD(qn(t));else if(hn(e))n=ND(e,r);else{const s=_w(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Fl(n)}function xw(t,e){const r=$s(t);return r===e||!hn(r)||zi(r)?!1:pn(r).position==="fixed"||xw(r,e)}function MD(t,e){const r=e.get(t);if(r)return r;let n=Qo(t,[],!1).filter(a=>hn(a)&&fi(a)!=="body"),s=null;const i=pn(t).position==="fixed";let o=i?$s(t):t;for(;hn(o)&&!zi(o);){const a=pn(o),l=Qh(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&LD.has(s.position)||ga(o)&&!l&&xw(t,o))?n=n.filter(u=>u!==o):s=a,o=$s(o)}return e.set(t,n),n}function FD(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?Tc(e)?[]:MD(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const d=My(e,u,s);return c.top=Or(d.top,c.top),c.right=Ps(d.right,c.right),c.bottom=Ps(d.bottom,c.bottom),c.left=Or(d.left,c.left),c},My(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function jD(t){const{width:e,height:r}=vw(t);return{width:e,height:r}}function UD(t,e,r){const n=Ln(e),s=qn(e),i=r==="fixed",o=ui(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Cn(0);function c(){l.x=Oc(s)}if(n||!n&&!i)if((fi(e)!=="body"||ga(s))&&(a=Rc(e)),n){const h=ui(e,!0,i,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else s&&c();i&&!n&&s&&c();const u=s&&!n&&!i?ww(s,a):Cn(0),d=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function vd(t){return pn(t).position==="static"}function Fy(t,e){if(!Ln(t)||pn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return qn(t)===r&&(r=r.ownerDocument.body),r}function Ew(t,e){const r=Nr(t);if(Tc(t))return r;if(!Ln(t)){let s=$s(t);for(;s&&!zi(s);){if(hn(s)&&!vd(s))return s;s=$s(s)}return r}let n=Fy(t,e);for(;n&&xD(n)&&vd(n);)n=Fy(n,e);return n&&zi(n)&&vd(n)&&!Qh(n)?r:n||TD(t)||r}const BD=async function(t){const e=this.getOffsetParent||Ew,r=this.getDimensions,n=await r(t.floating);return{reference:UD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qD(t){return pn(t).direction==="rtl"}const VD={convertOffsetParentRelativeRectToViewportRelativeRect:kD,getDocumentElement:qn,getClippingRect:FD,getOffsetParent:Ew,getElementRects:BD,getClientRects:DD,getDimensions:jD,getScale:Fi,isElement:hn,isRTL:qD};function Aw(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function HD(t,e){let r=null,n;const s=qn(t);function i(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(a||e(),!f||!h)return;const m=Va(d),y=Va(s.clientWidth-(u+f)),_=Va(s.clientHeight-(d+h)),x=Va(u),w={rootMargin:-m+"px "+-y+"px "+-_+"px "+-x+"px",threshold:Or(0,Ps(1,l))||1};let p=!0;function b(E){const T=E[0].intersectionRatio;if(T!==l){if(!p)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!Aw(c,t.getBoundingClientRect())&&o(),p=!1}try{r=new IntersectionObserver(b,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(b,w)}r.observe(t)}return o(!0),i}function zD(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=ep(t),u=s||i?[...c?Qo(c):[],...Qo(e)]:[];u.forEach(x=>{s&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const d=c&&a?HD(c,r):null;let f=-1,h=null;o&&(h=new ResizeObserver(x=>{let[A]=x;A&&A.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(e)})),r()}),c&&!l&&h.observe(c),h.observe(e));let m,y=l?ui(t):null;l&&_();function _(){const x=ui(t);y&&!Aw(y,x)&&r(),y=x,m=requestAnimationFrame(_)}return r(),()=>{var x;u.forEach(A=>{s&&A.removeEventListener("scroll",r),i&&A.removeEventListener("resize",r)}),d==null||d(),(x=h)==null||x.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const WD=gD,KD=yD,jy=hD,GD=vD,JD=pD,XD=fD,YD=bD,QD=(t,e,r)=>{const n=new Map,s={platform:VD,...r},i={...s.platform,_c:n};return dD(t,e,{...s,platform:i})};function ZD(t){return t!=null&&typeof t=="object"&&"$el"in t}function Af(t){if(ZD(t)){const e=t.$el;return Yh(e)&&fi(e)==="#comment"?null:e}return t}function Si(t){return typeof t=="function"?t():C(t)}function eP(t){return{name:"arrow",options:t,fn(e){const r=Af(Si(t.element));return r==null?{}:XD({element:r,padding:t.padding}).fn(e)}}}function Sw(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Uy(t,e){const r=Sw(t);return Math.round(e*r)/r}function tP(t,e,r){r===void 0&&(r={});const n=r.whileElementsMounted,s=re(()=>{var T;return(T=Si(r.open))!=null?T:!0}),i=re(()=>Si(r.middleware)),o=re(()=>{var T;return(T=Si(r.placement))!=null?T:"bottom"}),a=re(()=>{var T;return(T=Si(r.strategy))!=null?T:"absolute"}),l=re(()=>{var T;return(T=Si(r.transform))!=null?T:!0}),c=re(()=>Af(t.value)),u=re(()=>Af(e.value)),d=Ae(0),f=Ae(0),h=Ae(a.value),m=Ae(o.value),y=Fn({}),_=Ae(!1),x=re(()=>{const T={position:h.value,left:"0",top:"0"};if(!u.value)return T;const I=Uy(u.value,d.value),O=Uy(u.value,f.value);return l.value?{...T,transform:"translate("+I+"px, "+O+"px)",...Sw(u.value)>=1.5&&{willChange:"transform"}}:{position:h.value,left:I+"px",top:O+"px"}});let A;function w(){if(c.value==null||u.value==null)return;const T=s.value;QD(c.value,u.value,{middleware:i.value,placement:o.value,strategy:a.value}).then(I=>{d.value=I.x,f.value=I.y,h.value=I.strategy,m.value=I.placement,y.value=I.middlewareData,_.value=T!==!1})}function p(){typeof A=="function"&&(A(),A=void 0)}function b(){if(p(),n===void 0){w();return}if(c.value!=null&&u.value!=null){A=n(c.value,u.value,w);return}}function E(){s.value||(_.value=!1)}return st([i,o,a,s],w,{flush:"sync"}),st([c,u],b,{flush:"sync"}),st(s,E,{flush:"sync"}),uc()&&bh(p),{x:bi(d),y:bi(f),strategy:bi(h),placement:bi(m),middlewareData:bi(y),isPositioned:bi(_),floatingStyles:x,update:w}}const rP={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[d4,nP]=gn("PopperContent");var sP=be({inheritAttrs:!1,__name:"PopperContent",props:aR({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...rP}),emits:["placed"],setup(t,{emit:e}){const r=t,n=e,s=mw(),{forwardRef:i,currentElement:o}=ht(),a=Ae(),l=Ae(),{width:c,height:u}=t2(l),d=re(()=>r.side+(r.align!=="center"?`-${r.align}`:"")),f=re(()=>typeof r.collisionPadding=="number"?r.collisionPadding:{top:0,right:0,bottom:0,left:0,...r.collisionPadding}),h=re(()=>Array.isArray(r.collisionBoundary)?r.collisionBoundary:[r.collisionBoundary]),m=re(()=>({padding:f.value,boundary:h.value.filter(Q2),altBoundary:h.value.length>0})),y=re(()=>({mainAxis:r.sideFlip,crossAxis:r.alignFlip})),_=Ik(()=>[WD({mainAxis:r.sideOffset+u.value,alignmentAxis:r.alignOffset}),r.prioritizePosition&&r.avoidCollisions&&jy({...m.value,...y.value}),r.avoidCollisions&&KD({mainAxis:!0,crossAxis:!!r.prioritizePosition,limiter:r.sticky==="partial"?YD():void 0,...m.value}),!r.prioritizePosition&&r.avoidCollisions&&jy({...m.value,...y.value}),GD({...m.value,apply:({elements:B,rects:U,availableWidth:M,availableHeight:te})=>{const{width:R,height:q}=U.reference,F=B.floating.style;F.setProperty("--reka-popper-available-width",`${M}px`),F.setProperty("--reka-popper-available-height",`${te}px`),F.setProperty("--reka-popper-anchor-width",`${R}px`),F.setProperty("--reka-popper-anchor-height",`${q}px`)}}),l.value&&eP({element:l.value,padding:r.arrowPadding}),Z2({arrowWidth:c.value,arrowHeight:u.value}),r.hideWhenDetached&&JD({strategy:"referenceHidden",...m.value})]),x=re(()=>r.reference??s.anchor.value),{floatingStyles:A,placement:w,isPositioned:p,middlewareData:b}=tP(x,a,{strategy:r.positionStrategy,placement:d,whileElementsMounted:(...B)=>zD(...B,{layoutShift:!r.disableUpdateOnLayoutShift,animationFrame:r.updatePositionStrategy==="always"}),middleware:_}),E=re(()=>_f(w.value)[0]),T=re(()=>_f(w.value)[1]);N0(()=>{p.value&&n("placed")});const I=re(()=>{var B;return((B=b.value.arrow)==null?void 0:B.centerOffset)!==0}),O=Ae("");Bt(()=>{o.value&&(O.value=window.getComputedStyle(o.value).zIndex)});const P=re(()=>{var B;return((B=b.value.arrow)==null?void 0:B.x)??0}),W=re(()=>{var B;return((B=b.value.arrow)==null?void 0:B.y)??0});return nP({placedSide:E,onArrowChange:B=>l.value=B,arrowX:P,arrowY:W,shouldHideArrow:I}),(B,U)=>{var M,te,R;return J(),Se("div",{ref_key:"floatingRef",ref:a,"data-reka-popper-content-wrapper":"",style:Dn({...C(A),transform:C(p)?C(A).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O.value,"--reka-popper-transform-origin":[(M=C(b).transformOrigin)==null?void 0:M.x,(te=C(b).transformOrigin)==null?void 0:te.y].join(" "),...((R=C(b).hide)==null?void 0:R.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[ue(C(_t),Ve({ref:C(i)},B.$attrs,{"as-child":r.asChild,as:B.as,"data-side":E.value,"data-align":T.value,style:{animation:C(p)?void 0:"none"}}),{default:de(()=>[Ie(B.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),iP=sP;function oP(t){const e=Hh({nonce:Ae()});return re(()=>{var r;return(t==null?void 0:t.value)||((r=e.nonce)==null?void 0:r.value)})}var aP=be({__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"label"}},setup(t){const e=t;return ht(),(r,n)=>(J(),ge(C(_t),Ve(e,{onMousedown:n[0]||(n[0]=s=>{!s.defaultPrevented&&s.detail>1&&s.preventDefault()})}),{default:de(()=>[Ie(r.$slots,"default")]),_:3},16))}}),lP=aP;const cP=[" ","Enter","ArrowUp","ArrowDown"],uP=[" ","Enter"],tn=10;function Zo(t,e,r){return t===void 0?!1:Array.isArray(t)?t.some(n=>Sf(n,e,r)):Sf(t,e,r)}function Sf(t,e,r){return t===void 0||e===void 0?!1:typeof t=="string"?t===e:typeof r=="function"?r(t,e):typeof r=="string"?(t==null?void 0:t[r])===(e==null?void 0:e[r]):Sk(t,e)}function dP(t){return t==null||t===""||Array.isArray(t)&&t.length===0}const fP={key:0,value:""},[Hs,Iw]=gn("SelectRoot");var hP=be({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1,default:void 0},by:{type:[String,Function],required:!1},dir:{type:String,required:!1},multiple:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const r=t,n=e,{required:s,disabled:i,multiple:o,dir:a}=cs(r),l=Xo(r,"modelValue",n,{defaultValue:r.defaultValue??(o.value?[]:void 0),passive:r.modelValue===void 0,deep:!0}),c=Xo(r,"open",n,{defaultValue:r.defaultOpen,passive:r.open===void 0}),u=Ae(),d=Ae(),f=Ae({x:0,y:0}),h=re(()=>{var p;return o.value&&Array.isArray(l.value)?((p=l.value)==null?void 0:p.length)===0:wy(l.value)});Vs({isProvider:!0});const m=Gk(a),y=ow(u),_=Ae(new Set),x=re(()=>Array.from(_.value).map(p=>p.value).join(";"));function A(p){if(o.value){const b=Array.isArray(l.value)?[...l.value]:[],E=b.findIndex(T=>Sf(T,p,r.by));E===-1?b.push(p):b.splice(E,1),l.value=[...b]}else l.value=p}function w(p){return Array.from(_.value).find(b=>Zo(p,b.value,r.by))}return Iw({triggerElement:u,onTriggerChange:p=>{u.value=p},valueElement:d,onValueElementChange:p=>{d.value=p},contentId:"",modelValue:l,onValueChange:A,by:r.by,open:c,multiple:o,required:s,onOpenChange:p=>{c.value=p},dir:m,triggerPointerDownPosRef:f,disabled:i,isEmptyModelValue:h,optionsSet:_,onOptionAdd:p=>{const b=w(p.value);b&&_.value.delete(b),_.value.add(p)},onOptionRemove:p=>{const b=w(p.value);b&&_.value.delete(b)}}),(p,b)=>(J(),ge(C(J2),null,{default:de(()=>[Ie(p.$slots,"default",{modelValue:C(l),open:C(c)}),C(y)?(J(),ge(gP,{key:x.value,"aria-hidden":"true",tabindex:"-1",multiple:C(o),required:C(s),name:p.name,autocomplete:p.autocomplete,disabled:C(i),value:C(l)},{default:de(()=>[C(wy)(C(l))?(J(),Se("option",fP)):Ge("v-if",!0),(J(!0),Se(Ze,null,Un(Array.from(_.value),E=>(J(),Se("option",Ve({key:E.value??""},{ref_for:!0},E),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):Ge("v-if",!0)]),_:3}))}}),pP=hP,mP=be({__name:"BubbleSelect",props:{autocomplete:{type:String,required:!1},autofocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},form:{type:String,required:!1},multiple:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},size:{type:Number,required:!1},value:{type:null,required:!1}},setup(t){const e=t,r=Ae(),n=Hs();st(()=>e.value,(i,o)=>{const a=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==o&&c&&r.value){const u=new Event("change",{bubbles:!0});c.call(r.value,i),r.value.dispatchEvent(u)}});function s(i){n.onValueChange(i.target.value)}return(i,o)=>(J(),ge(C(Sc),{"as-child":""},{default:de(()=>[Oe("select",Ve({ref_key:"selectElement",ref:r},e,{onInput:s}),[Ie(i.$slots,"default")],16)]),_:3}))}}),gP=mP,yP=be({__name:"SelectPopperPosition",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1,default:tn},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const r=Wh(t);return(n,s)=>(J(),ge(C(iP),Ve(C(r),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:de(()=>[Ie(n.$slots,"default")]),_:3},16))}}),bP=yP;const vP={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[Cc,Tw]=gn("SelectContent");var _P=be({__name:"SelectContentImpl",props:{position:{type:String,required:!1,default:"item-aligned"},bodyLock:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const r=t,n=e,s=Hs();Jk(),sw(r.bodyLock);const{CollectionSlot:i,getItems:o}=Vs(),a=Ae();lw(a);const{search:l,handleTypeaheadSearch:c}=cw(),u=Ae(),d=Ae(),f=Ae(),h=Ae(!1),m=Ae(!1),y=Ae(!1);function _(){d.value&&a.value&&Ty([d.value,a.value])}st(h,()=>{_()});const{onOpenChange:x,triggerPointerDownPosRef:A}=s;Bt(E=>{if(!a.value)return;let T={x:0,y:0};const I=P=>{var W,B;T={x:Math.abs(Math.round(P.pageX)-(((W=A.value)==null?void 0:W.x)??0)),y:Math.abs(Math.round(P.pageY)-(((B=A.value)==null?void 0:B.y)??0))}},O=P=>{var W;P.pointerType!=="touch"&&(T.x<=10&&T.y<=10?P.preventDefault():(W=a.value)!=null&&W.contains(P.target)||x(!1),document.removeEventListener("pointermove",I),A.value=null)};A.value!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",O,{capture:!0,once:!0})),E(()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",O,{capture:!0})})});function w(E){const T=E.ctrlKey||E.altKey||E.metaKey;if(E.key==="Tab"&&E.preventDefault(),!T&&E.key.length===1&&c(E.key,o()),["ArrowUp","ArrowDown","Home","End"].includes(E.key)){let O=[...o().map(P=>P.ref)];if(["ArrowUp","End"].includes(E.key)&&(O=O.slice().reverse()),["ArrowUp","ArrowDown"].includes(E.key)){const P=E.target,W=O.indexOf(P);O=O.slice(W+1)}setTimeout(()=>Ty(O)),E.preventDefault()}}const p=re(()=>r.position==="popper"?r:{}),b=Wh(p.value);return Tw({content:a,viewport:u,onViewportChange:E=>{u.value=E},itemRefCallback:(E,T,I)=>{const O=!m.value&&!I,P=Zo(s.modelValue.value,T,s.by);if(s.multiple.value){if(y.value)return;(P||O)&&(d.value=E,P&&(y.value=!0))}else(P||O)&&(d.value=E);O&&(m.value=!0)},selectedItem:d,selectedItemText:f,onItemLeave:()=>{var E;(E=a.value)==null||E.focus()},itemTextRefCallback:(E,T,I)=>{const O=!m.value&&!I;(Zo(s.modelValue.value,T,s.by)||O)&&(f.value=E)},focusSelectedItem:_,position:r.position,isPositioned:h,searchRef:l}),(E,T)=>(J(),ge(C(i),null,{default:de(()=>[ue(C(fw),{"as-child":"",onMountAutoFocus:T[6]||(T[6]=Cs(()=>{},["prevent"])),onUnmountAutoFocus:T[7]||(T[7]=I=>{var O;n("closeAutoFocus",I),!I.defaultPrevented&&((O=C(s).triggerElement.value)==null||O.focus({preventScroll:!0}),I.preventDefault())})},{default:de(()=>[ue(C(dw),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:T[2]||(T[2]=Cs(()=>{},["prevent"])),onDismiss:T[3]||(T[3]=I=>C(s).onOpenChange(!1)),onEscapeKeyDown:T[4]||(T[4]=I=>n("escapeKeyDown",I)),onPointerDownOutside:T[5]||(T[5]=I=>n("pointerDownOutside",I))},{default:de(()=>[(J(),ge(Bs(E.position==="popper"?bP:SP),Ve({...E.$attrs,...C(b)},{id:C(s).contentId,ref:I=>{const O=C(Jr)(I);O!=null&&O.hasAttribute("data-reka-popper-content-wrapper")?a.value=O.firstElementChild:a.value=O},role:"listbox","data-state":C(s).open.value?"open":"closed",dir:C(s).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:T[0]||(T[0]=Cs(()=>{},["prevent"])),onPlaced:T[1]||(T[1]=I=>h.value=!0),onKeydown:w}),{default:de(()=>[Ie(E.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),wP=_P;const[xP,EP]=gn("SelectItemAlignedPosition");var AP=be({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["placed"],setup(t,{emit:e}){const r=t,n=e,{getItems:s}=Vs(),i=Hs(),o=Cc(),a=Ae(!1),l=Ae(!0),c=Ae(),{forwardRef:u,currentElement:d}=ht(),{viewport:f,selectedItem:h,selectedItemText:m,focusSelectedItem:y}=o;function _(){if(i.triggerElement.value&&i.valueElement.value&&c.value&&d.value&&(f!=null&&f.value)&&(h!=null&&h.value)&&(m!=null&&m.value)){const w=i.triggerElement.value.getBoundingClientRect(),p=d.value.getBoundingClientRect(),b=i.valueElement.value.getBoundingClientRect(),E=m.value.getBoundingClientRect();if(i.dir.value!=="rtl"){const V=E.left-p.left,le=b.left-V,ve=w.left-le,ce=w.width+ve,Te=Math.max(ce,p.width),L=window.innerWidth-tn,k=_y(le,tn,Math.max(tn,L-Te));c.value.style.minWidth=`${ce}px`,c.value.style.left=`${k}px`}else{const V=p.right-E.right,le=window.innerWidth-b.right-V,ve=window.innerWidth-w.right-le,ce=w.width+ve,Te=Math.max(ce,p.width),L=window.innerWidth-tn,k=_y(le,tn,Math.max(tn,L-Te));c.value.style.minWidth=`${ce}px`,c.value.style.right=`${k}px`}const T=s().map(V=>V.ref),I=window.innerHeight-tn*2,O=f.value.scrollHeight,P=window.getComputedStyle(d.value),W=Number.parseInt(P.borderTopWidth,10),B=Number.parseInt(P.paddingTop,10),U=Number.parseInt(P.borderBottomWidth,10),M=Number.parseInt(P.paddingBottom,10),te=W+B+O+M+U,R=Math.min(h.value.offsetHeight*5,te),q=window.getComputedStyle(f.value),F=Number.parseInt(q.paddingTop,10),ee=Number.parseInt(q.paddingBottom,10),j=w.top+w.height/2-tn,se=I-j,oe=h.value.offsetHeight/2,ae=h.value.offsetTop+oe,we=W+B+ae,z=te-we;if(we<=j){const V=h.value===T[T.length-1];c.value.style.bottom="0px";const le=d.value.clientHeight-f.value.offsetTop-f.value.offsetHeight,ve=Math.max(se,oe+(V?ee:0)+le+U),ce=we+ve;c.value.style.height=`${ce}px`}else{const V=h.value===T[0];c.value.style.top="0px";const ve=Math.max(j,W+f.value.offsetTop+(V?F:0)+oe)+z;c.value.style.height=`${ve}px`,f.value.scrollTop=we-j+f.value.offsetTop}c.value.style.margin=`${tn}px 0`,c.value.style.minHeight=`${R}px`,c.value.style.maxHeight=`${I}px`,n("placed"),requestAnimationFrame(()=>a.value=!0)}}const x=Ae("");Qt(async()=>{await _r(),_(),d.value&&(x.value=window.getComputedStyle(d.value).zIndex)});function A(w){w&&l.value===!0&&(_(),y==null||y(),l.value=!1)}return Vk(i.triggerElement,()=>{_()}),EP({contentWrapper:c,shouldExpandOnScrollRef:a,onScrollButtonChange:A}),(w,p)=>(J(),Se("div",{ref_key:"contentWrapperElement",ref:c,style:Dn({display:"flex",flexDirection:"column",position:"fixed",zIndex:x.value})},[ue(C(_t),Ve({ref:C(u),style:{boxSizing:"border-box",maxHeight:"100%"}},{...w.$attrs,...r}),{default:de(()=>[Ie(w.$slots,"default")]),_:3},16)],4))}}),SP=AP,IP=be({inheritAttrs:!1,__name:"SelectProvider",props:{context:{type:Object,required:!0}},setup(t){return Iw(t.context),Tw(vP),(r,n)=>Ie(r.$slots,"default")}}),TP=IP;const RP={key:1};var OP=be({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const r=t,s=Xk(r,e),i=Hs(),o=Ae();Qt(()=>{o.value=new DocumentFragment});const a=Ae(),l=re(()=>r.forceMount||i.open.value),c=Ae(l.value);return st(l,()=>{setTimeout(()=>c.value=l.value)}),(u,d)=>{var f;return l.value||c.value||(f=a.value)!=null&&f.present?(J(),ge(C(Ac),{key:0,ref_key:"presenceRef",ref:a,present:l.value},{default:de(()=>[ue(wP,js(ds({...C(s),...u.$attrs})),{default:de(()=>[Ie(u.$slots,"default")]),_:3},16)]),_:3},8,["present"])):o.value?(J(),Se("div",RP,[(J(),ge(Eh,{to:o.value},[ue(TP,{context:C(i)},{default:de(()=>[Ie(u.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):Ge("v-if",!0)}}}),CP=OP,kP=be({__name:"SelectIcon",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,r)=>(J(),ge(C(_t),{"aria-hidden":"true",as:e.as,"as-child":e.asChild},{default:de(()=>[Ie(e.$slots,"default",{},()=>[r[0]||(r[0]=tt("▼"))])]),_:3},8,["as","as-child"]))}}),DP=kP;const[PP,$P]=gn("SelectItem");var LP=be({__name:"SelectItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(t,{emit:e}){const r=t,n=e,{disabled:s}=cs(r),i=Hs(),o=Cc(),{forwardRef:a,currentElement:l}=ht(),{CollectionItem:c}=Vs(),u=re(()=>{var p;return Zo((p=i.modelValue)==null?void 0:p.value,r.value,i.by)}),d=Ae(!1),f=Ae(r.textValue??""),h=Ll(void 0,"reka-select-item-text"),m="select.select";async function y(p){if(p.defaultPrevented)return;const b={originalEvent:p,value:r.value};qh(m,_,b)}async function _(p){await _r(),n("select",p),!p.defaultPrevented&&(s.value||(i.onValueChange(r.value),i.multiple.value||i.onOpenChange(!1)))}async function x(p){var b,E;await _r(),!p.defaultPrevented&&(s.value?(b=o.onItemLeave)==null||b.call(o):(E=p.currentTarget)==null||E.focus({preventScroll:!0}))}async function A(p){var b;await _r(),!p.defaultPrevented&&p.currentTarget===Er()&&((b=o.onItemLeave)==null||b.call(o))}async function w(p){var E;await _r(),!(p.defaultPrevented||((E=o.searchRef)==null?void 0:E.value)!==""&&p.key===" ")&&(uP.includes(p.key)&&y(p),p.key===" "&&p.preventDefault())}if(r.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return Qt(()=>{l.value&&o.itemRefCallback(l.value,r.value,r.disabled)}),$P({value:r.value,disabled:s,textId:h,isSelected:u,onItemTextChange:p=>{f.value=((f.value||(p==null?void 0:p.textContent))??"").trim()}}),(p,b)=>(J(),ge(C(c),{value:{textValue:f.value}},{default:de(()=>[ue(C(_t),{ref:C(a),role:"option","aria-labelledby":C(h),"data-highlighted":d.value?"":void 0,"aria-selected":u.value,"data-state":u.value?"checked":"unchecked","aria-disabled":C(s)||void 0,"data-disabled":C(s)?"":void 0,tabindex:C(s)?void 0:-1,as:p.as,"as-child":p.asChild,onFocus:b[0]||(b[0]=E=>d.value=!0),onBlur:b[1]||(b[1]=E=>d.value=!1),onPointerup:y,onPointerdown:b[2]||(b[2]=E=>{E.currentTarget.focus({preventScroll:!0})}),onTouchend:b[3]||(b[3]=Cs(()=>{},["prevent","stop"])),onPointermove:x,onPointerleave:A,onKeydown:w},{default:de(()=>[Ie(p.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),NP=LP,MP=be({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,r=Hs(),n=Cc(),s=PP(),{forwardRef:i,currentElement:o}=ht(),a=re(()=>{var l,c;return{value:s.value,disabled:s.disabled.value,textContent:((l=o.value)==null?void 0:l.textContent)??((c=s.value)==null?void 0:c.toString())??""}});return Qt(()=>{o.value&&(s.onItemTextChange(o.value),n.itemTextRefCallback(o.value,s.value,s.disabled.value),r.onOptionAdd(a.value))}),jn(()=>{r.onOptionRemove(a.value)}),(l,c)=>(J(),ge(C(_t),Ve({id:C(s).textId,ref:C(i)},{...e,...l.$attrs}),{default:de(()=>[Ie(l.$slots,"default")]),_:3},16,["id"]))}}),FP=MP,jP=be({__name:"SelectPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const e=t;return(r,n)=>(J(),ge(C(pw),js(ds(e)),{default:de(()=>[Ie(r.$slots,"default")]),_:3},16))}}),UP=jP,BP=be({__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,r=Hs(),{forwardRef:n,currentElement:s}=ht(),i=re(()=>{var f;return((f=r.disabled)==null?void 0:f.value)||e.disabled});r.contentId||(r.contentId=Ll(void 0,"reka-select-content")),Qt(()=>{r.onTriggerChange(s.value)});const{getItems:o}=Vs(),{search:a,handleTypeaheadSearch:l,resetTypeahead:c}=cw();function u(){i.value||(r.onOpenChange(!0),c())}function d(f){u(),r.triggerPointerDownPosRef.value={x:Math.round(f.pageX),y:Math.round(f.pageY)}}return(f,h)=>(J(),ge(C(Y2),{"as-child":"",reference:f.reference},{default:de(()=>{var m,y,_,x;return[ue(C(_t),{ref:C(n),role:"combobox",type:f.as==="button"?"button":void 0,"aria-controls":C(r).contentId,"aria-expanded":C(r).open.value||!1,"aria-required":(m=C(r).required)==null?void 0:m.value,"aria-autocomplete":"none",disabled:i.value,dir:(y=C(r))==null?void 0:y.dir.value,"data-state":(_=C(r))!=null&&_.open.value?"open":"closed","data-disabled":i.value?"":void 0,"data-placeholder":C(dP)((x=C(r).modelValue)==null?void 0:x.value)?"":void 0,"as-child":f.asChild,as:f.as,onClick:h[0]||(h[0]=A=>{var w;(w=A==null?void 0:A.currentTarget)==null||w.focus()}),onPointerdown:h[1]||(h[1]=A=>{if(A.pointerType==="touch")return A.preventDefault();const w=A.target;w.hasPointerCapture(A.pointerId)&&w.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&(d(A),A.preventDefault())}),onPointerup:h[2]||(h[2]=Cs(A=>{A.pointerType==="touch"&&d(A)},["prevent"])),onKeydown:h[3]||(h[3]=A=>{const w=C(a)!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&w&&A.key===" "||(C(l)(A.key,C(o)()),C(cP).includes(A.key)&&(u(),A.preventDefault()))})},{default:de(()=>[Ie(f.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]}),_:3},8,["reference"]))}}),qP=BP,VP=be({__name:"SelectValue",props:{placeholder:{type:String,required:!1,default:""},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,{forwardRef:r,currentElement:n}=ht(),s=Hs();Qt(()=>{s.valueElement=n});const i=re(()=>{var u;let a=[];const l=Array.from(s.optionsSet.value),c=d=>l.find(f=>Zo(d,f.value,s.by));return Array.isArray(s.modelValue.value)?a=s.modelValue.value.map(d=>{var f;return((f=c(d))==null?void 0:f.textContent)??""}):a=[((u=c(s.modelValue.value))==null?void 0:u.textContent)??""],a.filter(Boolean)}),o=re(()=>i.value.length?i.value.join(", "):e.placeholder);return(a,l)=>(J(),ge(C(_t),{ref:C(r),as:a.as,"as-child":a.asChild,style:{pointerEvents:"none"},"data-placeholder":i.value.length?void 0:e.placeholder},{default:de(()=>[Ie(a.$slots,"default",{selectedLabel:i.value,modelValue:C(s).modelValue.value},()=>[tt(je(o.value),1)])]),_:3},8,["as","as-child","data-placeholder"]))}}),By=VP,HP=be({__name:"SelectViewport",props:{nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,{nonce:r}=cs(e),n=oP(r),s=Cc(),i=s.position==="item-aligned"?xP():void 0,{forwardRef:o,currentElement:a}=ht();Qt(()=>{s==null||s.onViewportChange(a.value)});const l=Ae(0);function c(u){const d=u.currentTarget,{shouldExpandOnScrollRef:f,contentWrapper:h}=i??{};if(f!=null&&f.value&&(h!=null&&h.value)){const m=Math.abs(l.value-d.scrollTop);if(m>0){const y=window.innerHeight-tn*2,_=Number.parseFloat(h.value.style.minHeight),x=Number.parseFloat(h.value.style.height),A=Math.max(_,x);if(A<y){const w=A+m,p=Math.min(y,w),b=w-p;h.value.style.height=`${p}px`,h.value.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,h.value.style.justifyContent="flex-end")}}}l.value=d.scrollTop}return(u,d)=>(J(),Se(Ze,null,[ue(C(_t),Ve({ref:C(o),"data-reka-select-viewport":"",role:"presentation"},{...u.$attrs,...e},{style:{position:"relative",flex:1,overflow:"hidden auto"},onScroll:c}),{default:de(()=>[Ie(u.$slots,"default")]),_:3},16),ue(C(_t),{as:"style",nonce:C(n)},{default:de(()=>d[0]||(d[0]=[tt(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-select-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-select-viewport]::-webkit-scrollbar { display: none; } ")])),_:1,__:[0]},8,["nonce"])],64))}}),zP=HP;const[WP,KP]=gn("SwitchRoot");var GP=be({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const r=t,n=e,{disabled:s}=cs(r),i=Xo(r,"modelValue",n,{defaultValue:r.defaultValue,passive:r.modelValue===void 0});function o(){s.value||(i.value=!i.value)}const{forwardRef:a,currentElement:l}=ht(),c=ow(l),u=re(()=>{var d;return r.id&&l.value?(d=document.querySelector(`[for="${r.id}"]`))==null?void 0:d.innerText:void 0});return KP({modelValue:i,toggleCheck:o,disabled:s}),(d,f)=>(J(),ge(C(_t),Ve(d.$attrs,{id:d.id,ref:C(a),role:"switch",type:d.as==="button"?"button":void 0,value:d.value,"aria-label":d.$attrs["aria-label"]||u.value,"aria-checked":C(i),"aria-required":d.required,"data-state":C(i)?"checked":"unchecked","data-disabled":C(s)?"":void 0,"as-child":d.asChild,as:d.as,disabled:C(s),onClick:o,onKeydown:pO(Cs(o,["prevent"]),["enter"])}),{default:de(()=>[Ie(d.$slots,"default",{modelValue:C(i)}),C(c)&&d.name?(J(),ge(C(W2),{key:0,type:"checkbox",name:d.name,disabled:C(s),required:d.required,value:d.value,checked:!!C(i)},null,8,["name","disabled","required","value","checked"])):Ge("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),JP=GP,XP=be({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=WP();return ht(),(r,n)=>{var s;return J(),ge(C(_t),{"data-state":(s=C(e).modelValue)!=null&&s.value?"checked":"unchecked","data-disabled":C(e).disabled.value?"":void 0,"as-child":r.asChild,as:r.as},{default:de(()=>[Ie(r.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),YP=XP,QP=be({__name:"ToastAnnounceExclude",props:{altText:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){return(e,r)=>(J(),ge(C(_t),{as:e.as,"as-child":e.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":e.altText||void 0},{default:de(()=>[Ie(e.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),ZP=QP;const[kc,e$]=gn("ToastProvider");var t$=be({inheritAttrs:!1,__name:"ToastProvider",props:{label:{type:String,required:!1,default:"Notification"},duration:{type:Number,required:!1,default:5e3},disableSwipe:{type:Boolean,required:!1},swipeDirection:{type:String,required:!1,default:"right"},swipeThreshold:{type:Number,required:!1,default:50}},setup(t){const e=t,{label:r,duration:n,disableSwipe:s,swipeDirection:i,swipeThreshold:o}=cs(e);Vs({isProvider:!0});const a=Ae(),l=Ae(0),c=Ae(!1),u=Ae(!1);if(e.label&&typeof e.label=="string"&&!e.label.trim()){const d="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(d)}return e$({label:r,duration:n,disableSwipe:s,swipeDirection:i,swipeThreshold:o,toastCount:l,viewport:a,onViewportChange(d){a.value=d},onToastAdd(){l.value++},onToastRemove(){l.value--},isFocusedToastEscapeKeyDownRef:c,isClosePausedRef:u}),(d,f)=>Ie(d.$slots,"default")}}),r$=t$,n$=be({__name:"ToastAnnounce",setup(t){const e=kc(),r=Fk(1e3),n=Ae(!1);return nw(()=>{n.value=!0}),(s,i)=>C(r)||n.value?(J(),ge(C(Sc),{key:0},{default:de(()=>[tt(je(C(e).label.value)+" ",1),Ie(s.$slots,"default")]),_:3})):Ge("v-if",!0)}}),s$=n$;const i$="toast.swipeStart",o$="toast.swipeMove",a$="toast.swipeCancel",l$="toast.swipeEnd",If="toast.viewportPause",Tf="toast.viewportResume";function Ha(t,e,r){const n=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&n.addEventListener(t,e,{once:!0}),n.dispatchEvent(s)}function qy(t,e,r=0){const n=Math.abs(t.x),s=Math.abs(t.y),i=n>s;return e==="left"||e==="right"?i&&n>r:!i&&s>r}function c$(t){return t.nodeType===t.ELEMENT_NODE}function Rw(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),c$(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.rekaToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.rekaToastAnnounceAlt;o&&e.push(o)}else e.push(...Rw(n))}}),e}const[u$,d$]=gn("ToastRoot");var f$=be({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(t,{emit:e}){const r=t,n=e,{forwardRef:s,currentElement:i}=ht(),{CollectionItem:o}=Vs(),a=kc(),l=Ae(null),c=Ae(null),u=re(()=>typeof r.duration=="number"?r.duration:a.duration.value),d=Ae(0),f=Ae(u.value),h=Ae(0),m=Ae(u.value),y=nw(()=>{const w=new Date().getTime()-d.value;m.value=Math.max(f.value-w,0)},{fpsLimit:60});function _(w){w<=0||w===Number.POSITIVE_INFINITY||Bn&&(window.clearTimeout(h.value),d.value=new Date().getTime(),h.value=window.setTimeout(x,w))}function x(w){var E,T;const p=(w==null?void 0:w.pointerType)==="";((E=i.value)==null?void 0:E.contains(Er()))&&p&&((T=a.viewport.value)==null||T.focus()),p&&(a.isClosePausedRef.value=!1),n("close")}const A=re(()=>i.value?Rw(i.value):null);if(r.type&&!["foreground","background"].includes(r.type)){const w="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error(w)}return Bt(w=>{const p=a.viewport.value;if(p){const b=()=>{_(f.value),y.resume(),n("resume")},E=()=>{const T=new Date().getTime()-d.value;f.value=f.value-T,window.clearTimeout(h.value),y.pause(),n("pause")};return p.addEventListener(If,E),p.addEventListener(Tf,b),()=>{p.removeEventListener(If,E),p.removeEventListener(Tf,b)}}}),st(()=>[r.open,u.value],()=>{f.value=u.value,r.open&&!a.isClosePausedRef.value&&_(u.value)},{immediate:!0}),zh("Escape",w=>{n("escapeKeyDown",w),w.defaultPrevented||(a.isFocusedToastEscapeKeyDownRef.value=!0,x())}),Qt(()=>{a.onToastAdd()}),jn(()=>{a.onToastRemove()}),d$({onClose:x}),(w,p)=>(J(),Se(Ze,null,[A.value?(J(),ge(s$,{key:0,role:"alert","aria-live":w.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:de(()=>[tt(je(A.value),1)]),_:1},8,["aria-live"])):Ge("v-if",!0),C(a).viewport.value?(J(),ge(Eh,{key:1,to:C(a).viewport.value},[ue(C(o),null,{default:de(()=>[ue(C(_t),Ve({ref:C(s),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},w.$attrs,{as:w.as,"as-child":w.asChild,"data-state":w.open?"open":"closed","data-swipe-direction":C(a).swipeDirection.value,style:C(a).disableSwipe.value?void 0:{userSelect:"none",touchAction:"none"},onPointerdown:p[0]||(p[0]=Cs(b=>{C(a).disableSwipe.value||(l.value={x:b.clientX,y:b.clientY})},["left"])),onPointermove:p[1]||(p[1]=b=>{if(C(a).disableSwipe.value||!l.value)return;const E=b.clientX-l.value.x,T=b.clientY-l.value.y,I=!!c.value,O=["left","right"].includes(C(a).swipeDirection.value),P=["left","up"].includes(C(a).swipeDirection.value)?Math.min:Math.max,W=O?P(0,E):0,B=O?0:P(0,T),U=b.pointerType==="touch"?10:2,M={x:W,y:B},te={originalEvent:b,delta:M};I?(c.value=M,C(Ha)(C(o$),R=>n("swipeMove",R),te)):C(qy)(M,C(a).swipeDirection.value,U)?(c.value=M,C(Ha)(C(i$),R=>n("swipeStart",R),te),b.target.setPointerCapture(b.pointerId)):(Math.abs(E)>U||Math.abs(T)>U)&&(l.value=null)}),onPointerup:p[2]||(p[2]=b=>{if(C(a).disableSwipe.value)return;const E=c.value,T=b.target;if(T.hasPointerCapture(b.pointerId)&&T.releasePointerCapture(b.pointerId),c.value=null,l.value=null,E){const I=b.currentTarget,O={originalEvent:b,delta:E};C(qy)(E,C(a).swipeDirection.value,C(a).swipeThreshold.value)?C(Ha)(C(l$),P=>n("swipeEnd",P),O):C(Ha)(C(a$),P=>n("swipeCancel",P),O),I==null||I.addEventListener("click",P=>P.preventDefault(),{once:!0})}})}),{default:de(()=>[Ie(w.$slots,"default",{remaining:m.value,duration:u.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction","style"])]),_:3})],8,["to"])):Ge("v-if",!0)],64))}}),h$=f$,p$=be({__name:"ToastClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,r=u$(),{forwardRef:n}=ht();return(s,i)=>(J(),ge(ZP,{"as-child":""},{default:de(()=>[ue(C(_t),Ve(e,{ref:C(n),type:s.as==="button"?"button":void 0,onClick:C(r).onClose}),{default:de(()=>[Ie(s.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),m$=p$,g$=be({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!0},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1,default:"foreground"},open:{type:Boolean,required:!1,default:void 0},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(t,{emit:e}){const r=t,n=e,{forwardRef:s}=ht(),i=Xo(r,"open",n,{defaultValue:r.defaultOpen,passive:r.open===void 0});return(o,a)=>(J(),ge(C(Ac),{present:o.forceMount||C(i)},{default:de(()=>[ue(h$,Ve({ref:C(s),open:C(i),type:o.type,as:o.as,"as-child":o.asChild,duration:o.duration},o.$attrs,{onClose:a[0]||(a[0]=l=>i.value=!1),onPause:a[1]||(a[1]=l=>n("pause")),onResume:a[2]||(a[2]=l=>n("resume")),onEscapeKeyDown:a[3]||(a[3]=l=>n("escapeKeyDown",l)),onSwipeStart:a[4]||(a[4]=l=>{n("swipeStart",l),l.defaultPrevented||l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:a[5]||(a[5]=l=>{if(n("swipeMove",l),!l.defaultPrevented){const{x:c,y:u}=l.detail.delta,d=l.currentTarget;d.setAttribute("data-swipe","move"),d.style.setProperty("--reka-toast-swipe-move-x",`${c}px`),d.style.setProperty("--reka-toast-swipe-move-y",`${u}px`)}}),onSwipeCancel:a[6]||(a[6]=l=>{if(n("swipeCancel",l),!l.defaultPrevented){const c=l.currentTarget;c.setAttribute("data-swipe","cancel"),c.style.removeProperty("--reka-toast-swipe-move-x"),c.style.removeProperty("--reka-toast-swipe-move-y"),c.style.removeProperty("--reka-toast-swipe-end-x"),c.style.removeProperty("--reka-toast-swipe-end-y")}}),onSwipeEnd:a[7]||(a[7]=l=>{if(n("swipeEnd",l),!l.defaultPrevented){const{x:c,y:u}=l.detail.delta,d=l.currentTarget;d.setAttribute("data-swipe","end"),d.style.removeProperty("--reka-toast-swipe-move-x"),d.style.removeProperty("--reka-toast-swipe-move-y"),d.style.setProperty("--reka-toast-swipe-end-x",`${c}px`),d.style.setProperty("--reka-toast-swipe-end-y",`${u}px`),i.value=!1}})}),{default:de(({remaining:l,duration:c})=>[Ie(o.$slots,"default",{remaining:l,duration:c,open:C(i)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),y$=g$,b$=be({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(t,{emit:e}){const r=e,n=kc();return(s,i)=>(J(),ge(C(Sc),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:i[0]||(i[0]=o=>{var c;const a=o.relatedTarget;!((c=C(n).viewport.value)!=null&&c.contains(a))&&r("focusFromOutsideViewport")})},{default:de(()=>[Ie(s.$slots,"default")]),_:3}))}}),Vy=b$,v$=be({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{type:Array,required:!1,default:()=>["F8"]},label:{type:[String,Function],required:!1,default:"Notifications ({hotkey})"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"ol"}},setup(t){const e=t,{hotkey:r,label:n}=cs(e),{forwardRef:s,currentElement:i}=ht(),{CollectionSlot:o,getItems:a}=Vs(),l=kc(),c=re(()=>l.toastCount.value>0),u=Ae(),d=Ae(),f=re(()=>r.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));zh(r.value,()=>{i.value.focus()}),Qt(()=>{l.onViewportChange(i.value)}),Bt(m=>{const y=i.value;if(c.value&&y){const _=()=>{if(!l.isClosePausedRef.value){const b=new CustomEvent(If);y.dispatchEvent(b),l.isClosePausedRef.value=!0}},x=()=>{if(l.isClosePausedRef.value){const b=new CustomEvent(Tf);y.dispatchEvent(b),l.isClosePausedRef.value=!1}},A=b=>{!y.contains(b.relatedTarget)&&x()},w=()=>{y.contains(Er())||x()},p=b=>{var I,O,P;const E=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!E){const W=Er(),B=b.shiftKey;if(b.target===y&&B){(I=u.value)==null||I.focus();return}const te=h({tabbingDirection:B?"backwards":"forwards"}),R=te.findIndex(q=>q===W);fl(te.slice(R+1))?b.preventDefault():B?(O=u.value)==null||O.focus():(P=d.value)==null||P.focus()}};y.addEventListener("focusin",_),y.addEventListener("focusout",A),y.addEventListener("pointermove",_),y.addEventListener("pointerleave",w),y.addEventListener("keydown",p),window.addEventListener("blur",_),window.addEventListener("focus",x),m(()=>{y.removeEventListener("focusin",_),y.removeEventListener("focusout",A),y.removeEventListener("pointermove",_),y.removeEventListener("pointerleave",w),y.removeEventListener("keydown",p),window.removeEventListener("blur",_),window.removeEventListener("focus",x)})}});function h({tabbingDirection:m}){const _=a().map(x=>x.ref).map(x=>{const A=[x,...Kh(x)];return m==="forwards"?A:A.reverse()});return(m==="forwards"?_.reverse():_).flat()}return(m,y)=>(J(),ge(C(g2),{role:"region","aria-label":typeof C(n)=="string"?C(n).replace("{hotkey}",f.value):C(n)(f.value),tabindex:"-1",style:Dn({pointerEvents:c.value?void 0:"none"})},{default:de(()=>[c.value?(J(),ge(Vy,{key:0,ref:_=>{u.value=C(Jr)(_)},onFocusFromOutsideViewport:y[0]||(y[0]=()=>{const _=h({tabbingDirection:"forwards"});C(fl)(_)})},null,512)):Ge("v-if",!0),ue(C(o),null,{default:de(()=>[ue(C(_t),Ve({ref:C(s),tabindex:"-1",as:m.as,"as-child":m.asChild},m.$attrs),{default:de(()=>[Ie(m.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),c.value?(J(),ge(Vy,{key:1,ref:_=>{d.value=C(Jr)(_)},onFocusFromOutsideViewport:y[1]||(y[1]=()=>{const _=h({tabbingDirection:"backwards"});C(fl)(_)})},null,512)):Ge("v-if",!0)]),_:3},8,["aria-label","style"]))}}),_$=v$,w$=Object.defineProperty,x$=(t,e,r)=>e in t?w$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xt=(t,e,r)=>x$(t,typeof e!="symbol"?e+"":e,r);class Rf extends Yr{constructor(e,r){super(`Service '${e}' failed booting`,{cause:r})}}function Ow(){return Sn.namespace??zf(Sn.name)}let tp=null;function Cw(){return tp??E$()}function E$(){return Ne(_O(),t=>{tp=t,ha(t)})}function A$(){return tp??Cw()}function S$(t,e){return Cw(),IO(t,e)()}function to(t){var e;return e=class extends Dc{usesStore(){return!0}getName(){return t.name??null}getInitialState(){return typeof t.initialState=="function"?t.initialState():Object.entries(t.initialState).reduce((r,[n,s])=>{try{s=structuredClone(s)}catch{console.warn(`Could not clone '${n}' state from ${this.getName()} service, this may cause problems if you're using multiple instances of the service (for example, in unit tests).
To fix this problem, declare your initialState as a function instead.`)}return r[n]=s,r},{})}getComputedStateDefinition(){return t.computed??{}}getStateWatchers(){return t.watch??{}}serializePersistedState(r){var n;return((n=t.serialize)==null?void 0:n.call(t,r))??r}deserializePersistedState(r){var n;return((n=t.restore)==null?void 0:n.call(t,r))??r}},xt(e,"persist",t.persist??[]),e}var _d;let Dc=(_d=class extends ml{constructor(){super(),xt(this,"_name"),xt(this,"_booted"),xt(this,"_computedStateKeys"),xt(this,"_watchers"),xt(this,"_store");const t=this.getComputedStateDefinition();this._name=this.getName()??new.target.name,this._booted=new ks,this._computedStateKeys=new Set(Object.keys(t)),this._watchers=this.getStateWatchers(),this._store=this.usesStore()&&S$(this._name,{state:()=>this.getInitialState(),getters:t})}get booted(){return this._booted}static(t){return super.static(t)}launch(){const t=e=>this._booted.reject(new Rf(this._name,e));try{this.frameworkBoot().then(()=>this.boot()).then(()=>this._booted.resolve()).catch(t)}catch(e){t(e)}return this._booted}hasPersistedState(){return nn.has(this.storageKey)}hasState(t){return this._store?t in this._store.$state||this._computedStateKeys.has(t):!1}getState(t){const e=this._store;return t?e?e[t]:void 0:e||{}}setState(t,e){if(!this._store)return;const r=typeof t=="string"?{[t]:e}:t,n=wa(this._store.$state,Object.keys(r));Object.assign(this._store.$state,r),this.onStateUpdated(r,n)}updatePersistedState(t){if(!this._store)return;const e=fr(t),r=wa(this._store.$state,e);Ro(r)||this.onPersistentStateUpdated(r)}__get(t){return this.hasState(t)?this.getState(t):super.__get(t)}__set(t,e){this.setState({[t]:e})}get storageKey(){return`${Ow()}:${this._name}`}onStateUpdated(t,e){const r=wa(t,this.static("persist"));Ro(r)||this.onPersistentStateUpdated(r);for(const n in t){const s=this._watchers[n];!s||t[n]===e[n]||s.call(this,t[n],e[n])}}onPersistentStateUpdated(t){const e=nn.get(this.storageKey);e&&nn.set(this.storageKey,{...e,...this.serializePersistedState(rn(t))})}usesStore(){return!1}getName(){return null}getInitialState(){return{}}getComputedStateDefinition(){return{}}getStateWatchers(){return{}}serializePersistedState(t){return t}deserializePersistedState(t){return t}async frameworkBoot(){this.restorePersistedState()}async boot(){}restorePersistedState(){if(!(!this.usesStore()||Ro(this.static("persist")))){if(nn.has(this.storageKey)){const t=nn.require(this.storageKey);this.setState(this.deserializePersistedState(t));return}nn.set(this.storageKey,wa(this.getState(),this.static("persist")))}}requireStore(){return this._store?this._store:We(`Failed getting '${this._name}' store`)}},xt(_d,"persist",[]),_d);class I$ extends Dc{constructor(){super(...arguments),xt(this,"listeners",{})}async boot(){Object.entries(globalThis.__aerogelEvents__??{}).forEach(([e,r])=>this.on(e,r))}async emit(e,r){var n;const s=this.listeners[e]??{priorities:[],handlers:{}};for(const i of s.priorities)await Promise.all(((n=s.handlers[i])==null?void 0:n.map(o=>o(r)))??[])}on(e,r,n){const s=typeof r=="function"?{}:typeof r=="number"?{priority:r}:r,i=typeof r=="function"?r:n;return this.registerListener(e,s,i),()=>this.off(e,i)}once(e,r,n){let s=null;const i=typeof r=="function"?{}:r,o=typeof r=="function"?r:n;return Ne(()=>s&&this.off(e,s),a=>{s=(...l)=>(a(),o(...l)),this.registerListener(e,i,o)})}off(e,r){var n;const s=this.listeners[e];if(!s)return;const i=[...s.priorities];for(const o of i)$r(s.handlers[o]??[],r),((n=s.handlers[o])==null?void 0:n.length)===0&&(delete s.handlers[o],$r(s.priorities,o));s.priorities.length===0&&delete this.listeners[e]}registerListener(e,r,n){var s,i,o;const a=r.priority??0;e in this.listeners||(this.listeners[e]={priorities:[],handlers:{}});const l=((s=this.listeners[e])==null?void 0:s.priorities)??We(`priorities missing for event '${e}'`),c=((i=this.listeners[e])==null?void 0:i.handlers)??We(`handlers missing for event '${e}'`);l.includes(a)||(l.push(a),l.sort((u,d)=>d-u),c[a]=[]),(o=c[a])==null||o.push(n)}}const Pt=Ns(I$),T$=to({name:"app",initialState:{plugins:{},instance:null,environment:Wl()??"development",version:Sn.version,sourceUrl:Sn.sourceUrl,settings:[],settingsFullscreenOnMobile:!1},computed:{development:t=>t.environment==="development",staging:t=>t.environment==="staging",testing:t=>t.environment==="test"||t.environment==="testing",versionName(t){return this.development?"dev."+Sn.sourceHash.toString().substring(0,7):this.staging?"staging."+Sn.sourceHash.toString().substring(0,7):`v${t.version}`},versionUrl(t){return t.sourceUrl+(this.development||this.staging?`/tree/${Sn.sourceHash}`:`/releases/tag/${this.versionName}`)}}});class R$ extends T${constructor(){super(...arguments),xt(this,"name",Sn.name),xt(this,"ready",new ks),xt(this,"mounted",new ks)}isReady(){return this.ready.isResolved()}isMounted(){return this.mounted.isResolved()}addSetting(e){this.settings.push(rt(e))}setSettingsFullscreenOnMobile(e){this.settingsFullscreenOnMobile=e}async whenReady(e){return await this.ready.then(e)}async reload(e){e&&Tx(e),location.reload(),await Ax()}plugin(e){return this.plugins[e]??null}service(e){var r;return((r=this.instance)==null?void 0:r.config.globalProperties[e])??null}async boot(){Pt.once("application-ready",()=>this.ready.resolve()),Pt.once("application-mounted",()=>this.mounted.resolve())}}const $t=Ns(R$);async function O$(t,...e){$t.setState("plugins",t.reduce((r,n)=>(n.name&&(r[n.name]=n),r),{})),await Promise.all(t.map(r=>r.install(...e))??[])}function C$(t){return Object.entries(t.props??{}).reduce((e,[r,n])=>e+`${r}="${Rt(n)}"`,"")}function k$(t){const e=hr(t);return e?un(e):void 0}function jr(t,e){return k$(t)??We(e??`Could not resolve '${Rt(t)}' injection key`)}function D$(t,e){return hr(t)??We(`Could not resolve '${Rt(t)}' injection key`)}function kw(t){return typeof t=="string"?t:t.type===fn?"":t.type===Xi||t.type===Mo?t.children:t.type==="br"?`

`:`<${t.type} ${C$(t)}>${Array.from(t.children).map(kw).join("")}</${t.type}>`}const wd=new WeakMap,P$={mounted(t,{value:e,modifiers:r}){const n=typeof e=="function"?e:null,s=()=>{const i=t.getBoundingClientRect();r.css&&(t.style.setProperty("--width",`${i.width}px`),t.style.setProperty("--height",`${i.height}px`)),n==null||n({width:i.width,height:i.height})};r.watch&&wd.set(t,Ne(new ResizeObserver(s)).observe(t)),s()},unmounted(t){var e;(e=wd.get(t))==null||e.unobserve(t),wd.delete(t)}};function Dw(t,e){const{baseClasses:r,...n}=t,{baseClasses:s,...i}=e,o=LC(s,i);return dr(o(n),C(r))}function dr(...t){return Ek(q_(t))}const $$={required:t=>t?void 0:"required"};function L$(t,e){var r;if(t==null)return!0;switch(e.type){case"string":return typeof t=="string";case"enum":return!!((r=e.values)!=null&&r.includes(t));case"number":return typeof t=="number";case"boolean":return typeof t=="boolean";case"date":return t instanceof Date;case"object":return typeof t=="object"}}const Of={...$$};function Pw(t,e){Of[t]=e}function N$(t,e){return L$(t,e)?[]:["invalid_value"]}function M$(t,e){var r;const n=(r=Of[e])==null?void 0:r.call(Of,t);return n?fr(n):[]}const Hy=new WeakMap;class F$ extends ml{constructor(e){super(),xt(this,"errors"),xt(this,"_fields"),xt(this,"_data"),xt(this,"_submitted"),xt(this,"_errors"),xt(this,"_listeners",{}),this._fields=e,this._submitted=Ae(!1),this._data=this.getInitialData(e),this._errors=this.getInitialErrors(e),Hy.set(this,re(()=>!Object.values(this._errors).some(r=>r!==null))),this.errors=Pn(this._errors)}get valid(){var e;return!!((e=Hy.get(this))!=null&&e.value)}get submitted(){return this._submitted.value}setFieldValue(e,r){this._data[e]=r,this._submitted.value&&this.validate()}getFieldValue(e){return this._data[e]}getFieldRules(e){var r;return((r=this._fields[e])==null?void 0:r.rules)??[]}setFieldErrors(e,r){this._errors[e]=r}getFieldType(e){var r;return((r=this._fields[e])==null?void 0:r.type)??null}data(){return{...this._data}}validate(){const e=Object.entries(this._fields).reduce((r,[n,s])=>(r[n]=this.getFieldErrors(n,s),r),{});return this.resetErrors(e),this.valid}reset(e={}){this._submitted.value=!1,e.keepData||this.resetData(),e.keepErrors||this.resetErrors()}submit(){var e;this._submitted.value=!0;for(const[n,s]of Object.entries(this._data)){const i=this._fields[n]??We();typeof s!="string"||!(i.trim??!0)||(this._data[n]=s.trim())}const r=this.validate();return r&&((e=this._listeners.submit)==null||e.forEach(n=>n())),r}on(e,r){var n,s;return(n=this._listeners)[e]??(n[e]=[]),(s=this._listeners[e])==null||s.push(r),()=>this.off(e,r)}off(e,r){$r(this._listeners[e]??[],r)}async focus(e){var r;await _r(),(r=this._listeners.focus)==null||r.forEach(n=>n(e))}__get(e){return e in this._fields?this.getFieldValue(e):super.__get(e)}__set(e,r){if(!(e in this._fields)){super.__set(e,r);return}this.setFieldValue(e,r)}getFieldErrors(e,r){const n=[],s=this._data[e],i=r.rules??[];n.push(...N$(s,r));for(const o of i)o!=="required"&&s==null||n.push(...M$(s,o));return n.length>0?n:null}getInitialData(e){if(this.static().isConjuring())return{};const r=Object.entries(e).reduce((n,[s,i])=>(n[s]=i.default??null,n),{});return un(r)}getInitialErrors(e){if(this.static().isConjuring())return{};const r=Object.keys(e).reduce((n,s)=>(n[s]=null,n),{});return un(r)}resetData(){for(const[e,r]of Object.entries(this._fields))this._data[e]=r.default??null}resetErrors(e){Object.keys(this._errors).forEach(r=>delete this._errors[r]),e&&Object.assign(this._errors,e)}}function j$(t,e){const r=hr("form",null),n=r==null?void 0:r.on("focus",s=>t.name===s&&e());jn(()=>n==null?void 0:n())}function Pc(t){return new F$(t)}function U$(){const t=J0(),e=re(()=>t.class);return[re(()=>ji(t,"class")),e]}function B$(t,e){const r=un(nn.get(t)??e);return st(r,()=>nn.set(t,Qe(r))),r}function q$(t,e={}){let r=new Set(t),n,s;const i=e==null?void 0:e.equals,o=i?l=>a.value.values().some(c=>i(l,c)):()=>!1,a=O0((l,c)=>(s=l,n=c,{get:()=>r,set:()=>We("Attempted to write read-only reactive set")}));return{values(){return s(),Array.from(a.value.values())},has(l){return s(),a.value.has(l)||o(l)},add(l){n(),!o(l)&&a.value.add(l)},delete(l){n(),a.value.delete(l)},clear(){n(),a.value.clear()},reset(l){n(),r=new Set(l)}}}function V$(){return Ne(new Hi,t=>{t.link=function(e){const r=Hi.prototype.link.apply(this,[e]);return e.href.startsWith("#")?r:r.replace("<a",'<a target="_blank"')}})}function H$(t){const e=Hb(t,/<a[^>]*href="#action:([^"]+)"[^>]*>([^<]+)<\/a>/g);for(const[r,n,s]of e)t=t.replace(r,`<button type="button" data-markdown-action="${n}">${s}</button>`);return t}function z$(t){const e=Hb(t,/<a[^>]*href="#route:([^"]+)"[^>]*>([^<]+)<\/a>/g);for(const[r,n,s]of e){const i=n;t=t.replace(r,`<a data-markdown-route="${n}" href="${i}">${s}</a>`)}return t}function W$(t){let e=ft(t,{renderer:V$(),async:!1});return e=$w(e),e=H$(e),e=z$(e),e}function $w(t){return GO.sanitize(t,{ADD_ATTR:["target"]})}function zy(t){return-(t??new Date).getTimezoneOffset()*-6e4}const K$={mounted(t,{value:e}){t.innerHTML=$w(e)}},G$={measure:P$,"safe-html":K$},J$={install(t,e){const r={...G$,...e.directives};for(const[n,s]of Object.entries(r))t.directive(n,s)}};class X$ extends Dc{constructor(){super(...arguments),xt(this,"cache")}async get(e){return await(await this.open()).match(e)??null}async store(e,r){await(await this.open()).put(e,r)}async replace(e,r){const n=await this.open();(await n.keys(e)).length!==0&&await n.put(e,r)}async open(){return this.cache=this.cache??Ne(new ks,e=>{caches.open("app").then(r=>e.resolve(r))})}}Ns(X$);class Y$ extends Dc{async purge(){await Pt.emit("purge-storage")}}const rp=Ns(Y$),Q$={$app:$t,$events:Pt,$storage:rp};async function ya(t,e){await Promise.all(Object.entries(e).map(async([r,n])=>{await n.launch().catch(s=>{var i,o;return(o=(i=t.config).errorHandler)==null?void 0:o.call(i,s,null,`Failed launching ${r}.`)})})),Object.assign(t.config.globalProperties,e),(Ds()||Vf())&&Object.assign(globalThis,e)}const Z$={async install(t,e){var r;const n={...Q$,...e.services};t.use(A$()),(r=e.settings)==null||r.forEach(s=>$t.addSetting(s)),e.settingsFullscreenOnMobile!==void 0&&$t.setSettingsFullscreenOnMobile(e.settingsFullscreenOnMobile),await ya(t,n)}};class eL{constructor(e,r){this.locale=e,this.fallbackLocale=r}getLocale(){return this.locale}async setLocale(e){this.locale=e}getFallbackLocale(){return this.fallbackLocale}async setFallbackLocale(e){this.fallbackLocale=e}getLocales(){return["en"]}translate(e){return Ds()&&console.warn("Lang provider is missing"),e}translateWithDefault(e,r){return Ds()&&console.warn("Lang provider is missing"),r}}const tL=to({name:"lang",persist:["locale","fallbackLocale"],initialState:{locale:null,locales:["en"],fallbackLocale:"en"}});class rL extends tL{constructor(){super(),xt(this,"provider"),this.provider=new eL(this.getState("locale")??this.getBrowserLocale(),this.getState("fallbackLocale"))}async setProvider(e){this.provider=e,this.locales=e.getLocales(),await e.setLocale(this.locale??this.getBrowserLocale()),await e.setFallbackLocale(this.fallbackLocale)}translate(e,r){return this.provider.translate(e,r)??e}translateWithDefault(e,r,n={}){return this.provider.translateWithDefault(e,r,n)}getBrowserLocale(){const e=this.getState("locales");return navigator.languages.find(r=>e.includes(r))??"en"}async boot(){globalThis.document&&this.requireStore().$subscribe(async()=>{var e,r;await this.provider.setLocale(this.locale??this.getBrowserLocale()),await this.provider.setFallbackLocale(this.fallbackLocale),this.locale?(e=document.querySelector("html"))==null||e.setAttribute("lang",this.locale):(r=document.querySelector("html"))==null||r.removeAttribute("lang")},{immediate:!0})}}const Ls=Ns(rL),ea=Ls.translate.bind(Ls),ze=Ls.translateWithDefault.bind(Ls),Lw=[];function nL(t){Lw.push(t)}function Nw(t){for(const e of Lw){const r=e(t);if(r)return r}return typeof t=="string"?t:t instanceof Error||t instanceof Yr?t.message:lt(t)?Rt(t.message??t.description??"Unknown error object"):ze("errors.unknown","Unknown Error")}const Wy=new WeakSet;function np(){const t=Uh(),{close:e,remove:r,...n}=DC(Wy.has(t)?{}:{removeOnClose:!1});return Wy.add(t),{...n,async close(s){e(s),await Rn(1e3),r()}}}const Mw=768,jl={Mobile:"mobile",Desktop:"desktop"};function Fw(){return globalThis.innerWidth>Mw?jl.Desktop:jl.Mobile}const sL=to({name:"ui",initialState:{toasts:[],layout:Fw()},computed:{desktop:({layout:t})=>t===jl.Desktop,mobile:({layout:t})=>t===jl.Mobile}});class iL extends sL{constructor(){super(...arguments),xt(this,"components",{})}registerComponent(e,r){this.components[e]=r}resolveComponent(e){return this.components[e]??null}requireComponent(e){return this.resolveComponent(e)??We(`UI Component '${e}' is not defined!`)}alert(e,r){const n=()=>typeof r!="string"?{message:e}:{title:e,message:r};this.modal(this.requireComponent("alert-modal"),n())}async confirm(e,r,n){const s=typeof r!="string"?{...r??{},message:e,required:!!(r!=null&&r.required)}:{...n??{},title:e,message:r,required:!!(n!=null&&n.required)},{response:i}=await this.modal(this.requireComponent("confirm-modal"),s),o=typeof i=="object"?i[0]:i??!1,a=typeof i=="object"?i[1]:Object.entries(s.checkboxes??{}).reduce((l,[c,{default:u}])=>({[c]:u??!1,...l}),{});for(const[l,c]of Object.entries(s.checkboxes??{}))if(!(!c.required||a[l]))return o&&Ds()&&console.warn(`Confirmed confirm modal was suppressed because required '${l}' checkbox was missing`),[!1,a];return"checkboxes"in s?[o,a]:o}async prompt(e,r,n){const s=(n==null?void 0:n.trim)??!0,i=()=>typeof r!="string"?{message:e,...r??{}}:{title:e,message:r,...n??{}},{response:o}=await this.modal(this.requireComponent("prompt-modal"),i());return(s&&typeof o=="string"?o==null?void 0:o.trim():o)??null}async loading(e,r){const n=u=>typeof u=="function"?Promise.resolve(u()):u,s=()=>{if(typeof e=="string")return{props:{message:e},operationPromise:n(r)};if(typeof e=="function"||e instanceof Promise)return{operationPromise:n(e)};const{delay:u,...d}=e;return{props:d,delay:C(u),operationPromise:n(r)}};let i=!1;const{operationPromise:o,props:a,delay:l}=s();if(l&&await Promise.race([Rn({ms:l}).then(()=>i=!0),o]),l&&!i)return o;const c=U_(this.requireComponent("loading-modal"),a);uy(c);try{const u=await o;return await Rn({ms:500}),u}finally{await dy(c.id,{removeAfter:1e3})}}toast(e,r={}){const{component:n,...s}=r,i={id:Ar(),properties:{message:e,...s},component:rt(n??this.requireComponent("toast"))};this.setState("toasts",this.toasts.concat(i))}modal(e,r){return uy(e,r??{})}async closeAllModals(){await Promise.all(Tt.value.map(({id:e})=>dy(e,{removeAfter:1e3})))}async boot(){this.watchMountedEvent(),this.watchViewportBreakpoints()}watchMountedEvent(){Pt.once("application-mounted",async()=>{if(!globalThis.document||!globalThis.getComputedStyle)return;const e=globalThis.document.getElementById("splash");e&&(globalThis.getComputedStyle(e).opacity!=="0"&&(e.style.opacity="0",await Rn({ms:600})),e.remove())})}watchViewportBreakpoints(){globalThis.matchMedia&&globalThis.matchMedia(`(min-width: ${Mw}px)`).addEventListener("change",()=>this.setState({layout:Fw()}))}}const Gt=Ns(iL),oL=to({name:"errors",initialState:{logs:[],startupErrors:[],debug:!1},computed:{hasErrors:({logs:t})=>t.length>0,hasNewErrors:({logs:t})=>t.some(e=>!e.seen),hasStartupErrors:({startupErrors:t})=>t.length>0}});class aL extends oL{constructor(){super(...arguments),xt(this,"forceReporting",!1),xt(this,"enabled",!0),xt(this,"eruda",null),xt(this,"erudaPlugins",null)}enable(){this.enabled=!0}disable(){this.enabled=!1}async inspect(e,r){if(Array.isArray(e)&&e.length===0){Gt.alert(ze("errors.inspectEmpty","Nothing to inspect!"));return}const n=Array.isArray(e)?e[0]:this.isErrorReport(e)?e:await this.createErrorReport(e),s=Array.isArray(e)?e:r??[n];Gt.modal(Gt.requireComponent("error-report-modal"),{report:n,reports:s})}async report(e,r){if(await Pt.emit("error",{error:e,message:r}),Vf("unit")||(Ds()&&this.logError(e),!this.enabled))throw e;if(!$t.isMounted()){const i=await this.createStartupErrorReport(e);i&&this.setState({startupErrors:this.startupErrors.concat(i)});return}const n=await this.createErrorReport(e),s={report:n,seen:!1,date:new Date};Gt.toast(r??ze("errors.notice","Something went wrong, but it's not your fault. Try again!"),{variant:"danger",actions:[{label:ze("errors.viewDetails","View details"),dismiss:!0,click:()=>Gt.modal(Gt.requireComponent("error-report-modal"),{report:n,reports:[n]})}]}),this.setState({logs:[s].concat(this.logs)})}reportDevelopmentError(e,r){Ds()&&(r&&console.warn(r),this.logError(e))}see(e){this.setState({logs:this.logs.map(r=>r.report!==e?r:{...r,seen:!0})})}async boot(){Bt(async()=>{var e;if(!this.debug){(e=this.eruda)==null||e.destroy();return}this.eruda??(this.eruda=(await sn(async()=>{const{default:r}=await import("./eruda-CmQLyEKj.js").then(n=>n.e);return{default:r}},[])).default),this.erudaPlugins??(this.erudaPlugins=[(await sn(async()=>{const{default:r}=await import("./eruda-indexeddb-C1qvMOYU.js");return{default:r}},__vite__mapDeps([0,1]))).default]),this.eruda.init(),this.erudaPlugins.forEach(r=>{var n;return(n=this.eruda)==null?void 0:n.add(r)})})}logError(e){console.error(e),lt(e)&&e.cause&&this.logError(e.cause)}isErrorReport(e){return lt(e)&&"title"in e}async createErrorReport(e){return typeof e=="string"?{title:e}:e instanceof Error||e instanceof Yr?this.createErrorReportFromError(e):lt(e)?xr({title:Rt(e.name??e.title??ze("errors.unknown","Unknown Error")),description:Rt(e.message??e.description??ze("errors.unknownDescription","Unknown error object")),error:e}):{title:ze("errors.unknown","Unknown Error"),error:e}}async createStartupErrorReport(e){return e instanceof Rf?e.cause instanceof Rf?null:this.createErrorReport(e.cause):this.createErrorReport(e)}createErrorReportFromError(e,r={}){return{title:e.name,description:e.message,details:e.stack,error:e,...r}}}const Ul=Ns(aL),jw=be({__name:"HeadlessButton",props:{class:{},disabled:{type:Boolean},href:{},route:{},routeParams:{},routeQuery:{},size:{},submit:{type:Boolean},variant:{},asChild:{type:Boolean},as:{}},setup(t){const e=re(()=>t.as?{as:t.as}:t.route?{as:Gt.resolveComponent("router-link")??"a",to:xr({name:t.route,params:t.routeParams,query:t.routeQuery})}:t.href?{as:"a",target:"_blank",href:t.href}:{as:"button",type:t.submit?"submit":"button"});return(r,n)=>(J(),ge(C(_t),Ve({class:t.class,"as-child":r.asChild,disabled:r.disabled},e.value),{default:de(()=>[Ie(r.$slots,"default")]),_:3},16,["class","as-child","disabled"]))}}),Nt=be({__name:"Button",props:{class:{},disabled:{type:Boolean},href:{},route:{},routeParams:{},routeQuery:{},size:{},submit:{type:Boolean},variant:{},asChild:{type:Boolean},as:{}},setup(t){const e=Ji(t,["class","size","variant","disabled"]),r=re(()=>Dw({baseClasses:t.class,variant:t.variant,size:t.size,disabled:t.disabled},{baseClasses:"focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",variants:{variant:{default:"bg-primary-600 text-white focus-visible:outline-primary-600",secondary:"bg-background text-gray-900 ring-gray-300",danger:"bg-red-600 text-white focus-visible:outline-red-600",warning:"bg-yellow-600 text-white focus-visible:outline-yellow-600",ghost:"bg-transparent",outline:"bg-transparent text-primary-600 ring-primary-600",link:"text-links"},size:{small:"text-xs min-h-6",default:"text-sm min-h-8",large:"text-base min-h-10",icon:"rounded-full p-2.5"},disabled:{false:null,true:"opacity-50 cursor-not-allowed"}},compoundVariants:[{variant:["default","secondary","danger","ghost","outline"],class:"flex items-center justify-center gap-1 font-medium"},{variant:["default","danger"],class:"shadow-sm"},{variant:["secondary","outline"],class:"ring-1 ring-inset"},{variant:["default","secondary","danger","ghost","outline"],size:"small",class:"rounded px-2 py-1"},{variant:["default","secondary","danger","ghost","outline"],size:"default",class:"rounded-md px-2.5 py-1.5"},{variant:["default","secondary","danger","ghost","outline"],size:"large",class:"rounded-md px-3 py-2"},{variant:"default",disabled:!1,class:"hover:bg-primary-500"},{variant:["secondary","ghost","outline"],disabled:!1,class:"hover:bg-gray-50"},{variant:"danger",disabled:!1,class:"hover:bg-red-500"},{variant:"link",disabled:!1,class:"hover:underline"},{variant:"link",size:"small",class:"leading-6"},{variant:"link",size:"default",class:"leading-8"},{variant:"link",size:"large",class:"leading-10"}],defaultVariants:{variant:"default",size:"default",disabled:!1}}));return(n,s)=>(J(),ge(jw,Ve({class:r.value,disabled:n.disabled},e),{default:de(()=>[Ie(n.$slots,"default")]),_:3},16,["class","disabled"]))}});function lL(t){return typeof t=="object"&&t!==null&&"label"in t}function cL(t,e){const r=hr("form",null),n=u=>u===void 0?"":t.value.renderOption?t.value.renderOption(u):lL(u)?kb(u.label):Rt(u),s=re(()=>{const{name:u,modelValue:d}=t.value;return r&&u?r.getFieldValue(u):d}),i=re(()=>s.value),o=re(()=>!r||!t.value.name?null:r.errors[t.value.name]??null),a=re(()=>t.value.options?t.value.options.map(u=>({key:Ar(),label:n(u),value:u})):null),l={renderOption:n,labelClass:re(()=>t.value.labelClass),optionsClass:re(()=>t.value.optionsClass),align:re(()=>t.value.align),side:re(()=>t.value.side),value:s,id:`select-${Ar()}`,name:re(()=>t.value.name),label:re(()=>t.value.label),description:re(()=>t.value.description),placeholder:re(()=>t.value.placeholder??ze("ui.select","Select an option")),options:a,selectedOption:re(()=>{var u;return(u=a.value)==null?void 0:u.find(d=>d.value===t.value.modelValue)}),errors:Pn(o),required:re(()=>{if(!(!t.value.name||!r))return r.getFieldRules(t.value.name).includes("required")}),update(u){if(r&&t.value.name){r.setFieldValue(t.value.name,u);return}e("update:modelValue",u)}};function c(u){l.update(u)}return Us("select",l),{expose:l,acceptableValue:i,update:c,renderOption:n}}const sp=be({__name:"HeadlessSelectValue",setup(t){const e=jr("select","<HeadlessSelectValue> must be a child of a <HeadlessSelect>");return(r,n)=>r.$slots.default?(J(),ge(C(By),{key:0,placeholder:C(e).placeholder},{default:de(()=>[Ie(r.$slots,"default")]),_:3},8,["placeholder"])):(J(),ge(C(By),{key:1,placeholder:C(e).placeholder},null,8,["placeholder"]))}}),ip=be({__name:"HeadlessSelectTrigger",setup(t){const e=jr("select","<HeadlessSelectTrigger> must be a child of a <HeadlessSelect>");return(r,n)=>(J(),ge(C(qP),{id:C(e).id},{default:de(()=>[Ie(r.$slots,"default",{},()=>[ue(sp,{placeholder:C(e).placeholder},null,8,["placeholder"]),ue(C(DP))])]),_:3},8,["id"]))}}),Uw=be({__name:"HeadlessSelectOption",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},setup(t){const e=jr("select","<HeadlessSelectOption> must be a child of a <HeadlessSelect>"),r=re(()=>{var n;const s=(n=e.options)==null?void 0:n.find(i=>i.value===t.value);return s?e.renderOption(s.value):Rt(t.value)});return(n,s)=>(J(),ge(C(NP),js(ds(n.$props)),{default:de(()=>[ue(C(FP),null,{default:de(()=>[Ie(n.$slots,"default",{},()=>[tt(je(r.value),1)])]),_:3})]),_:3},16))}}),Bw=be({__name:"HeadlessSelectOptions",props:{class:{},innerClass:{}},setup(t){const e=jr("select","<HeadlessSelectOptions> must be a child of a <HeadlessSelect>"),r=re(()=>dr("min-w-(--reka-select-trigger-width) max-h-(--reka-select-content-available-height)",t.class));return(n,s)=>(J(),ge(C(UP),null,{default:de(()=>[ue(C(CP),{position:"popper",class:dt(r.value),align:C(e).align,side:C(e).side,"side-offset":4},{default:de(()=>[ue(C(zP),{class:dt(n.innerClass)},{default:de(()=>[Ie(n.$slots,"default",{},()=>[(J(!0),Se(Ze,null,Un(C(e).options??[],i=>(J(),ge(Uw,{key:i.key,value:i.value},null,8,["value"]))),128))])]),_:3},8,["class"])]),_:3},8,["class","align","side"])]),_:3}))}}),qw=be({inheritAttrs:!1,__name:"HeadlessSelect",props:{as:{default:"div"},options:{},placeholder:{},renderOption:{type:Function},compareOptions:{type:Function,default:(t,e)=>t===e},labelClass:{},optionsClass:{},align:{},side:{},name:{},label:{},description:{},modelValue:{}},emits:["update:modelValue"],setup(t,{expose:e,emit:r}){const n=r,s=Ji(t,["as","compareOptions"]),{expose:i,acceptableValue:o,update:a}=cL(re(()=>({as:t.as,compareOptions:t.compareOptions,...s})),n);return e(i),(l,c)=>(J(),ge(C(pP),{"model-value":C(o),by:l.compareOptions,"onUpdate:modelValue":c[0]||(c[0]=u=>C(a)(u))},{default:de(({open:u})=>[(J(),ge(Bs(l.as),js(ds(l.$attrs)),{default:de(()=>[Ie(l.$slots,"default",{modelValue:l.modelValue,open:u},()=>[ue(ip),ue(Bw)])]),_:2},1040))]),_:3},8,["model-value","by"]))}}),Ky=be({__name:"HeadlessSelectLabel",props:{asChild:{type:Boolean},as:{}},setup(t){const e=jr("select","<HeadlessSelectLabel> must be a child of a <HeadlessSelect>"),r=Ih(),n=re(()=>!!(e.label||r.default));return(s,i)=>n.value?(J(),ge(C(lP),Ve({key:0,for:C(e).id},s.$props),{default:de(()=>[Ie(s.$slots,"default",{},()=>[tt(je(C(e).label),1)])]),_:3},16,["for"])):Ge("",!0)}}),Vw=be({__name:"SelectLabel",props:{class:{}},setup(t){const e=jr("select","<SelectLabel> must be a child of a <Select>"),r=re(()=>dr("block text-sm leading-6 font-medium text-gray-900",e.labelClass,t.class));return(n,s)=>n.$slots.default?(J(),ge(Ky,{key:0,class:dt(r.value)},{default:de(()=>[Ie(n.$slots,"default")]),_:3},8,["class"])):(J(),ge(Ky,{key:1,class:dt(r.value)},null,8,["class"]))}}),Gy=be({__name:"SelectOption",props:{value:{},class:{},innerClass:{}},setup(t){const e=re(()=>dr("group p-1 outline-none",t.class)),r=re(()=>dr("relative flex max-w-[calc(100vw-2rem)] cursor-pointer items-center truncate rounded-md gap-2 px-2 py-1 text-sm select-none *:truncate group-data-[highlighted]:bg-gray-100 group-data-[state=checked]:font-semibold group-data-[state=unchecked]:opacity-50",t.innerClass));return(n,s)=>(J(),ge(Uw,{class:dt(e.value),value:n.value},{default:de(()=>[Oe("div",{class:dt(r.value)},[Ie(n.$slots,"default")],2)]),_:3},8,["class","value"]))}}),op=be({__name:"SelectOptions",props:{class:{}},setup(t){const e=jr("select","<SelectOptions> must be a child of a <Select>"),r=re(()=>dr("z-50 overflow-auto rounded-lg bg-white text-base shadow-lg ring-1 ring-black/5 focus:outline-hidden",e.optionsClass,t.class));return(n,s)=>(J(),ge(Bw,{class:dt(r.value)},{default:de(()=>{var i;return[(i=C(e).options)!=null&&i.length?Ie(n.$slots,"default",{key:0},()=>{var o;return[(J(!0),Se(Ze,null,Un(((o=C(e))==null?void 0:o.options)??[],a=>(J(),ge(Gy,{key:a.key,value:a.value},{default:de(()=>[tt(je(a.label),1)]),_:2},1032,["value"]))),128))]}):Ie(n.$slots,"default",{key:1},()=>[ue(Gy,{disabled:"",value:null},{default:de(()=>[tt(je(n.$td("ui.selectEmpty","No options available")),1)]),_:1})])]}),_:3},8,["class"]))}}),uL={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function dL(t,e){return J(),Se("svg",uL,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"m9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828L5.757 6.586L4.343 8z"},null,-1)]))}const fL=rt({name:"zondicons-cheveron-down",render:dL}),hL={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function pL(t,e){return J(),Se("svg",hL,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M2.93 17.07A10 10 0 1 1 17.07 2.93A10 10 0 0 1 2.93 17.07M9 5v6h2V5zm0 8v2h2v-2z"},null,-1)]))}const ap=rt({name:"zondicons-exclamation-solid",render:pL}),mL={key:0,class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},Hw=be({__name:"SelectTrigger",props:{class:{}},setup(t){const e=jr("select","<SelectTrigger> must be a child of a <Select>"),r=re(()=>dr("relative grid w-full cursor-default grid-cols-1 rounded-md bg-white py-1.5 pr-2 pl-3 text-left text-gray-900 outline-1 -outline-offset-1","focus:outline-2 focus:-outline-offset-2 sm:text-sm/6",{"mt-1":e.label,"outline-gray-300 focus:outline-primary-600 data-[state=open]:outline-primary-600":!e.errors,"text-gray-900 shadow-2xs ring-gray-900/10 placeholder:text-gray-400":!e.errors,"outline-red-900/10 pr-10 text-red-900 placeholder:text-red-300":e.errors,"focus:outline-red-500 data-[state=open]:outline-red-500":e.errors},t.class));return(n,s)=>(J(),ge(ip,{class:dt(r.value)},{default:de(()=>{var i;return[ue(sp,{class:"col-start-1 row-start-1 truncate pr-6"}),ue(C(fL),{class:"col-start-1 row-start-1 size-5 self-center justify-self-end text-gray-500 sm:size-4"}),(i=C(e))!=null&&i.errors?(J(),Se("div",mL,[ue(C(ap),{class:"size-5 text-red-500"})])):Ge("",!0)]}),_:1},8,["class"]))}}),gL=["id"],yL=be({__name:"HeadlessSelectError",setup(t){const e=jr("select","<HeadlessSelectError> must be a child of a <HeadlessSelect>"),r=re(()=>e.errors?ze(`errors.${e.errors[0]}`,`Error: ${e.errors[0]}`):null);return(n,s)=>r.value?(J(),Se("p",{key:0,id:`${C(e).id}-error`},je(r.value),9,gL)):Ge("",!0)}}),bL=be({__name:"Select",props:{as:{},options:{},placeholder:{},renderOption:{type:Function},compareOptions:{type:Function},labelClass:{},optionsClass:{},align:{},side:{},name:{},label:{},description:{},modelValue:{}},emits:["update:modelValue"],setup(t){const{forwardRef:e}=ht();return(r,n)=>(J(),ge(qw,Ve({ref:C(e)},r.$props,{"onUpdate:modelValue":n[0]||(n[0]=s=>r.$emit("update:modelValue",s))}),{default:de(()=>[ue(Vw),Ie(r.$slots,"default",{},()=>[ue(Hw),ue(yL,{class:"mt-2 text-sm text-red-600"}),ue(op)])]),_:3},16))}}),vL={class:"grow"},_L=be({__name:"Language",setup(t){const e=Ls.getBrowserLocale(),r=re(()=>[null,...Ls.locales]);function n(s){return(s&&Sn.locales[s])??ze("settings.localeDefault","{locale} (default)",{locale:Sn.locales[e]??e})}return(s,i)=>(J(),ge(bL,{modelValue:s.$lang.locale,"onUpdate:modelValue":i[0]||(i[0]=o=>s.$lang.locale=o),class:"flex flex-col items-start md:flex-row",as:"div",options:r.value,"render-option":n},{default:de(()=>[Oe("div",vL,[ue(Vw,{class:"text-base font-semibold"},{default:de(()=>[tt(je(s.$td("settings.locale","Language")),1)]),_:1}),ue(qt,{"lang-key":"settings.localeDescription","lang-default":"Choose the application's language.",class:"mt-1 text-sm text-gray-500"})]),ue(Nt,{variant:"ghost",as:Hw,class:"grid w-auto outline-none"}),ue(op)]),_:1},8,["modelValue","options"]))}}),wL=[{priority:100,component:_L}],xL={$lang:Ls},EL={async install(t){var e;(e=t.config.globalProperties).$t??(e.$t=ea),t.config.globalProperties.$td=ze,wL.forEach(r=>$t.addSetting(r)),await ya(t,xL)}},AL=be({__name:"Markdown",props:{as:{},inline:{type:Boolean},langKey:{},langParams:{},langDefault:{},text:{},actions:{}},setup(t){const e=J0(),r=Ih(),n=re(()=>r.default?r.default().map(kw).join(""):t.text??(t.langKey&&(t.langDefault?ze(t.langKey,t.langDefault,t.langParams??{}):ea(t.langKey,t.langParams??{})))),s=re(()=>{if(!n.value)return null;let a=W$(n.value);return t.inline&&(a=a.replace("<p>","<span>").replace("</p>","</span>")),a}),i=()=>rs(t.as??(t.inline?"span":"div"),{innerHTML:s.value,onClick:o,...e,class:`${e.class??""} ${t.inline?"":"prose"}`});async function o(a){var l,c;const{target:u}=a;if(As(u,HTMLElement)&&u.dataset.markdownAction){(c=(l=t.actions)==null?void 0:l[u.dataset.markdownAction])==null||c.call(l);return}As(u,HTMLAnchorElement)&&u.dataset.markdownRoute}return(a,l)=>(J(),ge(i))}}),SL=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},qt=SL(AL,[["__scopeId","data-v-8b211cfb"]]),IL={class:"flex-grow"},TL=["id"],RL=be({__name:"Setting",props:{title:{},titleId:{},description:{},class:{},layout:{default:"horizontal"}},setup(t){const e=re(()=>dr(t.class,"flex flex-col justify-center gap-1"));return(r,n)=>(J(),Se("div",{class:dt(["mt-4 flex",{"flex-col":r.layout==="vertical"}])},[Oe("div",IL,[Oe("h3",{id:r.titleId,class:"text-base font-semibold"},je(r.title),9,TL),r.description?(J(),ge(qt,{key:0,text:r.description,class:"mt-1 text-sm text-gray-500"},null,8,["text"])):Ge("",!0)]),Oe("div",{class:dt(e.value)},[Ie(r.$slots,"default")],2)],2))}}),OL=["for"],CL=be({inheritAttrs:!1,__name:"HeadlessSwitch",props:{name:{},label:{},description:{},modelValue:{},class:{},labelClass:{},inputClass:{},thumbClass:{}},emits:["update:modelValue"],setup(t,{expose:e,emit:r}){const n=r,s=hr("form",null),i=re(()=>!s||!t.name?null:s.errors[t.name]??null),o={id:`switch-${Ar()}`,name:re(()=>t.name),label:re(()=>t.label),description:re(()=>t.description),value:re(()=>s&&t.name?s.getFieldValue(t.name):t.modelValue),errors:Pn(i),required:re(()=>{if(!(!t.name||!s))return s.getFieldRules(t.name).includes("required")}),update(a){if(s&&t.name){s.setFieldValue(t.name,a);return}n("update:modelValue",a)}};return e(o),Bt(()=>{!t.description&&!i.value||console.warn("Errors and description not implemented in <HeadlessSwitch>")}),(a,l)=>(J(),Se("div",{class:dt(t.class)},[a.label?(J(),Se("label",{key:0,for:o.id,class:dt(a.labelClass)},je(a.label),11,OL)):Ge("",!0),ue(C(JP),Ve({id:o.id,name:a.name,"model-value":o.value.value},a.$attrs,{class:a.inputClass,"onUpdate:modelValue":l[0]||(l[0]=c=>a.$emit("update:modelValue",c))}),{default:de(()=>[ue(C(YP),{class:dt(a.thumbClass)},null,8,["class"])]),_:1},16,["id","name","model-value","class"])],2))}}),kL=be({__name:"Switch",setup(t){return(e,r)=>(J(),ge(CL,{class:"flex flex-row items-center gap-1","input-class":"disabled:opacity-50 disabled:cursor-not-allowed data-[state=checked]:bg-primary-600 data-[state=unchecked]:bg-gray-200 relative inline-flex h-6 w-11 shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focusdisabled:opacity-50 disabled:cursor-not-allowed :ring-2 focus:ring-primary-600 focus:ring-offset-2 focus:outline-hidden","thumb-class":"data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 pointer-events-none inline-block size-5 transform rounded-full bg-white shadow-sm ring-0 transition duration-200 ease-in-out"}))}}),DL=be({__name:"Debug",setup(t){return(e,r)=>(J(),ge(RL,{"title-id":"debug-setting",title:e.$td("settings.debug","Debugging"),description:e.$td("settings.debugDescription","Enable debugging with [Eruda](https://eruda.liriliri.io/).")},{default:de(()=>[ue(kL,{modelValue:e.$errors.debug,"onUpdate:modelValue":r[0]||(r[0]=n=>e.$errors.debug=n),"aria-labelledby":"debug-setting"},null,8,["modelValue"])]),_:1},8,["title","description"]))}}),PL=[{priority:10,component:DL}],$L={$errors:Ul},LL=t=>(Nw(t).includes("ResizeObserver loop completed with undelivered notifications.")||Ul.report(t),!0);function NL(t,e=()=>!1){const r=n=>e(n)||LL(n);t.config.errorHandler=r,globalThis.onerror=(n,s,i,o,a)=>r(a??n),globalThis.onunhandledrejection=n=>r(n.reason)}const ML={async install(t,e){NL(t,e.handleError),PL.forEach(r=>$t.addSetting(r)),await ya(t,$L)}},FL={async install(){Vf()&&(globalThis.testingRuntime={on:(...t)=>Pt.on(...t),service:t=>$t.service(t)})}},jL={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function UL(t,e){return J(),Se("svg",jL,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M10 8.586L2.929 1.515L1.515 2.929L8.586 10l-7.071 7.071l1.414 1.414L10 11.414l7.071 7.071l1.414-1.414L11.414 10l7.071-7.071l-1.414-1.414z"},null,-1)]))}const BL=rt({name:"zondicons-close",render:UL}),qL=be({__name:"HeadlessModal",props:{persistent:{type:Boolean},fullscreen:{type:Boolean},fullscreenOnMobile:{type:Boolean},title:{},titleHidden:{type:Boolean},description:{},descriptionHidden:{type:Boolean}},setup(t,{expose:e}){const r=Ae(null),{close:n}=np();e({$content:r});const{forwardRef:s}=ht();return Us("$modalContentRef",r),(i,o)=>(J(),ge(C(c2),{ref:C(s),open:"","onUpdate:open":o[0]||(o[0]=a=>i.persistent||a||C(n)())},{default:de(()=>[ue(C(U2),null,{default:de(()=>[Ie(i.$slots,"default",{close:C(n)})]),_:3})]),_:3},512))}}),VL=be({__name:"HeadlessModalContent",setup(t){const{child:e}=np(),r=D$("$modalContentRef"),n=Sh("$contentRef");return Bt(()=>r.value=n.value),(s,i)=>(J(),ge(C(k2),{ref:"$contentRef"},{default:de(()=>[Ie(s.$slots,"default"),C(e)?(J(),ge(C(mf),{key:0,is:C(e)},null,8,["is"])):Ge("",!0)]),_:3},512))}}),HL=be({__name:"HeadlessModalDescription",props:{asChild:{type:Boolean},as:{}},setup(t){return(e,r)=>(J(),ge(C(P2),js(ds(e.$props)),{default:de(()=>[Ie(e.$slots,"default")]),_:3},16))}}),zL=be({__name:"HeadlessModalOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){return(e,r)=>(J(),ge(C(M2),js(ds(e.$props)),{default:de(()=>[Ie(e.$slots,"default")]),_:3},16))}}),WL=be({__name:"HeadlessModalTitle",props:{asChild:{type:Boolean},as:{}},setup(t){return(e,r)=>(J(),ge(C(q2),js(ds(e.$props)),{default:de(()=>[Ie(e.$slots,"default")]),_:3},16))}}),KL=["onClick"],GL={class:"sr-only"},za=q$(),ro=be({__name:"Modal",props:{persistent:{type:Boolean},fullscreen:{type:Boolean},fullscreenOnMobile:{type:Boolean},title:{},titleHidden:{type:Boolean},description:{},descriptionHidden:{type:Boolean},wrapperClass:{default:""},class:{default:""},closeHidden:{type:Boolean}},setup(t,{expose:e}){const r=Ji(t,["class","wrapperClass","title","titleHidden","description","persistent","closeHidden","fullscreen","fullscreenOnMobile"]);e({$content:re(()=>{var _;return(_=a.value)==null?void 0:_.$content})});const{forwardRef:n,currentRef:s}=ht(),{id:i,visible:o}=np(),a=s,l=Uh(),c=re(()=>{var _;return o.value&&((_=Tt.value.toReversed().find(x=>x.visible.value))==null?void 0:_.id)===i.value}),u=re(()=>Tt.value.find(_=>_.visible.value)),d=re(()=>Tt.value.some(_=>za.has(_))),f=re(()=>t.description?{}:{"aria-describedby":void 0}),h=re(()=>dr("overflow-auto px-4 pb-4 flex flex-col flex-1",{"pt-4":!t.title||t.titleHidden,"max-h-[90vh]":!m.value},t.class)),m=re(()=>t.fullscreen||t.fullscreenOnMobile&&Gt.mobile),y=re(()=>dr("isolate fixed z-50 flex flex-col overflow-hidden bg-white text-left duration-300",m.value?["inset-0 transition-[transform,translate] will-change-[transform,translate]",za.has(l.value)||"animate-[slide-in_var(--tw-duration)_ease-in-out]",c.value?"translate-y-0":"translate-y-full"]:["top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full","max-w-[calc(100%-2rem)] rounded-lg shadow-xl sm:max-w-lg","transition-[scale,opacity] will-change-[scale,opacity]",za.has(l.value)||"animate-[fade-in_var(--tw-duration)_ease-in-out,grow_var(--tw-duration)_ease-in-out]",c.value?"scale-100 opacity-100":"scale-50 opacity-0"],t.wrapperClass));return Qt(()=>Rn(500).then(()=>za.add(l.value))),(_,x)=>(J(),ge(qL,Ve(r,{ref:A=>C(n)(A),persistent:_.persistent}),{default:de(({close:A})=>{var w,p;return[ue(zL,{class:dt(["fixed inset-0 transition-opacity duration-300 will-change-[opacity]",{"animate-[fade-in_var(--tw-duration)_ease-in-out]":!d.value,"bg-black/30":((w=u.value)==null?void 0:w.id)===C(i)||!u.value&&((p=C(Tt)[0])==null?void 0:p.id)===C(i),"opacity-0":!u.value,hidden:m.value}])},null,8,["class"]),ue(VL,Ve(f.value,{class:y.value}),{default:de(()=>[!_.persistent&&!_.closeHidden?(J(),Se("div",{key:0,class:dt(["absolute top-0 right-0 pt-3.5 pr-2.5",{"hidden sm:block":!m.value}])},[Oe("button",{type:"button",class:"clickable z-10 rounded-full p-2.5 text-gray-400 hover:text-gray-500",onClick:b=>A()},[Oe("span",GL,je(_.$td("ui.close","Close")),1),ue(C(BL),{class:"size-4"})],8,KL)],2)):Ge("",!0),_.title?(J(),ge(WL,{key:1,class:dt(["px-4 pt-5 text-base font-semibold text-gray-900",{"sr-only":_.titleHidden,"pb-0":_.description&&!_.descriptionHidden,"pb-2":!_.description||_.descriptionHidden}])},{default:de(()=>[ue(qt,{text:_.title,inline:""},null,8,["text"])]),_:1},8,["class"])):Ge("",!0),_.description?(J(),ge(HL,{key:2,class:dt(["px-4 pt-1 pb-2",{"sr-only":_.descriptionHidden}])},{default:de(()=>[ue(qt,{text:_.description,class:"text-sm leading-6 text-gray-500"},null,8,["text"])]),_:1},8,["class"])):Ge("",!0),Oe("div",{class:dt(h.value)},[Ie(_.$slots,"default",{close:A})],2)]),_:2},1040,["class"])]}),_:3},16,["persistent"]))}});function JL(t){const e=re(()=>t.title??ze("ui.alert","Alert")),r=re(()=>!t.title);return{renderedTitle:e,titleHidden:r}}const XL=be({__name:"AlertModal",props:{title:{},message:{}},setup(t,{expose:e}){const r=t,{renderedTitle:n,titleHidden:s}=JL(r);return e(),(i,o)=>(J(),ge(ro,{title:C(n),"title-hidden":C(s)},{default:de(()=>[ue(qt,{text:i.message},null,8,["text"])]),_:1},8,["title","title-hidden"]))}}),$c=be({__name:"Form",props:{form:{}},emits:["submit"],setup(t,{emit:e}){let r;const n=e;return Bt(s=>{var i;r==null||r(),r=(i=t.form)==null?void 0:i.on("submit",()=>n("submit")),s(()=>r==null?void 0:r())}),Us("form",t.form),(s,i)=>(J(),Se("form",{onSubmit:i[0]||(i[0]=Cs(o=>s.form?s.form.submit():s.$emit("submit"),["prevent"]))},[Ie(s.$slots,"default")],32))}});function YL(t){const e=Pc(Object.entries(t.checkboxes??{}).reduce((o,[a,l])=>({[a]:{type:"boolean",default:l.default,required:l.required?"required":void 0},...o}),{})),r=re(()=>t.title??ze("ui.confirm","Confirm")),n=re(()=>!t.title),s=re(()=>t.acceptText??ze("ui.accept","Ok")),i=re(()=>t.cancelText??ze("ui.cancel","Cancel"));return{form:e,renderedTitle:r,titleHidden:n,renderedAcceptText:s,renderedCancelText:i}}const QL={key:0,class:"mt-4 flex flex-col text-sm text-gray-600"},ZL={class:"flex items-center"},eN=["onUpdate:modelValue","required"],tN={class:"ml-1.5"},rN={class:"mt-4 flex flex-row-reverse gap-2"},nN=be({__name:"ConfirmModal",props:{title:{},message:{},acceptText:{},acceptVariant:{},cancelText:{},cancelVariant:{default:"secondary"},checkboxes:{},actions:{},required:{type:Boolean}},emits:["close"],setup(t,{expose:e}){const r=Ji(t,["cancelVariant"]),{form:n,renderedTitle:s,titleHidden:i,renderedAcceptText:o,renderedCancelText:a}=YL(r);return e(),(l,c)=>(J(),ge(ro,{title:C(s),"title-hidden":C(i),persistent:""},{default:de(({close:u})=>[ue($c,{form:C(n),onSubmit:d=>u([!0,C(n).data()])},{default:de(()=>[ue(qt,{text:l.message,actions:l.actions},null,8,["text","actions"]),l.checkboxes?(J(),Se("ul",QL,[(J(!0),Se(Ze,null,Un(l.checkboxes,(d,f)=>(J(),Se("li",{key:f},[Oe("label",ZL,[BT(Oe("input",{"onUpdate:modelValue":h=>C(n)[f]=h,type:"checkbox",required:d.required,class:"border-primary-600 text-primary-600 hover:bg-primary-50 hover:checked:bg-primary-500 focus:ring-primary-600 focus-visible:ring-primary-600 rounded border-2"},null,8,eN),[[cO,C(n)[f]]]),Oe("span",tN,je(d.label),1)])]))),128))])):Ge("",!0),Oe("div",rN,[ue(Nt,{variant:l.acceptVariant,submit:""},{default:de(()=>[tt(je(C(o)),1)]),_:1},8,["variant"]),l.required?Ge("",!0):(J(),ge(Nt,{key:0,variant:l.cancelVariant,onClick:d=>u(!1)},{default:de(()=>[tt(je(C(a)),1)]),_:2},1032,["variant","onClick"]))])]),_:2},1032,["form","onSubmit"])]),_:1},8,["title","title-hidden"]))}}),sN={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function iN(t,e){return J(),Se("svg",sN,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M7.05 9.293L6.343 10L12 15.657l1.414-1.414L9.172 10l4.242-4.243L12 4.343z"},null,-1)]))}const oN=rt({name:"zondicons-cheveron-left",render:iN}),aN={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function lN(t,e){return J(),Se("svg",aN,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"m12.95 10.707l.707-.707L8 4.343L6.586 5.757L10.828 10l-4.242 4.243L8 15.657z"},null,-1)]))}const cN=rt({name:"zondicons-cheveron-right",render:lN}),uN={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function dN(t,e){return J(),Se("svg",uN,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M20 19V7H4v12zm0-16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-7 14v-2h5v2zm-3.42-4L5.57 9H8.4l3.3 3.3c.39.39.39 1.03 0 1.42L8.42 17H5.59z"},null,-1)]))}const fN=rt({name:"mdi-console",render:dN}),hN={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function pN(t,e){return J(),Se("svg",hN,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M6 6V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2zm2 0h4a2 2 0 0 1 2 2v4h4V2H8zM2 8v10h10V8z"},null,-1)]))}const mN=rt({name:"zondicons-copy",render:pN}),gN={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function yN(t,e){return J(),Se("svg",gN,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"},null,-1)]))}const bN=rt({name:"mdi-github",render:yN}),vN={class:"flex"},_N={class:"sr-only"},wN=be({__name:"ErrorReportModalButtons",props:{report:{}},setup(t){const e=t,r=re(()=>e.report.description?`${e.report.title}: ${e.report.description}`:e.report.title),n=re(()=>{if(!$t.sourceUrl)return!1;const i=encodeURIComponent(r.value),o=encodeURIComponent(["[Please, explain here what you were trying to do when this error appeared]","","Error details:","```",$x(e.report.details??"Details missing from report",1800-i.length-$t.sourceUrl.length).trim(),"```"].join(`
`));return`${$t.sourceUrl}/issues/new?title=${i}&body=${o}`}),s=re(()=>Ne([{id:"clipboard",description:"Copy to clipboard",iconComponent:mN,async click(){await navigator.clipboard.writeText(`${r.value}

${e.report.details}`),Gt.toast(ze("errors.copiedToClipboard","Debug information copied to clipboard"))}},{id:"console",description:"Log to console",iconComponent:fN,click(){const i=e.report.error??e.report;window.error=i,console.error(i),Gt.toast(ze("errors.addedToConsole","You can now use the **error** variable in the console"))}}],i=>{n.value&&i.push({id:"github",description:"Report in GitHub",iconComponent:bN,url:n.value})}));return(i,o)=>(J(),Se("div",vN,[(J(!0),Se(Ze,null,Un(s.value,a=>Ie(i.$slots,"default",Ve({ref_for:!0},a),()=>[ue(Nt,{size:"icon",variant:"ghost",class:"group whitespace-nowrap",href:a.url,title:i.$td(`errors.report_${a.id}`,a.description),onClick:a.click},{default:de(()=>[Oe("span",_N,je(i.$td(`errors.report_${a.id}`,a.description)),1),(J(),ge(Bs(a.iconComponent),{class:"size-4","aria-hidden":"true"}))]),_:2},1032,["href","title","onClick"])])),256))]))}}),xN=be({__name:"ErrorReportModalTitle",props:{report:{},currentReport:{},totalReports:{}},setup(t){const e=re(()=>!t.totalReports||t.totalReports<=1?t.report.title:`${t.report.title} (${t.currentReport}/${t.totalReports})`);return(r,n)=>(J(),ge(qt,{text:e.value,inline:""},null,8,["text"]))}});function EN(t){const e=Ae(t.reports.includes(t.report)?t.reports.indexOf(t.report):0),r=re(()=>t.reports[e.value]),n=re(()=>{var o;return((o=r.value.details)==null?void 0:o.trim())||ze("errors.detailsEmpty","This error is missing a stacktrace.")}),s=ze("errors.previousReport","Show previous report"),i=ze("errors.nextReport","Show next report");return{activeReportIndex:e,details:n,nextReportText:i,previousReportText:s,activeReport:r}}const AN={class:"px-4 pt-5 pb-4"},SN={class:"flex justify-between gap-4"},IN={class:"flex items-center gap-2"},TN={key:0,class:"flex gap-0.5"},RN={class:"-mt-2 max-h-[75vh] overflow-auto bg-red-800/10"},ON=["textContent"],CN=be({__name:"ErrorReportModal",props:{report:{},reports:{}},setup(t,{expose:e}){const r=t,{activeReportIndex:n,details:s,nextReportText:i,previousReportText:o,activeReport:a}=EN(r);return e(),(l,c)=>(J(),ge(ro,{title:l.$td("errors.report","Error report"),"title-hidden":"","close-hidden":"",class:"p-0","wrapper-class":"sm:w-auto sm:min-w-lg sm:max-w-[80vw]"},{default:de(()=>[Oe("div",AN,[Oe("h2",SN,[Oe("div",IN,[ue(C(ap),{class:"size-5 text-red-600"}),ue(xN,{class:"text-lg leading-6 font-semibold text-gray-900",report:C(a),"current-report":C(n)+1,"total-reports":l.reports.length},null,8,["report","current-report","total-reports"]),l.reports.length>1?(J(),Se("span",TN,[ue(Nt,{size:"icon",variant:"ghost",disabled:C(n)===0,"aria-label":C(o),title:C(o),onClick:c[0]||(c[0]=u=>n.value--)},{default:de(()=>[ue(C(oN),{class:"size-4"})]),_:1},8,["disabled","aria-label","title"]),ue(Nt,{size:"icon",variant:"ghost",disabled:C(n)===l.reports.length-1,"aria-label":C(i),title:C(i),onClick:c[1]||(c[1]=u=>n.value++)},{default:de(()=>[ue(C(cN),{class:"size-4"})]),_:1},8,["disabled","aria-label","title"])])):Ge("",!0)]),ue(wN,{report:C(a),class:"gap-0.5"},null,8,["report"])]),C(a).description?(J(),ge(qt,{key:0,text:C(a).description,class:"text-gray-600"},null,8,["text"])):Ge("",!0)]),Oe("div",RN,[Oe("pre",{class:"p-4 text-xs text-red-800",textContent:je(C(s))},null,8,ON)])]),_:1},8,["title"]))}}),kN={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function DN(t,e){return J(),Se("svg",kN,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z",opacity:".25"},null,-1),Oe("path",{fill:"currentColor",d:"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z"},[Oe("animateTransform",{attributeName:"transform",dur:"0.75s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})],-1)]))}const PN=rt({name:"svg-spinners-90-ring-with-bg",render:DN}),$N={class:"relative mt-1 h-2 w-full overflow-hidden rounded-full bg-gray-200"},LN={class:"sr-only"},NN=be({__name:"ProgressBar",props:{filledClass:{},overflowClass:{},progress:{},job:{}},setup(t){let e;const r=Ae(0),n=re(()=>dr("size-full transition-transform duration-500 rounded-r-full ease-linear bg-primary-600",t.filledClass)),s=re(()=>dr("absolute inset-y-0 right-0 size-full rounded-r-full","bg-primary-900 transition-[width] duration-500 ease-linear",t.overflowClass)),i=re(()=>typeof t.progress=="number"?t.progress:r.value),o=re(()=>i.value>1?100*((i.value-1)/i.value):null);return st(()=>t.job,()=>{e&&e(),r.value=t.job?t.job.progress:0,e=t.job&&t.job.listeners.add({onUpdated:a=>r.value=a})},{immediate:!0}),jn(()=>e&&e()),(a,l)=>(J(),Se("div",$N,[Oe("div",{class:dt(n.value),style:Dn(`transform:translateX(-${(1-i.value)*100}%)`)},null,6),o.value?(J(),Se("div",{key:0,class:dt(s.value),style:Dn({width:`${o.value}%`})},null,6)):Ge("",!0),Oe("span",LN,je(a.$td("ui.progress","{progress}% complete",{progress:i.value*100})),1)]))}});function MN(t){const e=re(()=>t.title??ze("ui.loading","Loading")),r=re(()=>t.message??ze("ui.loadingInProgress","Loading in progress...")),n=re(()=>typeof t.progress=="number"||!!t.job),s=re(()=>!t.title);return{renderedTitle:e,renderedMessage:r,titleHidden:s,showProgress:n}}const FN=be({__name:"LoadingModal",props:{title:{},message:{},progress:{},job:{}},setup(t,{expose:e}){const r=t,{renderedTitle:n,renderedMessage:s,titleHidden:i,showProgress:o}=MN(r);return e(),(a,l)=>(J(),ge(ro,{persistent:"","wrapper-class":"w-auto",title:C(n),"title-hidden":C(i),class:dt({"flex-col-reverse":C(o),"flex-row items-center justify-center gap-2":!C(o)})},{default:de(()=>[C(o)?(J(),ge(NN,{key:0,progress:a.progress,job:a.job,class:"min-w-[min(400px,80vw)]"},null,8,["progress","job"])):(J(),ge(C(PN),{key:1,class:"text-primary-600 mr-1 size-6"})),ue(qt,{text:C(s)},null,8,["text"])]),_:1},8,["title","title-hidden","class"]))}}),jN=be({__name:"HeadlessInput",props:{name:{},label:{},description:{},modelValue:{},as:{default:"div"}},emits:["update:modelValue"],setup(t,{expose:e,emit:r}){const n=r,s=hr("form",null),i=re(()=>!s||!t.name?null:s.errors[t.name]??null),o={id:`input-${Ar()}`,name:re(()=>t.name),label:re(()=>t.label),description:re(()=>t.description),value:re(()=>s&&t.name?s.getFieldValue(t.name):t.modelValue),errors:Pn(i),required:re(()=>{if(!(!t.name||!s))return s.getFieldRules(t.name).includes("required")}),update(a){if(s&&t.name){s.setFieldValue(t.name,a);return}n("update:modelValue",a)}};return Us("input",o),e(o),(a,l)=>(J(),ge(Bs(a.as),null,{default:de(()=>[Ie(a.$slots,"default")]),_:3}))}}),UN=["for"],BN=be({__name:"HeadlessInputLabel",setup(t){const e=jr("input","<HeadlessInputLabel> must be a child of a <HeadlessInput>"),r=Ih(),n=re(()=>!!(e.label||r.default));return(s,i)=>n.value?(J(),Se("label",{key:0,for:C(e).id},[Ie(s.$slots,"default",{},()=>[tt(je(C(e).label),1)])],8,UN)):Ge("",!0)}}),qN=["id","name","checked","type","required","aria-invalid","aria-describedby"],VN=be({__name:"HeadlessInputInput",props:{type:{}},setup(t){const e=Sh("$inputRef"),r=jr("input","<HeadlessInputInput> must be a child of a <HeadlessInput>"),n=hr("form",null),s=re(()=>r.name??void 0),i=re(()=>r.value),o=re(()=>{if(t.type)return t.type;const u=(s.value&&(n==null?void 0:n.getFieldType(s.value)))??"";return["text","email","number","tel","url"].includes(u)?u:"text"}),a=re(()=>{if(o.value==="checkbox")return!!i.value});function l(){e.value&&r.update(c())}function c(){if(!e.value)return null;switch(o.value){case"checkbox":return e.value.checked;case"date":case"time":case"datetime-local":{const u=new Date(Math.round(e.value.valueAsNumber/6e4)*6e4+zy(e.value.valueAsDate??new Date(e.value.valueAsNumber)));return isNaN(u.getTime())?null:u}case"number":return e.value.valueAsNumber;default:return e.value.value}}return j$(r,()=>{var u;return(u=e.value)==null?void 0:u.focus()}),Bt(()=>{if(e.value){if(["date","time","datetime-local"].includes(o.value)&&i.value instanceof Date){const u=Math.round(i.value.getTime()/6e4)*6e4;e.value.valueAsNumber=u-zy(i.value),i.value.getTime()!==u&&r.update(new Date(u));return}e.value.value=i.value??null}}),(u,d)=>(J(),Se("input",{id:C(r).id,ref:"$inputRef",name:s.value,checked:a.value,type:o.value,required:C(r).required??void 0,"aria-invalid":C(r).errors?"true":"false","aria-describedby":C(r).errors?`${C(r).id}-error`:C(r).description?`${C(r).id}-description`:void 0,onInput:l},null,40,qN))}}),HN=be({inheritAttrs:!1,__name:"HeadlessInputDescription",setup(t){const e=jr("input","<HeadlessInputDescription> must be a child of a <HeadlessInput>"),r=re(()=>typeof e.description=="string"?e.description:""),n=re(()=>!!e.description);return(s,i)=>Ie(s.$slots,"default",{id:`${C(e).id}-description`},()=>[n.value?(J(),ge(qt,Ve({key:0},s.$attrs,{id:`${C(e).id}-description`,text:r.value}),null,16,["id","text"])):Ge("",!0)])}}),zN=["id"],WN=be({__name:"HeadlessInputError",setup(t){const e=jr("input","<HeadlessInputError> must be a child of a <HeadlessInput>"),r=re(()=>e.errors?ze(`errors.${e.errors[0]}`,`Error: ${e.errors[0]}`):null);return(n,s)=>r.value?(J(),Se("p",{key:0,id:`${C(e).id}-error`},je(r.value),9,zN)):Ge("",!0)}}),KN={key:0,class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3"},zw=be({inheritAttrs:!1,__name:"Input",props:{name:{},label:{},description:{},modelValue:{},inputClass:{},wrapperClass:{},descriptionClass:{},errorClass:{}},emits:["update:modelValue"],setup(t){const e=Ji(t,["label","inputClass","wrapperClass","descriptionClass","errorClass"]),r=Sh("$inputRef"),[n,s]=U$(),i=re(()=>dr("relative rounded-md shadow-2xs",{"mt-1":t.label},t.wrapperClass)),o=re(()=>dr("mt-2 text-sm text-gray-600",t.descriptionClass)),a=re(()=>dr("mt-2 text-sm text-red-600",t.errorClass)),l=re(()=>{var c,u,d;return dr("block w-full rounded-md border-0 py-1.5 ring-1 ring-inset focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",{"focus:ring-primary-600":!((c=r.value)!=null&&c.errors),"text-gray-900 shadow-2xs ring-gray-900/10 placeholder:text-gray-400":!((u=r.value)!=null&&u.errors),"pr-10 text-red-900 ring-red-900/10 placeholder:text-red-300 focus:ring-red-500":(d=r.value)==null?void 0:d.errors},t.inputClass)});return(c,u)=>(J(),ge(jN,Ve({ref:"$inputRef",label:c.label,class:C(s)},e,{"onUpdate:modelValue":u[0]||(u[0]=d=>c.$emit("update:modelValue",d))}),{default:de(()=>{var d;return[ue(BN,{class:"block text-sm leading-6 font-medium text-gray-900"}),Oe("div",{class:dt(i.value)},[ue(VN,Ve(C(n),{class:l.value}),null,16,["class"]),(d=r.value)!=null&&d.errors?(J(),Se("div",KN,[ue(C(ap),{class:"size-5 text-red-500"})])):Ge("",!0)],2),ue(HN,{class:dt(o.value)},null,8,["class"]),ue(WN,{class:dt(a.value)},null,8,["class"])]}),_:1},16,["label","class"]))}});function lp(t,e={}){return{default:t,type:"string",rules:["required",...e.rules??[]]}}function GN(t){const e=Pc({draft:lp(t.defaultValue??"")}),r=re(()=>t.title??t.message),n=re(()=>t.title?t.message:null),s=re(()=>t.acceptText??ze("ui.accept","Ok")),i=re(()=>t.cancelText??ze("ui.cancel","Cancel"));return{form:e,renderedTitle:r,renderedMessage:n,renderedAcceptText:s,renderedCancelText:i}}const JN={class:"mt-4 flex flex-row-reverse gap-2"},XN=be({__name:"PromptModal",props:{title:{},message:{},label:{},defaultValue:{},placeholder:{},acceptText:{},acceptVariant:{},cancelText:{},cancelVariant:{default:"secondary"}},emits:["close"],setup(t,{expose:e}){const r=Ji(t,["cancelVariant"]),{form:n,renderedTitle:s,renderedMessage:i,renderedAcceptText:o,renderedCancelText:a}=GN(r);return e(),(l,c)=>(J(),ge(ro,{title:C(s),persistent:""},{default:de(({close:u})=>[ue($c,{form:C(n),onSubmit:d=>u(C(n).draft)},{default:de(()=>[C(i)?(J(),ge(qt,{key:0,text:C(i)},null,8,["text"])):Ge("",!0),ue(zw,{name:"draft",class:"mt-2",placeholder:l.placeholder,label:l.label},null,8,["placeholder","label"]),Oe("div",JN,[ue(Nt,{variant:l.acceptVariant,submit:""},{default:de(()=>[tt(je(C(o)),1)]),_:1},8,["variant"]),ue(Nt,{variant:l.cancelVariant,onClick:d=>u()},{default:de(()=>[tt(je(C(a)),1)]),_:2},1032,["variant","onClick"])])]),_:2},1032,["form","onSubmit"])]),_:1},8,["title"]))}}),YN={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function QN(t,e){return J(),Se("svg",YN,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M12 21q-1.625 0-3.012-.8T6.8 18H4v-2h2.1q-.075-.5-.088-1T6 14H4v-2h2q0-.5.012-1t.088-1H4V8h2.8q.35-.575.788-1.075T8.6 6.05L7 4.4L8.4 3l2.15 2.15q.7-.225 1.425-.225t1.425.225L15.6 3L17 4.4l-1.65 1.65q.575.375 1.038.862T17.2 8H20v2h-2.1q.075.5.088 1T18 12h2v2h-2q0 .5-.013 1t-.087 1H20v2h-2.8q-.8 1.4-2.187 2.2T12 21m-2-5h4v-2h-4zm0-4h4v-2h-4z"},null,-1)]))}const ZN=rt({name:"material-symbols-bug-report",render:QN}),eM={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function tM(t,e){return J(),Se("svg",eM,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6q-.425 0-.712-.288T4 5t.288-.712T5 4h4q0-.425.288-.712T10 3h4q.425 0 .713.288T15 4h4q.425 0 .713.288T20 5t-.288.713T19 6v13q0 .825-.587 1.413T17 21zm5-7.1l1.9 1.9q.275.275.7.275t.7-.275t.275-.7t-.275-.7l-1.9-1.9l1.9-1.9q.275-.275.275-.7t-.275-.7t-.7-.275t-.7.275L12 11.1l-1.9-1.9q-.275-.275-.7-.275t-.7.275t-.275.7t.275.7l1.9 1.9l-1.9 1.9q-.275.275-.275.7t.275.7t.7.275t.7-.275z"},null,-1)]))}const rM=rt({name:"material-symbols-delete-forever-rounded",render:tM}),nM={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function sM(t,e){return J(),Se("svg",nM,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M11.25 13.5q.95 0 1.6-.65t.65-1.6t-.65-1.6t-1.6-.65t-1.6.65t-.65 1.6t.65 1.6t1.6.65m4.825 4l-2.625-2.625q-.5.325-1.062.475t-1.138.15q-1.775 0-3.012-1.237T7 11.25t1.238-3.012T11.25 7t3.013 1.238T15.5 11.25q0 .575-.162 1.138t-.488 1.062l2.65 2.65zM5 21q-.825 0-1.412-.587T3 19v-4h2v4h4v2zm10 0v-2h4v-4h2v4q0 .825-.587 1.413T19 21zM3 9V5q0-.825.588-1.412T5 3h4v2H5v4zm16 0V5h-4V3h4q.825 0 1.413.588T21 5v4z"},null,-1)]))}const iM=rt({name:"material-symbols-frame-inspect",render:sM}),oM={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function aM(t,e){return J(),Se("svg",oM,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M12 20q-3.35 0-5.675-2.325T4 12t2.325-5.675T12 4q1.725 0 3.3.712T18 6.75V5q0-.425.288-.712T19 4t.713.288T20 5v5q0 .425-.288.713T19 11h-5q-.425 0-.712-.288T13 10t.288-.712T14 9h3.2q-.8-1.4-2.187-2.2T12 6Q9.5 6 7.75 7.75T6 12t1.75 4.25T12 18q1.7 0 3.113-.862t2.187-2.313q.2-.35.563-.487t.737-.013q.4.125.575.525t-.025.75q-1.025 2-2.925 3.2T12 20"},null,-1)]))}const lM=rt({name:"material-symbols-refresh-rounded",render:aM}),cM={class:"grid grow place-items-center"},uM={class:"flex flex-col items-center p-8"},dM={class:"mt-0 mb-0 text-center text-4xl font-medium text-red-600"},fM={class:"mt-4 grid grid-cols-1 gap-2 sm:grid-cols-2 [&_button]:justify-start sm:[&_button]:size-32 sm:[&_button]:flex-col sm:[&_button]:justify-center [&_svg]:size-6 sm:[&_svg]:size-8"},hM=be({__name:"StartupCrash",setup(t){async function e(){await Gt.confirm(ze("startupCrash.purgeConfirmTitle","Delete everything?"),ze("startupCrash.purgeConfirmMessage",`If the problem persists, one drastic solution may be to wipe the storage in this device to start from scratch. However, keep in mind that **all the data that you haven't synchronized will be deleted forever**.

Do you still want to proceed?`),{acceptVariant:"danger",acceptText:ze("startupCrash.purgeConfirmAccept","Purge device")})&&(await rp.purge(),await $t.reload())}return(r,n)=>{const s=iR("i-majesticons-exclamation");return J(),Se("div",cM,[Oe("div",uM,[ue(s,{class:"size-20 text-red-600"}),Oe("h1",dM,je(r.$td("startupCrash.title","Oops, something went wrong!")),1),ue(qt,{text:r.$td("startupCrash.message","There was a problem starting the application, but here's some things you can do:"),class:"mt-4 text-center"},null,8,["text"]),Oe("div",fM,[ue(Nt,{variant:"danger",onClick:n[0]||(n[0]=i=>r.$app.reload())},{default:de(()=>[ue(C(lM)),tt(" "+je(r.$td("startupCrash.reload","Try again")),1)]),_:1}),ue(Nt,{variant:"danger",onClick:n[1]||(n[1]=i=>r.$errors.inspect(r.$errors.startupErrors))},{default:de(()=>[ue(C(ZN)),tt(" "+je(r.$td("startupCrash.inspect","View error details")),1)]),_:1}),ue(Nt,{variant:"danger",onClick:n[2]||(n[2]=i=>e())},{default:de(()=>[ue(C(rM)),tt(" "+je(r.$td("startupCrash.purge","Purge device")),1)]),_:1}),ue(Nt,{variant:"danger",onClick:n[3]||(n[3]=i=>r.$errors.debug=!r.$errors.debug)},{default:de(()=>[ue(C(iM)),tt(" "+je(r.$td("startupCrash.debug","Toggle debugging")),1)]),_:1})])])])}}}),Ww=be({__name:"HeadlessToastAction",props:{action:{}},setup(t){return(e,r)=>(J(),ge(Bs(e.action.dismiss?C(m$):"button"),{type:"button",onClick:e.action.click},{default:de(()=>[tt(je(e.action.label),1)]),_:1},8,["onClick"]))}}),pM={key:0},mM=be({__name:"HeadlessToast",props:{message:{},actions:{},variant:{}},setup(t){return(e,r)=>(J(),ge(C(y$),null,{default:de(()=>[Ie(e.$slots,"default",{},()=>[e.message?(J(),Se("span",pM,je(e.message),1)):Ge("",!0),(J(!0),Se(Ze,null,Un(e.actions,(n,s)=>(J(),ge(Ww,{key:s,action:n},null,8,["action"]))),128))])]),_:3}))}}),gM=be({__name:"Toast",props:{message:{},actions:{},variant:{default:"secondary"},class:{}},setup(t,{expose:e}){const r=re(()=>Dw({baseClasses:t.class,variant:t.variant},{baseClasses:"flex items-center gap-2 rounded-md p-2 ring-1 shadow-lg border-gray-200",variants:{variant:{secondary:"bg-gray-900 text-white ring-black",danger:"bg-red-50 text-red-900 ring-red-100",warning:"bg-yellow-50 text-yellow-900 ring-yellow-100"}},defaultVariants:{variant:"secondary"}}));return e(),(n,s)=>(J(),ge(mM,{class:dt(r.value)},{default:de(()=>[n.message?(J(),ge(qt,{key:0,text:n.message,inline:""},null,8,["text"])):Ge("",!0),(J(!0),Se(Ze,null,Un(n.actions,(i,o)=>(J(),ge(Nt,{key:o,action:i,variant:n.variant,as:Ww},null,8,["action","variant"]))),128))]),_:1},8,["class"]))}}),yM={$ui:Gt},bM={async install(t,e){const r={"alert-modal":XL,"confirm-modal":nN,"error-report-modal":CN,"loading-modal":FN,"prompt-modal":XN,"startup-crash":hM,toast:gM,...e.components};for(const[n,s]of Object.entries(r))Gt.registerComponent(n,s);await ya(t,yM)}},vM={async install(t,{formValidationRules:e}){for(const[r,n]of Object.entries(e??{}))Pw(r,n)}};async function _M(t,e={}){var r;const n=[FL,J$,ML,EL,Z$,bM,vM,...e.plugins??[]];$t.instance=t,await O$(n,t,e),await((r=e.install)==null?void 0:r.call(e,t)),await Pt.emit("application-ready")}async function wM(t,e={}){var r;const n=yO(t);Ds()&&(window.$aerogel=n),await _M(n,e),n.mount("#app"),(r=n._container)==null||r.classList.remove("loading"),await Pt.emit("application-mounted")}const xM=be({__name:"AppToasts",setup(t){return(e,r)=>(J(),ge(C(r$),null,{default:de(()=>[(J(!0),Se(Ze,null,Un(e.$ui.toasts,n=>(J(),ge(Bs(n.component),Ve({id:n.id,key:n.id},{ref_for:!0},n.properties),null,16,["id"]))),128)),ue(C(_$),{class:"fixed right-0 bottom-0 z-50 flex flex-col items-end space-y-4 px-4 py-6 sm:p-6"})]),_:1}))}}),EM=be({__name:"AppOverlays",setup(t){return(e,r)=>(J(),Se(Ze,null,[ue(C($C),{nested:""}),ue(xM)],64))}}),AM={class:"text-primary-text flex min-h-full flex-col text-base leading-tight font-normal antialiased"},SM=be({__name:"AppLayout",setup(t){return(e,r)=>(J(),Se("div",AM,[e.$errors.hasStartupErrors?Ie(e.$slots,"startup-crash",{key:0},()=>[(J(),ge(Bs(e.$ui.requireComponent("startup-crash"))))]):Ie(e.$slots,"default",{key:1}),ue(EM)]))}}),IM={viewBox:"0 0 512 512",width:"1.2em",height:"1.2em"};function TM(t,e){return J(),Se("svg",IM,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M449.07 399.08L278.64 82.58c-12.08-22.44-44.26-22.44-56.35 0L51.87 399.08A32 32 0 0 0 80 446.25h340.89a32 32 0 0 0 28.18-47.17m-198.6-1.83a20 20 0 1 1 20-20a20 20 0 0 1-20 20m21.72-201.15l-5.74 122a16 16 0 0 1-32 0l-5.74-121.95a21.73 21.73 0 0 1 21.5-22.69h.21a21.74 21.74 0 0 1 21.73 22.7Z"},null,-1)]))}rt({name:"ion-warning",render:TM});const RM={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function OM(t,e){return J(),Se("svg",RM,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M.2 10a11 11 0 0 1 19.6 0A11 11 0 0 1 .2 10m9.8 4a4 4 0 1 0 0-8a4 4 0 0 0 0 8m0-2a2 2 0 1 1 0-4a2 2 0 0 1 0 4"},null,-1)]))}rt({name:"zondicons-view-show",render:OM});const CM=be({__name:"Link",props:{class:{},disabled:{type:Boolean},href:{},route:{},routeParams:{},routeQuery:{},size:{},submit:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){return(e,r)=>(J(),ge(Nt,Ve({variant:"link"},e.$props),{default:de(()=>[Ie(e.$slots,"default")]),_:3},16))}});/*!
  * shared v11.2.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function kM(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Bl=typeof window<"u",zs=(t,e=!1)=>e?Symbol.for(t):Symbol(t),DM=(t,e,r)=>PM({l:t,k:e,s:r}),PM=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Lt=t=>typeof t=="number"&&isFinite(t),$M=t=>up(t)==="[object Date]",ql=t=>up(t)==="[object RegExp]",Lc=t=>et(t)&&Object.keys(t).length===0,zt=Object.assign,LM=Object.create,gt=(t=null)=>LM(t);let Jy;const cp=()=>Jy||(Jy=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:gt());function Xy(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function Yy(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function NM(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,s,i)=>`${s}="${Yy(i)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,s,i)=>`${s}='${Yy(i)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{t=t.replace(n,"$1javascript&#58;")}),t}const MM=Object.prototype.hasOwnProperty;function on(t,e){return MM.call(t,e)}const Ct=Array.isArray,At=t=>typeof t=="function",Ce=t=>typeof t=="string",St=t=>typeof t=="boolean",nt=t=>t!==null&&typeof t=="object",FM=t=>nt(t)&&At(t.then)&&At(t.catch),Kw=Object.prototype.toString,up=t=>Kw.call(t),et=t=>up(t)==="[object Object]",jM=t=>t==null?"":Ct(t)||et(t)&&t.toString===Kw?JSON.stringify(t,null,2):String(t);function dp(t,e=""){return t.reduce((r,n,s)=>s===0?r+n:r+e+n,"")}const Wa=t=>!nt(t)||Ct(t);function hl(t,e){if(Wa(t)||Wa(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:s}=r.pop();Object.keys(n).forEach(i=>{i!=="__proto__"&&(nt(n[i])&&!nt(s[i])&&(s[i]=Array.isArray(n[i])?[]:gt()),Wa(s[i])||Wa(n[i])?s[i]=n[i]:r.push({src:n[i],des:s[i]}))})}}/*!
  * message-compiler v11.2.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function UM(t,e,r){return{line:t,column:e,offset:r}}function Cf(t,e,r){return{start:t,end:e}}const ot={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},BM=17;function Nc(t,e,r={}){const{domain:n,messages:s,args:i}=r,o=t,a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=n,a}function qM(t){throw t}const vn=" ",VM="\r",sr=`
`,HM="\u2028",zM="\u2029";function WM(t){const e=t;let r=0,n=1,s=1,i=0;const o=T=>e[T]===VM&&e[T+1]===sr,a=T=>e[T]===sr,l=T=>e[T]===zM,c=T=>e[T]===HM,u=T=>o(T)||a(T)||l(T)||c(T),d=()=>r,f=()=>n,h=()=>s,m=()=>i,y=T=>o(T)||l(T)||c(T)?sr:e[T],_=()=>y(r),x=()=>y(r+i);function A(){return i=0,u(r)&&(n++,s=0),o(r)&&r++,r++,s++,e[r]}function w(){return o(r+i)&&i++,i++,e[r+i]}function p(){r=0,n=1,s=1,i=0}function b(T=0){i=T}function E(){const T=r+i;for(;T!==r;)A();i=0}return{index:d,line:f,column:h,peekOffset:m,charAt:y,currentChar:_,currentPeek:x,next:A,peek:w,reset:p,resetPeek:b,skipToPeek:E}}const Kn=void 0,KM=".",Qy="'",GM="tokenizer";function JM(t,e={}){const r=e.location!==!1,n=WM(t),s=()=>n.index(),i=()=>UM(n.line(),n.column(),n.index()),o=i(),a=s(),l={currentType:13,offset:a,startLoc:o,endLoc:o,lastType:13,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=e;function d($,N,Y,...Z){const xe=c();if(N.column+=Y,N.offset+=Y,u){const ye=r?Cf(xe.startLoc,N):null,Q=Nc($,ye,{domain:GM,args:Z});u(Q)}}function f($,N,Y){$.endLoc=i(),$.currentType=N;const Z={type:N};return r&&(Z.loc=Cf($.startLoc,$.endLoc)),Y!=null&&(Z.value=Y),Z}const h=$=>f($,13);function m($,N){return $.currentChar()===N?($.next(),N):(d(ot.EXPECTED_TOKEN,i(),0,N),"")}function y($){let N="";for(;$.currentPeek()===vn||$.currentPeek()===sr;)N+=$.currentPeek(),$.peek();return N}function _($){const N=y($);return $.skipToPeek(),N}function x($){if($===Kn)return!1;const N=$.charCodeAt(0);return N>=97&&N<=122||N>=65&&N<=90||N===95}function A($){if($===Kn)return!1;const N=$.charCodeAt(0);return N>=48&&N<=57}function w($,N){const{currentType:Y}=N;if(Y!==2)return!1;y($);const Z=x($.currentPeek());return $.resetPeek(),Z}function p($,N){const{currentType:Y}=N;if(Y!==2)return!1;y($);const Z=$.currentPeek()==="-"?$.peek():$.currentPeek(),xe=A(Z);return $.resetPeek(),xe}function b($,N){const{currentType:Y}=N;if(Y!==2)return!1;y($);const Z=$.currentPeek()===Qy;return $.resetPeek(),Z}function E($,N){const{currentType:Y}=N;if(Y!==7)return!1;y($);const Z=$.currentPeek()===".";return $.resetPeek(),Z}function T($,N){const{currentType:Y}=N;if(Y!==8)return!1;y($);const Z=x($.currentPeek());return $.resetPeek(),Z}function I($,N){const{currentType:Y}=N;if(!(Y===7||Y===11))return!1;y($);const Z=$.currentPeek()===":";return $.resetPeek(),Z}function O($,N){const{currentType:Y}=N;if(Y!==9)return!1;const Z=()=>{const ye=$.currentPeek();return ye==="{"?x($.peek()):ye==="@"||ye==="|"||ye===":"||ye==="."||ye===vn||!ye?!1:ye===sr?($.peek(),Z()):W($,!1)},xe=Z();return $.resetPeek(),xe}function P($){y($);const N=$.currentPeek()==="|";return $.resetPeek(),N}function W($,N=!0){const Y=(xe=!1,ye="")=>{const Q=$.currentPeek();return Q==="{"||Q==="@"||!Q?xe:Q==="|"?!(ye===vn||ye===sr):Q===vn?($.peek(),Y(!0,vn)):Q===sr?($.peek(),Y(!0,sr)):!0},Z=Y();return N&&$.resetPeek(),Z}function B($,N){const Y=$.currentChar();return Y===Kn?Kn:N(Y)?($.next(),Y):null}function U($){const N=$.charCodeAt(0);return N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===95||N===36}function M($){return B($,U)}function te($){const N=$.charCodeAt(0);return N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===95||N===36||N===45}function R($){return B($,te)}function q($){const N=$.charCodeAt(0);return N>=48&&N<=57}function F($){return B($,q)}function ee($){const N=$.charCodeAt(0);return N>=48&&N<=57||N>=65&&N<=70||N>=97&&N<=102}function j($){return B($,ee)}function se($){let N="",Y="";for(;N=F($);)Y+=N;return Y}function oe($){let N="";for(;;){const Y=$.currentChar();if(Y==="{"||Y==="}"||Y==="@"||Y==="|"||!Y)break;if(Y===vn||Y===sr)if(W($))N+=Y,$.next();else{if(P($))break;N+=Y,$.next()}else N+=Y,$.next()}return N}function ae($){_($);let N="",Y="";for(;N=R($);)Y+=N;const Z=$.currentChar();if(Z&&Z!=="}"&&Z!==Kn&&Z!==vn&&Z!==sr&&Z!=="　"){const xe=ce($);return d(ot.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,Y+xe),Y+xe}return $.currentChar()===Kn&&d(ot.UNTERMINATED_CLOSING_BRACE,i(),0),Y}function we($){_($);let N="";return $.currentChar()==="-"?($.next(),N+=`-${se($)}`):N+=se($),$.currentChar()===Kn&&d(ot.UNTERMINATED_CLOSING_BRACE,i(),0),N}function z($){return $!==Qy&&$!==sr}function H($){_($),m($,"'");let N="",Y="";for(;N=B($,z);)N==="\\"?Y+=V($):Y+=N;const Z=$.currentChar();return Z===sr||Z===Kn?(d(ot.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),Z===sr&&($.next(),m($,"'")),Y):(m($,"'"),Y)}function V($){const N=$.currentChar();switch(N){case"\\":case"'":return $.next(),`\\${N}`;case"u":return le($,N,4);case"U":return le($,N,6);default:return d(ot.UNKNOWN_ESCAPE_SEQUENCE,i(),0,N),""}}function le($,N,Y){m($,N);let Z="";for(let xe=0;xe<Y;xe++){const ye=j($);if(!ye){d(ot.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${N}${Z}${$.currentChar()}`);break}Z+=ye}return`\\${N}${Z}`}function ve($){return $!=="{"&&$!=="}"&&$!==vn&&$!==sr}function ce($){_($);let N="",Y="";for(;N=B($,ve);)Y+=N;return Y}function Te($){let N="",Y="";for(;N=M($);)Y+=N;return Y}function L($){const N=Y=>{const Z=$.currentChar();return Z==="{"||Z==="@"||Z==="|"||Z==="("||Z===")"||!Z||Z===vn?Y:(Y+=Z,$.next(),N(Y))};return N("")}function k($){_($);const N=m($,"|");return _($),N}function X($,N){let Y=null;switch($.currentChar()){case"{":return N.braceNest>=1&&d(ot.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),$.next(),Y=f(N,2,"{"),_($),N.braceNest++,Y;case"}":return N.braceNest>0&&N.currentType===2&&d(ot.EMPTY_PLACEHOLDER,i(),0),$.next(),Y=f(N,3,"}"),N.braceNest--,N.braceNest>0&&_($),N.inLinked&&N.braceNest===0&&(N.inLinked=!1),Y;case"@":return N.braceNest>0&&d(ot.UNTERMINATED_CLOSING_BRACE,i(),0),Y=he($,N)||h(N),N.braceNest=0,Y;default:{let xe=!0,ye=!0,Q=!0;if(P($))return N.braceNest>0&&d(ot.UNTERMINATED_CLOSING_BRACE,i(),0),Y=f(N,1,k($)),N.braceNest=0,N.inLinked=!1,Y;if(N.braceNest>0&&(N.currentType===4||N.currentType===5||N.currentType===6))return d(ot.UNTERMINATED_CLOSING_BRACE,i(),0),N.braceNest=0,fe($,N);if(xe=w($,N))return Y=f(N,4,ae($)),_($),Y;if(ye=p($,N))return Y=f(N,5,we($)),_($),Y;if(Q=b($,N))return Y=f(N,6,H($)),_($),Y;if(!xe&&!ye&&!Q)return Y=f(N,12,ce($)),d(ot.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,Y.value),_($),Y;break}}return Y}function he($,N){const{currentType:Y}=N;let Z=null;const xe=$.currentChar();switch((Y===7||Y===8||Y===11||Y===9)&&(xe===sr||xe===vn)&&d(ot.INVALID_LINKED_FORMAT,i(),0),xe){case"@":return $.next(),Z=f(N,7,"@"),N.inLinked=!0,Z;case".":return _($),$.next(),f(N,8,".");case":":return _($),$.next(),f(N,9,":");default:return P($)?(Z=f(N,1,k($)),N.braceNest=0,N.inLinked=!1,Z):E($,N)||I($,N)?(_($),he($,N)):T($,N)?(_($),f(N,11,Te($))):O($,N)?(_($),xe==="{"?X($,N)||Z:f(N,10,L($))):(Y===7&&d(ot.INVALID_LINKED_FORMAT,i(),0),N.braceNest=0,N.inLinked=!1,fe($,N))}}function fe($,N){let Y={type:13};if(N.braceNest>0)return X($,N)||h(N);if(N.inLinked)return he($,N)||h(N);switch($.currentChar()){case"{":return X($,N)||h(N);case"}":return d(ot.UNBALANCED_CLOSING_BRACE,i(),0),$.next(),f(N,3,"}");case"@":return he($,N)||h(N);default:{if(P($))return Y=f(N,1,k($)),N.braceNest=0,N.inLinked=!1,Y;if(W($))return f(N,0,oe($));break}}return Y}function pe(){const{currentType:$,offset:N,startLoc:Y,endLoc:Z}=l;return l.lastType=$,l.lastOffset=N,l.lastStartLoc=Y,l.lastEndLoc=Z,l.offset=s(),l.startLoc=i(),n.currentChar()===Kn?f(l,13):fe(n,l)}return{nextToken:pe,currentOffset:s,currentPosition:i,context:c}}const XM="parser",YM=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function QM(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):"�"}}}function ZM(t={}){const e=t.location!==!1,{onError:r}=t;function n(x,A,w,p,...b){const E=x.currentPosition();if(E.offset+=p,E.column+=p,r){const T=e?Cf(w,E):null,I=Nc(A,T,{domain:XM,args:b});r(I)}}function s(x,A,w){const p={type:x};return e&&(p.start=A,p.end=A,p.loc={start:w,end:w}),p}function i(x,A,w,p){e&&(x.end=A,x.loc&&(x.loc.end=w))}function o(x,A){const w=x.context(),p=s(3,w.offset,w.startLoc);return p.value=A,i(p,x.currentOffset(),x.currentPosition()),p}function a(x,A){const w=x.context(),{lastOffset:p,lastStartLoc:b}=w,E=s(5,p,b);return E.index=parseInt(A,10),x.nextToken(),i(E,x.currentOffset(),x.currentPosition()),E}function l(x,A){const w=x.context(),{lastOffset:p,lastStartLoc:b}=w,E=s(4,p,b);return E.key=A,x.nextToken(),i(E,x.currentOffset(),x.currentPosition()),E}function c(x,A){const w=x.context(),{lastOffset:p,lastStartLoc:b}=w,E=s(9,p,b);return E.value=A.replace(YM,QM),x.nextToken(),i(E,x.currentOffset(),x.currentPosition()),E}function u(x){const A=x.nextToken(),w=x.context(),{lastOffset:p,lastStartLoc:b}=w,E=s(8,p,b);return A.type!==11?(n(x,ot.UNEXPECTED_EMPTY_LINKED_MODIFIER,w.lastStartLoc,0),E.value="",i(E,p,b),{nextConsumeToken:A,node:E}):(A.value==null&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,_n(A)),E.value=A.value||"",i(E,x.currentOffset(),x.currentPosition()),{node:E})}function d(x,A){const w=x.context(),p=s(7,w.offset,w.startLoc);return p.value=A,i(p,x.currentOffset(),x.currentPosition()),p}function f(x){const A=x.context(),w=s(6,A.offset,A.startLoc);let p=x.nextToken();if(p.type===8){const b=u(x);w.modifier=b.node,p=b.nextConsumeToken||x.nextToken()}switch(p.type!==9&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,_n(p)),p=x.nextToken(),p.type===2&&(p=x.nextToken()),p.type){case 10:p.value==null&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,_n(p)),w.key=d(x,p.value||"");break;case 4:p.value==null&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,_n(p)),w.key=l(x,p.value||"");break;case 5:p.value==null&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,_n(p)),w.key=a(x,p.value||"");break;case 6:p.value==null&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,_n(p)),w.key=c(x,p.value||"");break;default:{n(x,ot.UNEXPECTED_EMPTY_LINKED_KEY,A.lastStartLoc,0);const b=x.context(),E=s(7,b.offset,b.startLoc);return E.value="",i(E,b.offset,b.startLoc),w.key=E,i(w,b.offset,b.startLoc),{nextConsumeToken:p,node:w}}}return i(w,x.currentOffset(),x.currentPosition()),{node:w}}function h(x){const A=x.context(),w=A.currentType===1?x.currentOffset():A.offset,p=A.currentType===1?A.endLoc:A.startLoc,b=s(2,w,p);b.items=[];let E=null;do{const O=E||x.nextToken();switch(E=null,O.type){case 0:O.value==null&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,_n(O)),b.items.push(o(x,O.value||""));break;case 5:O.value==null&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,_n(O)),b.items.push(a(x,O.value||""));break;case 4:O.value==null&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,_n(O)),b.items.push(l(x,O.value||""));break;case 6:O.value==null&&n(x,ot.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,_n(O)),b.items.push(c(x,O.value||""));break;case 7:{const P=f(x);b.items.push(P.node),E=P.nextConsumeToken||null;break}}}while(A.currentType!==13&&A.currentType!==1);const T=A.currentType===1?A.lastOffset:x.currentOffset(),I=A.currentType===1?A.lastEndLoc:x.currentPosition();return i(b,T,I),b}function m(x,A,w,p){const b=x.context();let E=p.items.length===0;const T=s(1,A,w);T.cases=[],T.cases.push(p);do{const I=h(x);E||(E=I.items.length===0),T.cases.push(I)}while(b.currentType!==13);return E&&n(x,ot.MUST_HAVE_MESSAGES_IN_PLURAL,w,0),i(T,x.currentOffset(),x.currentPosition()),T}function y(x){const A=x.context(),{offset:w,startLoc:p}=A,b=h(x);return A.currentType===13?b:m(x,w,p,b)}function _(x){const A=JM(x,zt({},t)),w=A.context(),p=s(0,w.offset,w.startLoc);return e&&p.loc&&(p.loc.source=x),p.body=y(A),t.onCacheKey&&(p.cacheKey=t.onCacheKey(x)),w.currentType!==13&&n(A,ot.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,x[w.offset]||""),i(p,A.currentOffset(),A.currentPosition()),p}return{parse:_}}function _n(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function e3(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:i=>(r.helpers.add(i),i)}}function Zy(t,e){for(let r=0;r<t.length;r++)fp(t[r],e)}function fp(t,e){switch(t.type){case 1:Zy(t.cases,e),e.helper("plural");break;case 2:Zy(t.items,e);break;case 6:{fp(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function t3(t,e={}){const r=e3(t);r.helper("normalize"),t.body&&fp(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function r3(t){const e=t.body;return e.type===2?eb(e):e.cases.forEach(r=>eb(r)),t}function eb(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=dp(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}function Ii(t){switch(t.t=t.type,t.type){case 0:{const e=t;Ii(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)Ii(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)Ii(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Ii(e.key),e.k=e.key,delete e.key,e.modifier&&(Ii(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function n3(t,e){const{filename:r,breakLineCode:n,needIndent:s}=e,i=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:s,indentLevel:0};i&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(y,_){o.code+=y}function c(y,_=!0){const x=_?n:"";l(s?x+"  ".repeat(y):x)}function u(y=!0){const _=++o.indentLevel;y&&c(_)}function d(y=!0){const _=--o.indentLevel;y&&c(_)}function f(){c(o.indentLevel)}return{context:a,push:l,indent:u,deindent:d,newline:f,helper:y=>`_${y}`,needIndent:()=>o.needIndent}}function s3(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),Wi(t,e.key),e.modifier?(t.push(", "),Wi(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function i3(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const s=e.items.length;for(let i=0;i<s&&(Wi(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(n()),t.push("])")}function o3(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const s=e.cases.length;for(let i=0;i<s&&(Wi(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(n()),t.push("])")}}function a3(t,e){e.body?Wi(t,e.body):t.push("null")}function Wi(t,e){const{helper:r}=t;switch(e.type){case 0:a3(t,e);break;case 1:o3(t,e);break;case 2:i3(t,e);break;case 6:s3(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const l3=(t,e={})=>{const r=Ce(e.mode)?e.mode:"normal",n=Ce(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,i=e.needIndent?e.needIndent:r!=="arrow",o=t.helpers||[],a=n3(t,{filename:n,breakLineCode:s,needIndent:i});a.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),o.length>0&&(a.push(`const { ${dp(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),Wi(a,t),a.deindent(i),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function c3(t,e={}){const r=zt({},e),n=!!r.jit,s=!!r.minify,i=r.optimize==null?!0:r.optimize,a=ZM(r).parse(t);return n?(i&&r3(a),s&&Ii(a),{ast:a,code:""}):(t3(a,r),l3(a,r))}/*!
  * core-base v11.2.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function u3(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(cp().__INTLIFY_PROD_DEVTOOLS__=!1)}function kn(t){return nt(t)&&hp(t)===0&&(on(t,"b")||on(t,"body"))}const Gw=["b","body"];function d3(t){return Ws(t,Gw)}const Jw=["c","cases"];function f3(t){return Ws(t,Jw,[])}const Xw=["s","static"];function h3(t){return Ws(t,Xw)}const Yw=["i","items"];function p3(t){return Ws(t,Yw,[])}const Qw=["t","type"];function hp(t){return Ws(t,Qw)}const Zw=["v","value"];function Ka(t,e){const r=Ws(t,Zw);if(r!=null)return r;throw ta(e)}const e1=["m","modifier"];function m3(t){return Ws(t,e1)}const t1=["k","key"];function g3(t){const e=Ws(t,t1);if(e)return e;throw ta(6)}function Ws(t,e,r){for(let n=0;n<e.length;n++){const s=e[n];if(on(t,s)&&t[s]!=null)return t[s]}return r}const r1=[...Gw,...Jw,...Xw,...Yw,...t1,...e1,...Zw,...Qw];function ta(t){return new Error(`unhandled node type: ${t}`)}function xd(t){return r=>y3(r,t)}function y3(t,e){const r=d3(e);if(r==null)throw ta(0);if(hp(r)===1){const i=f3(r);return t.plural(i.reduce((o,a)=>[...o,tb(t,a)],[]))}else return tb(t,r)}function tb(t,e){const r=h3(e);if(r!=null)return t.type==="text"?r:t.normalize([r]);{const n=p3(e).reduce((s,i)=>[...s,kf(t,i)],[]);return t.normalize(n)}}function kf(t,e){const r=hp(e);switch(r){case 3:return Ka(e,r);case 9:return Ka(e,r);case 4:{const n=e;if(on(n,"k")&&n.k)return t.interpolate(t.named(n.k));if(on(n,"key")&&n.key)return t.interpolate(t.named(n.key));throw ta(r)}case 5:{const n=e;if(on(n,"i")&&Lt(n.i))return t.interpolate(t.list(n.i));if(on(n,"index")&&Lt(n.index))return t.interpolate(t.list(n.index));throw ta(r)}case 6:{const n=e,s=m3(n),i=g3(n);return t.linked(kf(t,i),s?kf(t,s):void 0,t.type)}case 7:return Ka(e,r);case 8:return Ka(e,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const b3=t=>t;let Ga=gt();function v3(t,e={}){let r=!1;const n=e.onError||qM;return e.onError=s=>{r=!0,n(s)},{...c3(t,e),detectError:r}}function _3(t,e){if(Ce(t)){St(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||b3)(t),s=Ga[n];if(s)return s;const{ast:i,detectError:o}=v3(t,{...e,location:!1,jit:!0}),a=xd(i);return o?a:Ga[n]=a}else{const r=t.cacheKey;if(r){const n=Ga[r];return n||(Ga[r]=xd(t))}else return xd(t)}}let ra=null;function w3(t){ra=t}function x3(t,e,r){ra&&ra.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const E3=A3("function:translate");function A3(t){return e=>ra&&ra.emit(t,e)}const Zn={INVALID_ARGUMENT:BM,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},S3=24;function es(t){return Nc(t,null,void 0)}function pp(t,e){return e.locale!=null?rb(e.locale):rb(t.locale)}let Ed;function rb(t){if(Ce(t))return t;if(At(t)){if(t.resolvedOnce&&Ed!=null)return Ed;if(t.constructor.name==="Function"){const e=t();if(FM(e))throw es(Zn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ed=e}else throw es(Zn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw es(Zn.NOT_SUPPORT_LOCALE_TYPE)}function I3(t,e,r){return[...new Set([r,...Ct(e)?e:nt(e)?Object.keys(e):Ce(e)?[e]:[r]])]}function n1(t,e,r){const n=Ce(r)?r:Vl,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(n);if(!i){i=[];let o=[r];for(;Ct(o);)o=nb(i,o,e);const a=Ct(e)||!et(e)?e:e.default?e.default:null;o=Ce(a)?[a]:a,Ct(o)&&nb(i,o,!1),s.__localeChainCache.set(n,i)}return i}function nb(t,e,r){let n=!0;for(let s=0;s<e.length&&St(n);s++){const i=e[s];Ce(i)&&(n=T3(t,e[s],r))}return n}function T3(t,e,r){let n;const s=e.split("-");do{const i=s.join("-");n=R3(t,i,r),s.splice(-1,1)}while(s.length&&n===!0);return n}function R3(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Ct(r)||et(r))&&r[s]&&(n=r[s])}return n}const Ks=[];Ks[0]={w:[0],i:[3,0],"[":[4],o:[7]};Ks[1]={w:[1],".":[2],"[":[4],o:[7]};Ks[2]={w:[2],i:[3,0],0:[3,0]};Ks[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Ks[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Ks[5]={"'":[4,0],o:8,l:[5,0]};Ks[6]={'"':[4,0],o:8,l:[6,0]};const O3=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function C3(t){return O3.test(t)}function k3(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function D3(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function P3(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:C3(e)?k3(e):"*"+e}function $3(t){const e=[];let r=-1,n=0,s=0,i,o,a,l,c,u,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,n=4,f[0]();else{if(s=0,o===void 0||(o=P3(o),o===!1))return!1;f[1]()}};function h(){const m=t[r+1];if(n===5&&m==="'"||n===6&&m==='"')return r++,a="\\"+m,f[0](),!0}for(;n!==null;)if(r++,i=t[r],!(i==="\\"&&h())){if(l=D3(i),d=Ks[n],c=d[l]||d.l||8,c===8||(n=c[0],c[1]!==void 0&&(u=f[c[1]],u&&(a=i,u()===!1))))return;if(n===7)return e}}const sb=new Map;function L3(t,e){return nt(t)?t[e]:null}function N3(t,e){if(!nt(t))return null;let r=sb.get(e);if(r||(r=$3(e),r&&sb.set(e,r)),!r)return null;const n=r.length;let s=t,i=0;for(;i<n;){const o=r[i];if(r1.includes(o)&&kn(s))return null;const a=s[o];if(a===void 0||At(s))return null;s=a,i++}return s}const M3="11.2.2",Mc=-1,Vl="en-US",ib="",ob=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function F3(){return{upper:(t,e)=>e==="text"&&Ce(t)?t.toUpperCase():e==="vnode"&&nt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ce(t)?t.toLowerCase():e==="vnode"&&nt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ce(t)?ob(t):e==="vnode"&&nt(t)&&"__v_isVNode"in t?ob(t.children):t}}let s1;function j3(t){s1=t}let i1;function U3(t){i1=t}let o1;function B3(t){o1=t}let a1=null;const q3=t=>{a1=t},V3=()=>a1;let l1=null;const ab=t=>{l1=t},H3=()=>l1;let lb=0;function z3(t={}){const e=At(t.onWarn)?t.onWarn:kM,r=Ce(t.version)?t.version:M3,n=Ce(t.locale)||At(t.locale)?t.locale:Vl,s=At(n)?Vl:n,i=Ct(t.fallbackLocale)||et(t.fallbackLocale)||Ce(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=et(t.messages)?t.messages:Ad(s),a=et(t.datetimeFormats)?t.datetimeFormats:Ad(s),l=et(t.numberFormats)?t.numberFormats:Ad(s),c=zt(gt(),t.modifiers,F3()),u=t.pluralRules||gt(),d=At(t.missing)?t.missing:null,f=St(t.missingWarn)||ql(t.missingWarn)?t.missingWarn:!0,h=St(t.fallbackWarn)||ql(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,y=!!t.unresolving,_=At(t.postTranslation)?t.postTranslation:null,x=et(t.processor)?t.processor:null,A=St(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter,p=At(t.messageCompiler)?t.messageCompiler:s1,b=At(t.messageResolver)?t.messageResolver:i1||L3,E=At(t.localeFallbacker)?t.localeFallbacker:o1||I3,T=nt(t.fallbackContext)?t.fallbackContext:void 0,I=t,O=nt(I.__datetimeFormatters)?I.__datetimeFormatters:new Map,P=nt(I.__numberFormatters)?I.__numberFormatters:new Map,W=nt(I.__meta)?I.__meta:{};lb++;const B={version:r,cid:lb,locale:n,fallbackLocale:i,messages:o,modifiers:c,pluralRules:u,missing:d,missingWarn:f,fallbackWarn:h,fallbackFormat:m,unresolving:y,postTranslation:_,processor:x,warnHtmlMessage:A,escapeParameter:w,messageCompiler:p,messageResolver:b,localeFallbacker:E,fallbackContext:T,onWarn:e,__meta:W};return B.datetimeFormats=a,B.numberFormats=l,B.__datetimeFormatters=O,B.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&x3(B,r,W),B}const Ad=t=>({[t]:gt()});function mp(t,e,r,n,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,r,e,s);return Ce(a)?a:e}else return e}function xo(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function W3(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function K3(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(W3(t,e[n]))return!0;return!1}function cb(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,u,d]=Df(...e),f=St(u.missingWarn)?u.missingWarn:t.missingWarn;St(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=pp(t,u),y=o(t,s,m);if(!Ce(l)||l==="")return new Intl.DateTimeFormat(m,d).format(c);let _={},x,A=null;const w="datetime format";for(let E=0;E<y.length&&(x=y[E],_=r[x]||{},A=_[l],!et(A));E++)mp(t,l,x,f,w);if(!et(A)||!Ce(x))return n?Mc:l;let p=`${x}__${l}`;Lc(d)||(p=`${p}__${JSON.stringify(d)}`);let b=a.get(p);return b||(b=new Intl.DateTimeFormat(x,zt({},A,d)),a.set(p,b)),h?b.formatToParts(c):b.format(c)}const c1=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Df(...t){const[e,r,n,s]=t,i=gt();let o=gt(),a;if(Ce(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw es(Zn.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw es(Zn.INVALID_ISO_DATE_ARGUMENT)}}else if($M(e)){if(isNaN(e.getTime()))throw es(Zn.INVALID_DATE_ARGUMENT);a=e}else if(Lt(e))a=e;else throw es(Zn.INVALID_ARGUMENT);return Ce(r)?i.key=r:et(r)&&Object.keys(r).forEach(l=>{c1.includes(l)?o[l]=r[l]:i[l]=r[l]}),Ce(n)?i.locale=n:et(n)&&(o=n),et(s)&&(o=s),[i.key||"",a,i,o]}function ub(t,e,r){const n=t;for(const s in r){const i=`${e}__${s}`;n.__datetimeFormatters.has(i)&&n.__datetimeFormatters.delete(i)}}function db(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,u,d]=Pf(...e),f=St(u.missingWarn)?u.missingWarn:t.missingWarn;St(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const h=!!u.part,m=pp(t,u),y=o(t,s,m);if(!Ce(l)||l==="")return new Intl.NumberFormat(m,d).format(c);let _={},x,A=null;const w="number format";for(let E=0;E<y.length&&(x=y[E],_=r[x]||{},A=_[l],!et(A));E++)mp(t,l,x,f,w);if(!et(A)||!Ce(x))return n?Mc:l;let p=`${x}__${l}`;Lc(d)||(p=`${p}__${JSON.stringify(d)}`);let b=a.get(p);return b||(b=new Intl.NumberFormat(x,zt({},A,d)),a.set(p,b)),h?b.formatToParts(c):b.format(c)}const u1=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Pf(...t){const[e,r,n,s]=t,i=gt();let o=gt();if(!Lt(e))throw es(Zn.INVALID_ARGUMENT);const a=e;return Ce(r)?i.key=r:et(r)&&Object.keys(r).forEach(l=>{u1.includes(l)?o[l]=r[l]:i[l]=r[l]}),Ce(n)?i.locale=n:et(n)&&(o=n),et(s)&&(o=s),[i.key||"",a,i,o]}function fb(t,e,r){const n=t;for(const s in r){const i=`${e}__${s}`;n.__numberFormatters.has(i)&&n.__numberFormatters.delete(i)}}const G3=t=>t,J3=t=>"",X3="text",Y3=t=>t.length===0?"":dp(t),Q3=jM;function hb(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function Z3(t){const e=Lt(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Lt(t.named.count)||Lt(t.named.n))?Lt(t.named.count)?t.named.count:Lt(t.named.n)?t.named.n:e:e}function eF(t,e){e.count||(e.count=t),e.n||(e.n=t)}function tF(t={}){const e=t.locale,r=Z3(t),n=nt(t.pluralRules)&&Ce(e)&&At(t.pluralRules[e])?t.pluralRules[e]:hb,s=nt(t.pluralRules)&&Ce(e)&&At(t.pluralRules[e])?hb:void 0,i=x=>x[n(r,x.length,s)],o=t.list||[],a=x=>o[x],l=t.named||gt();Lt(t.pluralIndex)&&eF(r,l);const c=x=>l[x];function u(x,A){const w=At(t.messages)?t.messages(x,!!A):nt(t.messages)?t.messages[x]:!1;return w||(t.parent?t.parent.message(x):J3)}const d=x=>t.modifiers?t.modifiers[x]:G3,f=et(t.processor)&&At(t.processor.normalize)?t.processor.normalize:Y3,h=et(t.processor)&&At(t.processor.interpolate)?t.processor.interpolate:Q3,m=et(t.processor)&&Ce(t.processor.type)?t.processor.type:X3,_={list:a,named:c,plural:i,linked:(x,...A)=>{const[w,p]=A;let b="text",E="";A.length===1?nt(w)?(E=w.modifier||E,b=w.type||b):Ce(w)&&(E=w||E):A.length===2&&(Ce(w)&&(E=w||E),Ce(p)&&(b=p||b));const T=u(x,!0)(_),I=b==="vnode"&&Ct(T)&&E?T[0]:T;return E?d(E)(I,b):I},message:u,type:m,interpolate:h,normalize:f,values:zt(gt(),o,l)};return _}const pb=()=>"",qr=t=>At(t);function mb(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[l,c]=$f(...e),u=St(c.missingWarn)?c.missingWarn:t.missingWarn,d=St(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=St(c.escapeParameter)?c.escapeParameter:t.escapeParameter,h=!!c.resolvedMessage,m=Ce(c.default)||St(c.default)?St(c.default)?i?l:()=>l:c.default:r?i?l:()=>l:null,y=r||m!=null&&(Ce(m)||At(m)),_=pp(t,c);f&&rF(c);let[x,A,w]=h?[l,_,a[_]||gt()]:d1(t,l,_,o,d,u),p=x,b=l;if(!h&&!(Ce(p)||kn(p)||qr(p))&&y&&(p=m,b=p),!h&&(!(Ce(p)||kn(p)||qr(p))||!Ce(A)))return s?Mc:l;let E=!1;const T=()=>{E=!0},I=qr(p)?p:f1(t,l,A,p,b,T);if(E)return p;const O=iF(t,A,w,c),P=tF(O),W=nF(t,I,P);let B=n?n(W,l):W;if(f&&Ce(B)&&(B=NM(B)),__INTLIFY_PROD_DEVTOOLS__){const U={timestamp:Date.now(),key:Ce(l)?l:qr(p)?p.key:"",locale:A||(qr(p)?p.locale:""),format:Ce(p)?p:qr(p)?p.source:"",message:B};U.meta=zt({},t.__meta,V3()||{}),E3(U)}return B}function rF(t){Ct(t.list)?t.list=t.list.map(e=>Ce(e)?Xy(e):e):nt(t.named)&&Object.keys(t.named).forEach(e=>{Ce(t.named[e])&&(t.named[e]=Xy(t.named[e]))})}function d1(t,e,r,n,s,i){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,u=c(t,n,r);let d=gt(),f,h=null;const m="translate";for(let y=0;y<u.length&&(f=u[y],d=o[f]||gt(),(h=l(d,e))===null&&(h=d[e]),!(Ce(h)||kn(h)||qr(h)));y++)if(!K3(f,u)){const _=mp(t,e,f,i,m);_!==e&&(h=_)}return[h,f,d]}function f1(t,e,r,n,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(qr(n)){const c=n;return c.locale=c.locale||r,c.key=c.key||e,c}if(o==null){const c=(()=>n);return c.locale=r,c.key=e,c}const l=o(n,sF(t,r,s,n,a,i));return l.locale=r,l.key=e,l.source=n,l}function nF(t,e,r){return e(r)}function $f(...t){const[e,r,n]=t,s=gt();if(!Ce(e)&&!Lt(e)&&!qr(e)&&!kn(e))throw es(Zn.INVALID_ARGUMENT);const i=Lt(e)?String(e):(qr(e),e);return Lt(r)?s.plural=r:Ce(r)?s.default=r:et(r)&&!Lc(r)?s.named=r:Ct(r)&&(s.list=r),Lt(n)?s.plural=n:Ce(n)?s.default=n:et(n)&&zt(s,n),[i,s]}function sF(t,e,r,n,s,i){return{locale:e,key:r,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>DM(e,r,o)}}function iF(t,e,r,n){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=t,f={locale:e,modifiers:s,pluralRules:i,messages:(h,m)=>{let y=o(r,h);if(y==null&&(u||m)){const[,,_]=d1(u||t,h,e,a,l,c);y=o(_,h)}if(Ce(y)||kn(y)){let _=!1;const A=f1(t,h,e,y,h,()=>{_=!0});return _?pb:A}else return qr(y)?y:pb}};return t.processor&&(f.processor=t.processor),n.list&&(f.list=n.list),n.named&&(f.named=n.named),Lt(n.plural)&&(f.pluralIndex=n.plural),f}u3();/*!
  * vue-i18n v11.2.2
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const oF="11.2.2";function aF(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(cp().__INTLIFY_PROD_DEVTOOLS__=!1)}const Xr={UNEXPECTED_RETURN_TYPE:S3,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function mn(t,...e){return Nc(t,null,void 0)}const Lf=zs("__translateVNode"),Nf=zs("__datetimeParts"),Mf=zs("__numberParts"),lF=zs("__setPluralRules"),cF=zs("__injectWithOption"),Ff=zs("__dispose");function na(t){if(!nt(t)||kn(t))return t;for(const e in t)if(on(t,e))if(!e.includes("."))nt(t[e])&&na(t[e]);else{const r=e.split("."),n=r.length-1;let s=t,i=!1;for(let o=0;o<n;o++){if(r[o]==="__proto__")throw new Error(`unsafe key: ${r[o]}`);if(r[o]in s||(s[r[o]]=gt()),!nt(s[r[o]])){i=!0;break}s=s[r[o]]}if(i||(kn(s)?r1.includes(r[n])||delete t[e]:(s[r[n]]=t[e],delete t[e])),!kn(s)){const o=s[r[n]];nt(o)&&na(o)}}return t}function h1(t,e){const{messages:r,__i18n:n,messageResolver:s,flatJson:i}=e,o=et(r)?r:Ct(n)?gt():{[t]:gt()};if(Ct(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||gt(),hl(c,o[l])):hl(c,o)}else Ce(a)&&hl(JSON.parse(a),o)}),s==null&&i)for(const a in o)on(o,a)&&na(o[a]);return o}function p1(t){return t.type}function uF(t,e,r){let n=nt(e.messages)?e.messages:gt();"__i18nGlobal"in r&&(n=h1(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const s=Object.keys(n);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,n[i])});{if(nt(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(nt(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function gb(t){return ue(Xi,null,t,0)}function gp(){return Fr()}const yb="__INTLIFY_META__",bb=()=>[],dF=()=>!1;let vb=0;function _b(t){return((e,r,n,s)=>t(r,n,gp()||void 0,s))}const fF=()=>{const t=gp();let e=null;return t&&(e=p1(t)[yb])?{[yb]:e}:null};function m1(t={}){const{__root:e,__injectWithOption:r}=t,n=e===void 0,s=t.flatJson,i=Bl?Ae:Fn;let o=St(t.inheritLocale)?t.inheritLocale:!0;const a=i(e&&o?e.locale.value:Ce(t.locale)?t.locale:Vl),l=i(e&&o?e.fallbackLocale.value:Ce(t.fallbackLocale)||Ct(t.fallbackLocale)||et(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:a.value),c=i(h1(a.value,t)),u=i(et(t.datetimeFormats)?t.datetimeFormats:{[a.value]:{}}),d=i(et(t.numberFormats)?t.numberFormats:{[a.value]:{}});let f=e?e.missingWarn:St(t.missingWarn)||ql(t.missingWarn)?t.missingWarn:!0,h=e?e.fallbackWarn:St(t.fallbackWarn)||ql(t.fallbackWarn)?t.fallbackWarn:!0,m=e?e.fallbackRoot:St(t.fallbackRoot)?t.fallbackRoot:!0,y=!!t.fallbackFormat,_=At(t.missing)?t.missing:null,x=At(t.missing)?_b(t.missing):null,A=At(t.postTranslation)?t.postTranslation:null,w=e?e.warnHtmlMessage:St(t.warnHtmlMessage)?t.warnHtmlMessage:!0,p=!!t.escapeParameter;const b=e?e.modifiers:et(t.modifiers)?t.modifiers:{};let E=t.pluralRules||e&&e.pluralRules,T;T=(()=>{n&&ab(null);const Q={version:oF,locale:a.value,fallbackLocale:l.value,messages:c.value,modifiers:b,pluralRules:E,missing:x===null?void 0:x,missingWarn:f,fallbackWarn:h,fallbackFormat:y,unresolving:!0,postTranslation:A===null?void 0:A,warnHtmlMessage:w,escapeParameter:p,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};Q.datetimeFormats=u.value,Q.numberFormats=d.value,Q.__datetimeFormatters=et(T)?T.__datetimeFormatters:void 0,Q.__numberFormatters=et(T)?T.__numberFormatters:void 0;const ie=z3(Q);return n&&ab(ie),ie})(),xo(T,a.value,l.value);function O(){return[a.value,l.value,c.value,u.value,d.value]}const P=re({get:()=>a.value,set:Q=>{T.locale=Q,a.value=Q}}),W=re({get:()=>l.value,set:Q=>{T.fallbackLocale=Q,l.value=Q,xo(T,a.value,Q)}}),B=re(()=>c.value),U=re(()=>u.value),M=re(()=>d.value);function te(){return At(A)?A:null}function R(Q){A=Q,T.postTranslation=Q}function q(){return _}function F(Q){Q!==null&&(x=_b(Q)),_=Q,T.missing=x}const ee=(Q,ie,Re,S,g,v)=>{O();let D;try{__INTLIFY_PROD_DEVTOOLS__,n||(T.fallbackContext=e?H3():void 0),D=Q(T)}finally{__INTLIFY_PROD_DEVTOOLS__,n||(T.fallbackContext=void 0)}if(Re!=="translate exists"&&Lt(D)&&D===Mc||Re==="translate exists"&&!D){const[K,ne]=ie();return e&&m?S(e):g(K)}else{if(v(D))return D;throw mn(Xr.UNEXPECTED_RETURN_TYPE)}};function j(...Q){return ee(ie=>Reflect.apply(mb,null,[ie,...Q]),()=>$f(...Q),"translate",ie=>Reflect.apply(ie.t,ie,[...Q]),ie=>ie,ie=>Ce(ie))}function se(...Q){const[ie,Re,S]=Q;if(S&&!nt(S))throw mn(Xr.INVALID_ARGUMENT);return j(ie,Re,zt({resolvedMessage:!0},S||{}))}function oe(...Q){return ee(ie=>Reflect.apply(cb,null,[ie,...Q]),()=>Df(...Q),"datetime format",ie=>Reflect.apply(ie.d,ie,[...Q]),()=>ib,ie=>Ce(ie)||Ct(ie))}function ae(...Q){return ee(ie=>Reflect.apply(db,null,[ie,...Q]),()=>Pf(...Q),"number format",ie=>Reflect.apply(ie.n,ie,[...Q]),()=>ib,ie=>Ce(ie)||Ct(ie))}function we(Q){return Q.map(ie=>Ce(ie)||Lt(ie)||St(ie)?gb(String(ie)):ie)}const H={normalize:we,interpolate:Q=>Q,type:"vnode"};function V(...Q){return ee(ie=>{let Re;const S=ie;try{S.processor=H,Re=Reflect.apply(mb,null,[S,...Q])}finally{S.processor=null}return Re},()=>$f(...Q),"translate",ie=>ie[Lf](...Q),ie=>[gb(ie)],ie=>Ct(ie))}function le(...Q){return ee(ie=>Reflect.apply(db,null,[ie,...Q]),()=>Pf(...Q),"number format",ie=>ie[Mf](...Q),bb,ie=>Ce(ie)||Ct(ie))}function ve(...Q){return ee(ie=>Reflect.apply(cb,null,[ie,...Q]),()=>Df(...Q),"datetime format",ie=>ie[Nf](...Q),bb,ie=>Ce(ie)||Ct(ie))}function ce(Q){E=Q,T.pluralRules=E}function Te(Q,ie){return ee(()=>{if(!Q)return!1;const Re=Ce(ie)?ie:a.value,S=X(Re),g=T.messageResolver(S,Q);return kn(g)||qr(g)||Ce(g)},()=>[Q],"translate exists",Re=>Reflect.apply(Re.te,Re,[Q,ie]),dF,Re=>St(Re))}function L(Q){let ie=null;const Re=n1(T,l.value,a.value);for(let S=0;S<Re.length;S++){const g=c.value[Re[S]]||{},v=T.messageResolver(g,Q);if(v!=null){ie=v;break}}return ie}function k(Q){const ie=L(Q);return ie??(e?e.tm(Q)||{}:{})}function X(Q){return c.value[Q]||{}}function he(Q,ie){if(s){const Re={[Q]:ie};for(const S in Re)on(Re,S)&&na(Re[S]);ie=Re[Q]}c.value[Q]=ie,T.messages=c.value}function fe(Q,ie){c.value[Q]=c.value[Q]||{};const Re={[Q]:ie};if(s)for(const S in Re)on(Re,S)&&na(Re[S]);ie=Re[Q],hl(ie,c.value[Q]),T.messages=c.value}function pe(Q){return u.value[Q]||{}}function $(Q,ie){u.value[Q]=ie,T.datetimeFormats=u.value,ub(T,Q,ie)}function N(Q,ie){u.value[Q]=zt(u.value[Q]||{},ie),T.datetimeFormats=u.value,ub(T,Q,ie)}function Y(Q){return d.value[Q]||{}}function Z(Q,ie){d.value[Q]=ie,T.numberFormats=d.value,fb(T,Q,ie)}function xe(Q,ie){d.value[Q]=zt(d.value[Q]||{},ie),T.numberFormats=d.value,fb(T,Q,ie)}vb++,e&&Bl&&(st(e.locale,Q=>{o&&(a.value=Q,T.locale=Q,xo(T,a.value,l.value))}),st(e.fallbackLocale,Q=>{o&&(l.value=Q,T.fallbackLocale=Q,xo(T,a.value,l.value))}));const ye={id:vb,locale:P,fallbackLocale:W,get inheritLocale(){return o},set inheritLocale(Q){o=Q,Q&&e&&(a.value=e.locale.value,l.value=e.fallbackLocale.value,xo(T,a.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:B,get modifiers(){return b},get pluralRules(){return E||{}},get isGlobal(){return n},get missingWarn(){return f},set missingWarn(Q){f=Q,T.missingWarn=f},get fallbackWarn(){return h},set fallbackWarn(Q){h=Q,T.fallbackWarn=h},get fallbackRoot(){return m},set fallbackRoot(Q){m=Q},get fallbackFormat(){return y},set fallbackFormat(Q){y=Q,T.fallbackFormat=y},get warnHtmlMessage(){return w},set warnHtmlMessage(Q){w=Q,T.warnHtmlMessage=Q},get escapeParameter(){return p},set escapeParameter(Q){p=Q,T.escapeParameter=Q},t:j,getLocaleMessage:X,setLocaleMessage:he,mergeLocaleMessage:fe,getPostTranslationHandler:te,setPostTranslationHandler:R,getMissingHandler:q,setMissingHandler:F,[lF]:ce};return ye.datetimeFormats=U,ye.numberFormats=M,ye.rt=se,ye.te=Te,ye.tm=k,ye.d=oe,ye.n=ae,ye.getDateTimeFormat=pe,ye.setDateTimeFormat=$,ye.mergeDateTimeFormat=N,ye.getNumberFormat=Y,ye.setNumberFormat=Z,ye.mergeNumberFormat=xe,ye[cF]=r,ye[Lf]=V,ye[Nf]=ve,ye[Mf]=le,ye}const yp={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function hF({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,s)=>[...n,...s.type===Ze?s.children:[s]],[]):e.reduce((r,n)=>{const s=t[n];return s&&(r[n]=s()),r},gt())}function g1(){return Ze}const pF=be({name:"i18n-t",props:zt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Lt(t)||!isNaN(t)}},yp),setup(t,e){const{slots:r,attrs:n}=e,s=t.i18n||bp({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(r).filter(d=>d[0]!=="_"),o=gt();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Ce(t.plural)?+t.plural:t.plural);const a=hF(e,i),l=s[Lf](t.keypath,a,o),c=zt(gt(),n),u=Ce(t.tag)||nt(t.tag)?t.tag:g1();return rs(u,c,l)}}}),wb=pF;function mF(t){return Ct(t)&&!Ce(t[0])}function y1(t,e,r,n){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a=gt();t.locale&&(o.locale=t.locale),Ce(t.format)?o.key=t.format:nt(t.format)&&(Ce(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,h)=>r.includes(h)?zt(gt(),f,{[h]:t.format[h]}):f,gt()));const l=n(t.value,o,a);let c=[o.key];Ct(l)?c=l.map((f,h)=>{const m=s[f.type],y=m?m({[f.type]:f.value,index:h,parts:l}):[f.value];return mF(y)&&(y[0].key=`${f.type}-${h}`),y}):Ce(l)&&(c=[l]);const u=zt(gt(),i),d=Ce(t.tag)||nt(t.tag)?t.tag:g1();return rs(d,u,c)}}const gF=be({name:"i18n-n",props:zt({value:{type:Number,required:!0},format:{type:[String,Object]}},yp),setup(t,e){const r=t.i18n||bp({useScope:t.scope,__useComponent:!0});return y1(t,e,u1,(...n)=>r[Mf](...n))}}),xb=gF;function yF(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function bF(t){const e=o=>{const{instance:a,value:l}=o;if(!a||!a.$)throw mn(Xr.UNEXPECTED_ERROR);const c=yF(t,a.$),u=Eb(l);return[Reflect.apply(c.t,c,[...Ab(u)]),c]};return{created:(o,a)=>{const[l,c]=e(a);Bl&&t.global===c&&(o.__i18nWatcher=st(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{Bl&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=Eb(a);o.textContent=Reflect.apply(l.t,l,[...Ab(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function Eb(t){if(Ce(t))return{path:t};if(et(t)){if(!("path"in t))throw mn(Xr.REQUIRED_VALUE,"path");return t}else throw mn(Xr.INVALID_VALUE)}function Ab(t){const{path:e,locale:r,args:n,choice:s,plural:i}=t,o={},a=n||{};return Ce(r)&&(o.locale=r),Lt(s)&&(o.plural=s),Lt(i)&&(o.plural=i),[e,a,o]}function vF(t,e,...r){const n=et(r[0])?r[0]:{};(St(n.globalInstall)?n.globalInstall:!0)&&([wb.name,"I18nT"].forEach(i=>t.component(i,wb)),[xb.name,"I18nN"].forEach(i=>t.component(i,xb)),[Ib.name,"I18nD"].forEach(i=>t.component(i,Ib))),t.directive("t",bF(e))}const _F=zs("global-vue-i18n");function wF(t={}){const e=St(t.globalInjection)?t.globalInjection:!0,r=new Map,[n,s]=xF(t),i=zs("");function o(u){return r.get(u)||null}function a(u,d){r.set(u,d)}function l(u){r.delete(u)}const c={get mode(){return"composition"},async install(u,...d){if(u.__VUE_I18N_SYMBOL__=i,u.provide(u.__VUE_I18N_SYMBOL__,c),et(d[0])){const m=d[0];c.__composerExtend=m.__composerExtend,c.__vueI18nExtend=m.__vueI18nExtend}let f=null;e&&(f=CF(u,c.global)),vF(u,c,...d);const h=u.unmount;u.unmount=()=>{f&&f(),c.dispose(),h()}},get global(){return s},dispose(){n.stop()},__instances:r,__getInstance:o,__setInstance:a,__deleteInstance:l};return c}function bp(t={}){const e=gp();if(e==null)throw mn(Xr.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw mn(Xr.NOT_INSTALLED);const r=EF(e),n=SF(r),s=p1(e),i=AF(t,s);if(i==="global")return uF(n,t,s),n;if(i==="parent"){let l=IF(r,e,t.__useComponent);return l==null&&(l=n),l}const o=r;let a=o.__getInstance(e);if(a==null){const l=zt({},t);"__i18n"in s&&(l.__i18n=s.__i18n),n&&(l.__root=n),a=m1(l),o.__composerExtend&&(a[Ff]=o.__composerExtend(a)),RF(o,e,a),o.__setInstance(e,a)}return a}function xF(t,e){const r=ca(),n=r.run(()=>m1(t));if(n==null)throw mn(Xr.UNEXPECTED_ERROR);return[r,n]}function EF(t){const e=hr(t.isCE?_F:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw mn(t.isCE?Xr.NOT_INSTALLED_WITH_PROVIDE:Xr.UNEXPECTED_ERROR);return e}function AF(t,e){return Lc(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function SF(t){return t.mode==="composition"?t.global:t.global.__composer}function IF(t,e,r=!1){let n=null;const s=e.root;let i=TF(e,r);for(;i!=null;){const o=t;if(t.mode==="composition"&&(n=o.__getInstance(i)),n!=null||s===i)break;i=i.parent}return n}function TF(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function RF(t,e,r){Qt(()=>{},e),jn(()=>{const n=r;t.__deleteInstance(e);const s=n[Ff];s&&(s(),delete n[Ff])},e)}const OF=["locale","fallbackLocale","availableLocales"],Sb=["t","rt","d","n","tm","te"];function CF(t,e){const r=Object.create(null);return OF.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw mn(Xr.UNEXPECTED_ERROR);const o=Et(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(r,s,o)}),t.config.globalProperties.$i18n=r,Sb.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw mn(Xr.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,Sb.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}const kF=be({name:"i18n-d",props:zt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},yp),setup(t,e){const r=t.i18n||bp({useScope:t.scope,__useComponent:!0});return y1(t,e,c1,(...n)=>r[Nf](...n))}}),Ib=kF;aF();j3(_3);U3(N3);B3(n1);if(__INTLIFY_PROD_DEVTOOLS__){const t=cp();t.__INTLIFY__=!0,w3(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}var DF=Object.defineProperty,PF=(t,e,r)=>e in t?DF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sd=(t,e,r)=>PF(t,typeof e!="symbol"?e+"":e,r);class $F{constructor(e,r){this.i18n=e,this.messages=r,this.messages.addListener((n,s)=>this.i18n.setLocaleMessage(n,s))}getLocale(){return this.i18n.locale.value}async setLocale(e){await this.messages.loadLocale(e),this.i18n.locale.value=e}getFallbackLocale(){const e=this.i18n.fallbackLocale.value;return typeof e!="string"?"":e}async setFallbackLocale(e){await this.messages.loadLocale(e),this.i18n.fallbackLocale.value=e}getLocales(){return this.messages.getLocales()}translate(e,r){return this.i18n.t(e,r??{})}translateWithDefault(e,r,n){const s=this.i18n.t(e,n??{},{missingWarn:!1});return s===e?this.replaceParameters(r,n):s}replaceParameters(e,r={}){if(typeof r=="number"){const n=e.split("|").map(i=>i.trim()),s=n[r]??n[2]??e;return this.replaceParameters(s,{n:r})}return Object.entries(r).reduce((n,[s,i])=>n.replace(new RegExp(`\\{.*${s}[^}]*\\}`),Rt(i)),e)}}class LF{constructor(e){Sd(this,"listeners",[]),Sd(this,"messages",{}),Sd(this,"loaders"),this.loaders=Object.entries(e).reduce((r,[n,s])=>{var i;const o=(i=Vb(n,/.*\/lang\/(.+)\.yaml/))==null?void 0:i[1];return o&&(r[o]=()=>s().then(({default:a})=>a)),r},{})}getMessages(){return Object.assign({},this.messages)}getLocales(){return Object.keys(this.loaders)}addListener(e){this.listeners.push(e)}async loadLocale(e){if(e in this.messages)return this.messages[e];const r=await(this.loaders[e]??We(`Couldn't load messages for '${e}' locale`))();return this.messages[e]=r,this.listeners.forEach(n=>n(e,r)),r}}async function NF(t){const e=t.defaultLocale??"en",r=t.fallbackLocale??"en";return await t.messages.loadLocale(e),await t.messages.loadLocale(r),wF({warnHtmlMessage:!1,locale:e,fallbackLocale:r,messages:t.messages.getMessages()})}function MF(t){return{async install(e){const r=new LF(t.messages),n=await NF({...t,messages:r});e.use(n),Ls.setProvider(new $F(n.global,r))}}}const ni={clientID:{"@context":"https://www.w3.org/ns/solid/oidc-context.jsonld",client_id:"https://ramen.noeldemartin.com/clientid.jsonld",client_name:"Ramen",redirect_uris:["https://ramen.noeldemartin.com/"],client_uri:"https://ramen.noeldemartin.com/",scope:"openid profile offline_access webid",grant_types:["refresh_token","authorization_code"],response_types:["code"],logo_uri:"https://ramen.noeldemartin.com/android-chrome-512x512.png"}};function FF(t){return jt(t)}const jF=Object.freeze(Object.defineProperty({__proto__:null,model:FF},Symbol.toStringTag,{value:"Module"}));let UF=new WeakMap;function b1(){return UF}function BF(t){return b1().has(t)}async function Id(t,e,r={}){const n=r.refresh??!0,s=gl(b1().get(t),"Failed tracking models collection, please track the model first using trackModels()");if(!s.collectionsSet.has(e)&&(s.collectionsSet.add(e),n)){const i=await t.withCollection(e,()=>t.all());for(const o of i)s.modelsSet.add(o)}}function qF(){globalThis.testingRuntime&&Object.assign(globalThis.testingRuntime,jF)}function VF(t){return{install(){const e=new eE(Ow());qF(),Zb(e),cE(t.models),Pt.on("purge-storage",()=>e.purgeDatabase())}}}var HF=Object.defineProperty,zF=(t,e,r)=>e in t?HF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vr=(t,e,r)=>zF(t,typeof e!="symbol"?e+"":e,r);class WF extends Yr{}function KF(t,e){return t}class Hl extends Yr{constructor(e,r,n){super(KF(e),n),Vr(this,"description"),this.description=r}}class GF extends Yr{constructor(e,r){super(`Container at ${e.url} is already in use`,r)}}class Fc{constructor(){Vr(this,"name"),Vr(this,"authenticatedFetch"),Vr(this,"booted"),Vr(this,"listeners",Qb([])),Vr(this,"_engine")}get engine(){return this._engine=this._engine??new oh(this.requireAuthenticatedFetch()),this._engine}getAuthenticatedFetch(){return this.authenticatedFetch??null}requireAuthenticatedFetch(){return this.authenticatedFetch??We("Authenticated fetch is not ready")}addListener(e){return this.listeners.includes(e)||this.listeners.push(e),()=>{this.removeListener(e)}}removeListener(e){this.listeners.includes(e)&&this.listeners.remove(e)}async boot(){if(this.booted)return this.booted;this.booted=new ks,await this.restoreSession(),this.booted.resolve()}async initAuthenticatedFetch(e){this.authenticatedFetch=e,await this.notifyListeners("onAuthenticatedFetchReady",e)}async startSession(e){const r={authenticator:this,...e};return await this.notifyListeners("onSessionStarted",r),r}async failSession(e,r){await this.notifyListeners("onSessionFailed",e,r)}async endSession(){await this.notifyListeners("onSessionEnded")}async notifyListeners(e,...r){await Promise.all(this.listeners.toArray().map(async n=>{const s=n[e];await(s==null?void 0:s(...r))}))}}const Td="inrupt-authenticator";class JF extends Fc{constructor(){super(...arguments),Vr(this,"_events"),Vr(this,"_fetch"),Vr(this,"_login"),Vr(this,"_logout"),Vr(this,"_handleIncomingRedirect")}async login(e){nn.set(Td,e);const r={oidcIssuer:e};return ni.clientID&&(r.clientId=ni.clientID.client_id,r.clientName=ni.clientID.client_name,r.redirectUrl=ni.clientID.redirect_uris[0]),await this._login(r),await Rn({seconds:60}),We("Browser should have redirected, but it didn't")}async logout(){await this._logout(),await this.endSession()}async restoreSession(){const{events:e,fetch:r,handleIncomingRedirect:n,login:s,logout:i}=await sn(async()=>{const{events:o,fetch:a,handleIncomingRedirect:l,login:c,logout:u}=await import("./InruptAuthenticator.lazy-BvpQLGoj-CpG37ABx.js");return{events:o,fetch:a,handleIncomingRedirect:l,login:c,logout:u}},[]);this._fetch=r,this._login=s,this._logout=i,this._events=e,this._handleIncomingRedirect=n,await this.loginFromRedirect()}async loginFromRedirect(){const e=nn.get(Td);if(!e)return;this._events().on("error",(n,s)=>{n??(n="Error using Inrupt Authenticator method"),typeof s=="object"?this.failSession(e,new Hl(n,null,{cause:s})):this.failSession(e,new Hl(n,s))});const r=await this._handleIncomingRedirect(globalThis.location.href);nn.remove(Td),r!=null&&r.isLoggedIn&&r.webId&&await this.initSession(r.webId)}async initSession(e){await this.initAuthenticatedFetch(this._fetch);try{const r=await or.requireUserProfile(e);await this.startSession({user:r,loginUrl:e})}catch(r){await this.failSession(e,r)}}}class XF extends Fc{constructor(){super(),Vr(this,"store"),this.store=B$("legacy-authenticator",{})}async login(e,r){const{SolidAuthClient:n}=await sn(async()=>{const{SolidAuthClient:s}=await import("./LegacyAuthenticator.lazy-ChFFqP14-DwGs9H6m.js");return{SolidAuthClient:s}},[]);throw this.store.webId=r==null?void 0:r.webId,this.store.loginUrl=(r==null?void 0:r.oidcIssuerUrl)??e,await n.login(this.store.loginUrl)===null?(delete this.store.webId,delete this.store.loginUrl,new Hl("Could not log in with Solid using the legacy authenticator")):(await Rn({seconds:60}),new Error("Browser should have redirected, but it didn't"))}async logout(){const{SolidAuthClient:e}=await sn(async()=>{const{SolidAuthClient:r}=await import("./LegacyAuthenticator.lazy-ChFFqP14-DwGs9H6m.js");return{SolidAuthClient:r}},[]);delete this.store.webId,delete this.store.loginUrl,await e.logout(),await this.endSession()}async restoreSession(){if(!this.store.loginUrl)return;const{SolidAuthClient:e}=await sn(async()=>{const{SolidAuthClient:s}=await import("./LegacyAuthenticator.lazy-ChFFqP14-DwGs9H6m.js");return{SolidAuthClient:s}},[]),r=await e.currentSession(),n=gl(this.store.loginUrl);await this.initAuthenticatedFetch((s,i)=>e.fetch(s,i));try{const s=await or.requireUserProfile(gl((r==null?void 0:r.webId)??this.store.webId));await this.startSession({user:s,loginUrl:n})}catch(s){await this.failSession(n,s)}}}const vp={},YF={inrupt:new JF,legacy:new XF};function QF(t){vp.default=t}function Bo(t){return vp[t]}function ZF(t){Object.entries(t).forEach(([e,r])=>ej(e,r))}function ej(t,e){vp[t]=e,e.name=e.name??t}const _p={autoReconnect:!0},tj=to({name:"solid",persist:["autoReconnect","dismissed","previousSession","profiles","staleProfiles","collections"],initialState:{autoReconnect:_p.autoReconnect,dismissed:!1,ignorePreviousSessionError:!1,loginStartupError:null,loginOngoing:!1,preferredAuthenticator:null,previousSession:null,profiles:{},session:null,loginStale:!1,staleProfiles:[],collections:{}},serialize(t){var e;return((e=t.previousSession)==null?void 0:e.error)instanceof Error&&(t.previousSession.error=t.previousSession.error.message),t},computed:{user:t=>{var e,r;return((e=t.session)==null?void 0:e.user)??((r=t.previousSession)==null?void 0:r.profile)??null},authenticator:t=>{var e;return((e=t.session)==null?void 0:e.authenticator)??null},fetch(){var t;return((t=this.authenticator)==null?void 0:t.getAuthenticatedFetch())??globalThis.fetch.bind(globalThis)},error(t){var e;return t.loginStartupError?t.loginStartupError??null:t.ignorePreviousSessionError?null:((e=t.previousSession)==null?void 0:e.error)??null}}});class rj extends tj{isLoggedIn(){return!!this.session}wasLoggedIn(){return!!this.previousSession}hasLoggedIn(){return!!(this.session||this.previousSession)}requireAuthenticator(){return this.authenticator??We("Could not get authenticator")}requireUser(){return this.user??We("Could not get user profile (are you logged in?)")}requireUserProfile(e){return this.getUserProfile(e,{required:!0})}async getUserProfile(e,r={}){var n;let s=null;const i=r.markStale??!((n=this.authenticator)!=null&&n.getAuthenticatedFetch()),o=this.profiles[e]??await Ne(await OA(e,{fetch:this.fetch,required:r.required??!1,onLoaded(a){s=a}}),async a=>{a&&(s&&await Pt.emit("solid:user-profile-loaded",[a,s]),this.rememberProfile(a))});return o&&i&&this.setState({staleProfiles:Cr(this.staleProfiles.concat([o.webId]))}),o}async refreshUserProfile(){if(!this.isLoggedIn())return;this.setState({profiles:ji(this.profiles,[this.user.webId])});const e=await this.requireUserProfile(this.user.webId);this.setState({session:{...this.session,user:e}})}async login(e,r={}){if(Ds()&&e==="dev"&&(e="http://localhost:3000"),/^https?:\/\//.test(e)||(r.fallbackUrl??(r.fallbackUrl=`http://${e}`),e=`https://${e}`),this.isLoggedIn())return!0;if(this.loginOngoing)throw new Error("Authentication already in progress");return r.loading?Gt.loading(ze("solid.loginOngoing","Logging in..."),()=>this.attemptLogin(e,r)):this.attemptLogin(e,r)}async reconnect(e={}){const{force:r,...n}=e;this.isLoggedIn()||!this.previousSession||this.previousSession.error!==null&&!r||await this.login(this.previousSession.loginUrl,{authenticator:this.previousSession.authenticator,...n,loading:n.loading??!1})}async logout(e=!1){var r,n;const s=!$t.plugin("@aerogel/local-first")||!!((r=$t.service("$cloud"))!=null&&r.ready),i=!!$t.plugin("@aerogel/local-first")&&!!((n=$t.service("$cloud"))!=null&&n.dirty),[o,a]=$t.plugin("@aerogel/local-first")?e?[!0,{wipeLocalData:s}]:await Gt.confirm(s?ze("solid.logoutConfirmTitle","Log out from this device?"):ze("solid.disconnectConfirmTitle","Disconnect account?"),s?i?ze("solid.logoutConfirmMessageWithLocalChanges","There are some changes that haven't been synchronized and will be lost, but the rest of the data will remain in your Solid POD."):ze("solid.logoutConfirmMessage","Logging out will remove all the data from this device, but you'll still have it in your Solid POD."):ze("solid.disconnectConfirmMessage","You'll need to introduce your credentials again to connect to your Solid POD."),{acceptText:ze("solid.logoutConfirmAccept","Log out"),acceptVariant:"danger",cancelText:ze("solid.logoutConfirmCancel",ze("ui.cancel","Cancel")),checkboxes:s?i?{wipeLocalData:{label:ze("solid.logoutConfirmWipeNotice","I understand that changes that haven't been synchronized will be lost."),default:!1,required:!0}}:void 0:{wipeLocalData:{label:ze("solid.logoutConfirmWipe","Also remove all existing data"),default:!1}}}):[!0,{wipeLocalData:!1}];o&&this.previousSession&&await Gt.loading(ze("solid.logoutOngoing","Logging out..."),async()=>{this.setState({dismissed:!1,ignorePreviousSessionError:!1,loginStartupError:null,previousSession:null,..._p}),this.isLoggedIn()&&await this.authenticator.logout(),(a.wipeLocalData??!0)&&await rp.purge(),await Pt.emit("auth:logout"),await Pt.emit("auth:after-logout")})}async whenLoggedIn(e){return this.isLoggedIn()?e(this.session):new Promise(r=>{const n=s=>r(e(s));Pt.once("auth:login",n)})}dismiss(){this.setState({dismissed:!0})}async findOrCreatePrivateTypeIndex(){return await this.findPrivateTypeIndex()??await this.createPrivateTypeIndex()}async findPrivateTypeIndex(e={}){const{webId:r,privateTypeIndexUrl:n}=this.requireUser(),s=this.requireAuthenticator().engine;return n?(e.fresh&&Kp(`${r}-privateTypeIndex`),zp(`${r}-privateTypeIndex`,()=>Io.withEngine(s).find(n))):null}async findOrCreatePublicTypeIndex(){return await this.findPublicTypeIndex()??await this.createPublicTypeIndex()}async findPublicTypeIndex(e={}){const{webId:r,publicTypeIndexUrl:n}=this.requireUser(),s=this.requireAuthenticator().engine;return n?(e.fresh&&Kp(`${r}-publicTypeIndex`),zp(`${r}-publicTypeIndex`,()=>Io.withEngine(s).find(n))):null}async createPrivateContainer(e){const r=this.requireAuthenticator().engine;return si.withEngine(r,async()=>{const n=await si.find(e.url);if(n&&!e.reuseExisting)throw new GF(n);const s=n??new si({url:e.url,name:e.name});if(await s.save(),e.registerFor){const i=await this.findOrCreatePrivateTypeIndex();await s.register(i,e.registerFor)}return s})}async boot(){var e,r;await Ul.booted,xa("authenticator")&&this.setState({preferredAuthenticator:Jc("authenticator")}),xa("refreshProfile")&&this.setState({staleProfiles:Cr(this.staleProfiles.concat(Xt([(e=this.session)==null?void 0:e.user.webId,(r=this.previousSession)==null?void 0:r.loginUrl])))}),await this.restorePreviousSession(),await this.startupReconnect(),await this.trackSolidModels()}async createPrivateTypeIndex(){const e=this.requireUser(),r=this.requireAuthenticator(),n=await Io.withEngine(r.engine).createPrivate(e);return Ne(n,()=>{e.privateTypeIndexUrl=n.url,Gp(`${e.webId}-privateTypeIndex`,n),this.rememberProfile(e)})}async createPublicTypeIndex(){const e=this.requireUser(),r=this.requireAuthenticator(),n=await Io.withEngine(r.engine).createPublic(e);return Ne(n,()=>{e.privateTypeIndexUrl=n.url,Gp(`${e.webId}-publicTypeIndex`,n),this.rememberProfile(e)})}async attemptLogin(e,r){const n=r.authenticator??this.preferredAuthenticator??"default",s=r.onError??(a=>$t.isMounted()?Ul.report(a):this.setState({loginStartupError:a})),i=setTimeout(()=>this.loginStale=!0,1e4),o={dismissed:this.dismissed,ignorePreviousSessionError:this.ignorePreviousSessionError,previousSession:this.previousSession};this.loginOngoing=!0;try{const a=await this.getUserProfile(e,{markStale:!0}),l=(a==null?void 0:a.oidcIssuerUrl)??Nn((a==null?void 0:a.webId)??e),c=await this.bootAuthenticator(n),{domain:u}=jx(e);return this.setState({dismissed:!1,ignorePreviousSessionError:!0,previousSession:xr({profile:a,loginUrl:e,authenticator:n,error:ze("solid.stuckConnecting","We didn't hear back from the identity provider at `{domain}`, maybe try reconnecting?",{domain:u})})}),await Pt.emit("auth:before-login"),await c.login(l,a),!0}catch(a){return this.setState(o),a instanceof WF?!1:r.fallbackUrl?Rn().then(()=>this.login(r.fallbackUrl??"",ji(r,"fallbackUrl"))):(s(a),!1)}finally{clearTimeout(i),this.setState({loginOngoing:!1,loginStale:!1})}}async restorePreviousSession(){this.previousSession&&await this.bootAuthenticator(this.previousSession.authenticator)}async startupReconnect(){this.reconnectOnStartup()&&await this.reconnect({force:this.forcingReconnect()})}reconnectOnStartup(){return xa("autoReconnect")?Hp(Jc("autoReconnect")):this.autoReconnect}forcingReconnect(){return xa("autoReconnect")&&Hp(Jc("autoReconnect"))}async bootAuthenticator(e){const r=Bo(e);return r.addListener({onSessionStarted:async n=>{this.setState({session:n,previousSession:{authenticator:r.name,loginUrl:n.loginUrl,profile:n.user,error:null}}),this.staleProfiles.includes(n.user.webId)&&await this.refreshUserProfile(),$t.plugin("@aerogel/local-first")||Zb(n.authenticator.engine),aI.forEach(s=>s.setEngine(n.authenticator.engine)),await Pt.emit("auth:login",n)},onSessionFailed:async(n,s)=>{var i;this.setState({session:null,previousSession:{profile:(i=this.previousSession)==null?void 0:i.profile,authenticator:r.name,loginUrl:n,error:s}})},onSessionEnded:()=>this.setState({session:null}),onAuthenticatedFetchReady:n=>Pt.emit("auth:fetch-ready",n)}),await r.boot(),r}rememberProfile(e){this.setState({profiles:{...this.profiles,[e.webId]:e},staleProfiles:Wr(this.staleProfiles,e.webId)})}async trackSolidModels(){Pt.on("purge-storage",()=>this.collections={}),Pt.on("soukai:track-models",async e=>{var r;oI(e)&&(e.on("created",async n=>{var s;const i=n.getContainerUrl();if(!i||n.getDefaultCollection()===i||(s=this.collections[n.static().modelName])!=null&&s.includes(i))return;const o=this.collections[n.static().modelName]??[];o.push(i),this.collections={...this.collections,[n.static().modelName]:o},await Id(e,i,{refresh:!1})}),await Promise.all(((r=this.collections[e.modelName])==null?void 0:r.map(n=>Id(e,n),{refresh:!1}))??[]))});for(const[e,r]of Object.entries(this.collections)){const n=oE().get(e);if(!(!n||!BF(n)))for(const s of r)await Id(n,s)}}}const or=Ns(rj);function nj(){Pw("container_url",t=>{if(!t.endsWith("/"))return"containerEndingSlashMissing"})}const sj={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function ij(t,e){return J(),Se("svg",sj,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M15 2H5L4 8h12zM0 10s2 1 10 1s10-1 10-1l-4-2H4zm8 4h4v1H8z"},null,-1),Oe("circle",{cx:"6",cy:"15",r:"3",fill:"currentColor"},null,-1),Oe("circle",{cx:"14",cy:"15",r:"3",fill:"currentColor"},null,-1)]))}rt({name:"ooui-user-anonymous",render:ij});const oj={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function aj(t,e){return J(),Se("svg",oj,e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M9 2h9c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H9c-1.1 0-2-.9-2-2v-2h2v2h9V4H9v2H7V4c0-1.1.9-2 2-2"},null,-1),Oe("path",{fill:"currentColor",d:"M10.09 15.59L11.5 17l5-5l-5-5l-1.41 1.41L12.67 11H3v2h9.67z"},null,-1)]))}rt({name:"ic-baseline-log-in",render:aj});const lj={$solid:or};function cj(t={}){return{async install(e){lI(),ZF({...YF,...t.authenticators??{}}),nj(),QF(Bo(t.defaultAuthenticator??"inrupt")),nL(r=>{if(r instanceof Hl)return r.description?`${r.message} (${r.description})`:r.message}),typeof t.autoReconnect=="boolean"&&(_p.autoReconnect=t.autoReconnect,or.hasPersistedState()||(or.autoReconnect=t.autoReconnect)),t.onUserProfileLoaded&&Pt.on("solid:user-profile-loaded",([r,n])=>{var s;(s=t.onUserProfileLoaded)==null||s.call(t,r,n)}),await ya(e,lj)}}}function v1(t,e){const r=un(mg.get(t)??e);return st(r,()=>mg.set(t,Qe(r))),r}class uj extends Fc{constructor(){super();it(this,"store");this.store=v1("activitypods-authenticator",{})}async login(r,n){if(!ni.clientID)throw new Error("ActivityPods: Can't login in because ClientID document is missing");const s=await sn(()=>import("./index-B_VAUyOD.js"),[]),i=s.generateRandomCodeVerifier(),o=await this.getAuthorizationServer(r),a=await s.calculatePKCECodeChallenge(i),l=new URL(o.authorization_endpoint);throw l.searchParams.set("client_id",this.getOAuthClient().client_id),l.searchParams.set("redirect_uri",ni.clientID.redirect_uris[0]),l.searchParams.set("response_type","code"),l.searchParams.set("code_challenge",a),l.searchParams.set("code_challenge_method","S256"),l.searchParams.set("scope","openid webid offline_access"),l.searchParams.set("is_signup","false"),this.store.webId=n==null?void 0:n.webId,this.store.loginUrl=r,this.store.codeVerifier=i,window.location.href=l.href,await Kv({seconds:60}),new Error("Browser should have redirected, but it didn't")}async logout(){delete this.store.token,delete this.store.webId,delete this.store.loginUrl,delete this.store.codeVerifier,await this.endSession()}async restoreSession(){const{searchParams:r}=new URL(window.location.href);r.has("code")&&await this.processCallbackUrl(r.get("iss")??Pi("'iss' missing from redirect url")),this.store.token&&(await this.initAuthenticatedFetch((n,s)=>(typeof n=="string"&&(s={url:n,...s}),s.headers??(s.headers={}),s.headers.Authorization=`Bearer ${this.store.token}`,fetch(n,s))),await this.startSession({user:await or.requireUserProfile(Ca(this.store.webId)),loginUrl:Ca(this.store.loginUrl)}))}async processCallbackUrl(r){const n=await this.getAuthorizationServer(r),s=await this.getCallbackParameters(n),{id_token:i}=await this.requestToken(n,s);this.store.token=i,delete this.store.codeVerifier,await $I(["state","code","iss","error","error_description"])}async getAuthorizationServer(r){const n=new URL(r),s=await sn(()=>import("./index-B_VAUyOD.js"),[]);return await s.discoveryRequest(n).then(o=>s.processDiscoveryResponse(n,o))}async getCallbackParameters(r){const n=await sn(()=>import("./index-B_VAUyOD.js"),[]),s=n.validateAuthResponse(r,this.getOAuthClient(),new URL(window.location.href),n.expectNoState);if(n.isOAuth2Error(s))throw new Error(`OAuth error: ${s.error} (${s.error_description})`);return s}async requestToken(r,n){const s=await sn(()=>import("./index-B_VAUyOD.js"),[]),i=await s.authorizationCodeGrantRequest(r,this.getOAuthClient(),n,Ca(ni.clientID).redirect_uris[0],Ca(this.store.codeVerifier)),o=await s.processAuthorizationCodeOpenIDResponse(r,this.getOAuthClient(),i);if(s.isOAuth2Error(o))throw new Error(`OAuth error: ${o.error} (${o.error_description})`);return o}getOAuthClient(){return{client_id:"https://rem.noeldemartin.com/applications/ramen.jsonld",token_endpoint_auth_method:"none"}}}class dj extends Fc{constructor(){super();it(this,"authenticator",null);it(this,"store");this.store=v1("ramen-authenticator",{})}async login(r,n){return this.authenticator=this.resolveAuthenticator(n),this.store.authenticator=this.authenticator.name,await this.bootAuthenticator(this.authenticator),this.authenticator.login(r,n)}async logout(){const r=this.authenticator;return this.authenticator=null,delete this.store.authenticator,r==null?void 0:r.logout()}getAuthenticatedFetch(){var r;return((r=this.authenticator)==null?void 0:r.getAuthenticatedFetch())??null}requireAuthenticatedFetch(){var r;return((r=this.authenticator)==null?void 0:r.requireAuthenticatedFetch())??Pi("Failed getting ramen authenticator")}async restoreSession(){this.store.authenticator&&(this.authenticator=Bo(this.store.authenticator),await this.bootAuthenticator(this.authenticator))}resolveAuthenticator(r){return r!=null&&r.usesActivityPods?Bo("activity-pods"):Bo("inrupt")}async bootAuthenticator(r){r.addListener({onSessionStarted:(...n)=>this.notifyListeners("onSessionStarted",...n),onSessionFailed:(...n)=>this.notifyListeners("onSessionFailed",...n),onSessionEnded:(...n)=>this.notifyListeners("onSessionEnded",...n),onAuthenticatedFetchReady:(...n)=>this.notifyListeners("onAuthenticatedFetchReady",...n)}),await r.boot()}}const fj={defaultAuthenticator:"ramen",authenticators:{"activity-pods":new uj,ramen:new dj},onUserProfileLoaded(t,e){t.usesActivityPods=!!e.statement(t.webId,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","https://www.w3.org/ns/activitystreams#Person")}},hj="Ramen",pj=`There are 5 essential components to make a Ramen bowl:

- Tare
- Aroma Oil
- Broth
- Noodles
- Toppings

Except for the noodles and some toppings, you can prepare most of these days before. The instructions below will tell you how to make a basic Miso Ramen, but there are endless variations you can do. The most important points to keep in mind are to include the 5 components, to make a balanced combination, and to include plenty of [Umami](https://www.umamiinfo.com/umamidb/)!`,mj="https://noeldemartin.solidcommunity.net/cookbook/ramen.png",gj="2 bowls",yj="∞",bj="PT30M",vj=["700ml Dashi","500ml Vegetable Broth","240g Wheat Noodles","200g Shiitake","150ml Soy Sauce","100ml Mirin","100ml Sake","50g Bamboo Shoots","50g Miso Paste","12g Sugar","5g Salt","8 Garlic Cloves","6 Green Onions or 1 Leek","2 Boneless Chicken Thighs","2 Eggs","2 Nori Seaweeds","1 Carrot","1 Celery","1 Onion","Olive Oil","Sunflower Oil","Chilli Powder (optional)","Honey (optional)"],_j=["First of all, you should make a savoury Sauce that you'll use in different ingredients. Mix the mirin, sake, soy sauce, sugar and salt. Heat in a pot, and stop it just before it starts boiling.","To make the Aroma Oil, add minced Green Onions or Leek in Sunflower Oil until it gets brown (almost burned). Filter, and store in a dry dark place.","To make the Tare, start by frying some vegetables (Onion, Carrot, Celery, Garlic) until browned. Afterwards, add some of the savoury sauce to deglaze. At this point, you can blend the ingredients for a finer base. If you want to make it spicy, add some chilli powder. Then, add 200ml of Dashi and the miso paste and boil until the miso has been dissolved completely.","To prepare the eggs, boil them for exactly 6 minutes and retire to cold water with ice cubes. Once they've cooled off, peel them and store them in a container submerged in half the savoury sauce, half water. Store in the fridge at least overnight.","Up until this point, everything could have been made the day before and stored. But from this point on, it's better to make them before serving. Before doing anything, start heating the broth which will be the body of the ramen. Mix 500ml of Dashi with 500ml of the vegetable broth. And leave the rest of the ingredients at room temperature (the boiled eggs, aroma oil, etc.).","Cook the chicken thighs on a pan, and when they're almost done, spread them with a mixture of the savoury sauce with honey and minced garlic. You can do the same with the bamboo shots and the shiitake, although you'll probably want to add a lot less quantity of the sauce.","Ideally, you'd have cooked the garlic in the oven with some other recipe. But if that didn't happen, you can cook the garlic cloves in the microwave by adding S&P, oil, and water in a covered container and cooked for about 5 minutes at medium power.",`Finally, before you start cooking the noodles, prepare all the ingredients in order to assemble the bowls quickly (cold Ramen is not Ramen!). Here's a summary of everything you need:

- Hot Broth (dashi + vegetable broth)
- Tare
- Aroma Oil
- Boiled Eggs
- Chicken Thighs
- Shiitake
- Bamboo Shoots
- Garlic Cloves
- Nori
- Minced Green Onions or Leek`,"Boil the Noodles, and assemble the bowl in the following order: Tare, Aroma Oil (don't go light!), Broth, Noodles, and Toppings.","いただきまーす!"],wj=["https://noeldemartin.solidcommunity.net/cookbook/ramen#it","https://www.youtube.com/playlist?list=PLURsDaOr8hWVIL1uXpFewd0smwYfyO0A9","https://www.youtube.com/playlist?list=PLURsDaOr8hWXGHjXPa3nTFZnbqJcAfs4N","https://www.youtube.com/watch?v=9WXIrnWsaCo","https://www.youtube.com/watch?v=eDSwdEDKYds"],Tb={name:hj,description:pj,imageUrl:mj,servings:gj,prepTime:yj,cookTime:bj,ingredients:vj,instructions:_j,externalUrls:wj},xj=to({name:"cookbook",initialState:{container:null,ramen:null}});class Ej extends xj{hasCookbook(){return!!this.container}hasRamen(){return!!this.ramen}async create(e){if(this.container)throw new Error("Container already exists!");const r=await or.findOrCreatePrivateTypeIndex(),n=await Gd.at(e).create({name:"Cookbook"});await this.initializeContainer(n),await n.register(r.url,ei),await or.refreshUserProfile()}async learnRamen(){if(!this.container)return;if(Dt()){await this.learnRamenInActivityPods();return}const{instructions:e,...r}=Tb;this.ramen=await HI(new ei(r),async n=>{var s;e.forEach((i,o)=>n.relatedInstructions.attach({position:o+1,text:i})),await((s=this.container)==null?void 0:s.relatedRecipes.save(n))})}async boot(){var e;await or.booted,(e=or.user)!=null&&e.usesActivityPods&&await this.enableActivityPods(),or.isLoggedIn()&&await this.loadModels()}async initializeContainer(e){this.container=e,await this.container.loadRelation("recipes"),Dt()&&this.container&&(hh.collection=this.container.url,El.collection=this.container.url)}async loadModels(){var s,i;const e=await Promise.all([or.findPublicTypeIndex(),or.findPrivateTypeIndex()]),n=(await Promise.all(e.map(o=>o==null?void 0:o.findContainer(ei,Gd)))).find(o=>!!o)??null;n&&await this.initializeContainer(n),this.ramen=((i=(s=this.container)==null?void 0:s.recipes)==null?void 0:i.find(o=>o.isRamen()))??null}async enableActivityPods(){sS({activityPods:!0}),ei.replaceRdfPrefixes({"https://schema.org/":"http://schema.org/"}),El.replaceRdfPrefixes({"https://schema.org/":"http://schema.org/"})}async learnRamenInActivityPods(){var s;const{instructions:e,...r}=Tb,n=new ei(r);await Promise.all(e.map((i,o)=>n.relatedInstructions.create({position:o+1,text:i}))),await((s=this.container)==null?void 0:s.relatedRecipes.save(n)),await n.metadata.save(),this.ramen=n}}const Aj=qI(Ej),Sj={$cookbook:Aj},Gs=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},Ij={};function Tj(t,e){const r=jw;return J(),ge(r,{class:"underline hover:text-gray-900"},{default:de(()=>[Ie(t.$slots,"default")]),_:3})}const Rj=Gs(Ij,[["render",Tj]]),Oj={},Cj={class:"flex items-center justify-center space-x-1 p-4 text-sm text-gray-700"};function kj(t,e){const r=Rj;return J(),Se("footer",Cj,[ue(r,{href:"https://github.com/noeldemartin/ramen#what-is-this"},{default:de(()=>[tt(je(t.$t("footer.help")),1)]),_:1})])}const Dj=Gs(Oj,[["render",kj]]),Pj={"aria-hidden":"true",width:"1.2em",height:"1.2em",viewBox:"0 0 352 322"};function $j(t,e){return J(),Se("svg",Pj,[...e[0]||(e[0]=[da('<g fill="none"><path d="M87.973 282.353l-60.732-105.33a31.6 31.6 0 010-31.538L87.973 40.233c5.646-9.784 16.08-15.795 27.321-15.795H236.68c11.266 0 21.727 6.011 27.321 15.795l60.758 105.304a31.6 31.6 0 010 31.537l-60.732 105.33c-5.646 9.784-16.08 15.795-27.321 15.795H115.372a31.846 31.846 0 01-27.4-15.846z" fill="#FFF"></path><path d="M93.151 275.197l-57.115-99.06c-5.308-9.185-5.308-20.504 0-29.663l57.115-99.086a29.742 29.742 0 0125.734-14.857h114.23c10.59 0 20.426 5.646 25.734 14.857l57.167 99.034c5.308 9.185 5.308 20.504 0 29.663l-57.141 99.138a29.742 29.742 0 01-25.734 14.858H118.937a29.787 29.787 0 01-25.786-14.884z" fill="#7C4DFF"></path><path d="M118.469 142.233h117.534a2.649 2.649 0 002.654-2.654v-22.04c0-14.65-11.891-26.54-26.54-26.54h-70.568c-20.53-.026-37.157 16.6-37.157 37.13-.026 7.833 6.27 14.104 14.077 14.104zm11.527 97.368h70.229c21.207 0 38.432-17.225 38.432-38.432 0-7.078-5.724-12.828-12.828-12.828H106.942a2.537 2.537 0 00-2.55 2.55v23.054c-.026 14.181 11.475 25.656 25.604 25.656z" fill="#F7F7F7"></path><path d="M109.596 139.319l87.663 87.662c5.802 5.803 15.196 5.803 20.998 0l15.196-15.196c5.803-5.802 5.803-15.196 0-20.998l-87.637-87.663c-5.802-5.802-15.196-5.802-20.998 0l-15.196 15.196c-5.855 5.803-5.855 15.222-.026 20.999z" fill="#F7F7F7"></path><path fill="#444" opacity=".3" d="M198.69 228.464l-51.495-40.123h11.397zm-54.33-126.797l40.565 40.566h13.765z"></path></g>',1)])])}const Lj=rt({name:"app-solid-emblem",render:$j}),Nj={key:0,class:"mt-2 flex justify-center"},Mj=be({__name:"LoginErrorModal",props:{error:{}},setup(t){return(e,r)=>{const n=qt,s=Nt,i=ro;return J(),ge(i,{title:e.$t("loginError.title")},{default:de(()=>[ue(n,{"lang-key":"loginError.description"}),t.error?(J(),Se("div",Nj,[ue(s,{variant:"danger",onClick:r[0]||(r[0]=o=>e.$errors.inspect(t.error))},{default:de(()=>[tt(je(e.$t("loginError.inspect")),1)]),_:1})])):Ge("",!0)]),_:1},8,["title"])}}}),Fj={class:"flex w-full max-w-md flex-col space-y-6"},jj={class:"flex flex-col items-center"},Uj={href:"https://solidproject.org",target:"_blank"},Bj={class:"text-center text-3xl text-gray-900"},qj={class:"flex flex-col space-y-6 rounded border border-gray-300 bg-gray-100 p-4"},Vj={class:"flex flex-row-reverse justify-start"},Hj={class:"flex items-center space-x-4"},zj=be({__name:"AppLoginForm",setup(t){const e=Pc({loginUrl:lp("https://")});function r(n){e.reset({keepData:!0}),Gt.modal(Mj,{error:n})}return(n,s)=>{const i=Lj,o=qt,a=Nt,l=zw,c=$c;return J(),Se("div",Fj,[Oe("div",jj,[Oe("a",Uj,[ue(i,{class:"mx-auto size-28"})]),Oe("h2",Bj,je(n.$t("login.title")),1)]),n.$solid.wasLoggedIn()&&!n.$solid.loginOngoing?(J(),Se(Ze,{key:0},[Oe("div",qj,[ue(o,{"lang-key":"login.previous","lang-params":{url:n.$solid.user.webId,name:n.$solid.user.name??n.$solid.user.webId},class:"text-sm opacity-90"},null,8,["lang-params"]),Oe("div",Vj,[ue(a,{class:"bg-solid-500 hover:bg-solid-600 focus-visible:outline-solid-500",onClick:s[0]||(s[0]=u=>n.$ui.loading(n.$solid.reconnect({onError:r,force:!0})))},{default:de(()=>[tt(je(n.$t("login.reconnect")),1)]),_:1}),ue(a,{class:"mr-3",variant:"ghost",onClick:s[1]||(s[1]=u=>n.$solid.logout(!0))},{default:de(()=>[tt(je(n.$t("login.logout")),1)]),_:1})])]),Oe("div",Hj,[s[3]||(s[3]=Oe("div",{class:"h-px grow bg-gray-300"},null,-1)),Oe("span",null,je(n.$t("login.previousSeparator")),1),s[4]||(s[4]=Oe("div",{class:"h-px grow bg-gray-300"},null,-1))])],64)):Ge("",!0),ue(c,{form:C(e),class:"flex flex-col",onSubmit:s[2]||(s[2]=u=>n.$ui.loading(n.$solid.login(C(e).loginUrl,{onError:r})))},{default:de(()=>[ue(l,{name:"loginUrl","input-class":"focus:ring-solid-500","aria-label":n.$t("login.url"),placeholder:n.$t("login.urlPlaceholder")},null,8,["aria-label","placeholder"]),ue(a,{submit:"",class:"bg-solid-500 hover:bg-solid-600 focus-visible:outline-solid-500 mt-2"},{default:de(()=>[tt(je(n.$t("login.submit")),1)]),_:1})]),_:1},8,["form"])])}}}),Wj={viewBox:"0 0 36 36","aria-hidden":"true",width:"1.2em",height:"1.2em"};function Kj(t,e){return J(),Se("svg",Wj,[...e[0]||(e[0]=[da('<path fill="#CCD6DD" d="M18 36C3.042 36 1 22 1 18h34c0 2-1.958 18-17 18"></path><path fill="#99AAB5" d="M35 17.056c0 5.216-7.611 9.444-17 9.444S1 22.271 1 17.056s7.611-8.444 17-8.444c9.389-.001 17 3.228 17 8.444"></path><path fill="#EA596E" d="M19.5 33H17a.5.5 0 0 1 0-1h2v-3h-4v1h3a.5.5 0 0 1 0 1h-3.5a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5m5.5-1a.5.5 0 0 1-.186-.964l2.176-.871l-.065-2.249l-3.925.975v.949a246 246 0 0 0 2.858-.819a.5.5 0 1 1 .283.959a317 317 0 0 1-3.507 1.002a.5.5 0 0 1-.438-.083A.5.5 0 0 1 22 30.5v-2a.5.5 0 0 1 .38-.485l4.906-1.219a.502.502 0 0 1 .62.471L28 30.485a.5.5 0 0 1-.315.479l-2.5 1A.5.5 0 0 1 25 32m4.573-2.712a.57.57 0 0 1-.288-.078a.62.62 0 0 1-.285-.491v-2.562a.5.5 0 0 1 .266-.441c.59-.313 1.279-.726 1.838-1.06c.39-.233.718-.43.911-.533a.5.5 0 0 1 .734.403c.034.438-.113 1.545-.144 1.763a.5.5 0 0 1-.247.366l-1.203.688a.506.506 0 0 1-.683-.186a.5.5 0 0 1 .186-.683l.987-.564c.018-.14.035-.293.052-.444l-.08.048c-.49.293-1.078.646-1.617.942v1.625c.173-.094.407-.229.724-.427l.339.379l.19.471c-.949.587-1.392.784-1.68.784m-17.698 2.993a.5.5 0 0 1-.152-.023l-3.219-1.031a.5.5 0 0 1-.324-.629a.503.503 0 0 1 .628-.324l2.585.828l.065-2.356l-2.856-.836l-.026.735l1.585.537a.5.5 0 0 1-.321.947l-1.938-.656a.5.5 0 0 1-.339-.491l.062-1.75a.5.5 0 0 1 .64-.462l3.844 1.125a.5.5 0 0 1 .359.493l-.094 3.406a.5.5 0 0 1-.499.487M5.844 29.5a.5.5 0 0 1-.262-.074l-1.375-.844a.5.5 0 0 1-.165-.688a.5.5 0 0 1 .688-.164l.608.373l-.008-1.623L4 25.73v.425l.743.448a.5.5 0 0 1-.517.856l-.984-.594A.5.5 0 0 1 3 26.438v-1.562a.5.5 0 0 1 .746-.436l2.328 1.312a.5.5 0 0 1 .254.433l.016 2.812a.5.5 0 0 1-.5.503"></path><ellipse cx="18" cy="18" fill="#FFAC33" rx="15" ry="7"></ellipse><path fill="#FFD983" d="M22 24c-1.18 0-2.122-.196-2.801-.584c-.767-.438-1.208-1.143-1.208-1.933C17.992 19.628 20.332 18 23 18a1 1 0 1 1 0 2c-1.872 0-3.008 1.03-3.008 1.483c0 .076.152.169.199.196c.21.12.724.321 1.809.321c2.404 0 5-1.529 5-4c0-.721-.94-1.183-1.343-1.348c-2.02-.826-5.291-.579-6.944 1.104c-1.441 1.467-3.792 1.956-6.29 1.301c-1.538-.402-3.319-1.338-3.705-2.761c-.196-.725.008-1.436.575-2.004C11.586 12 15.871 12 19 12a1 1 0 1 1 0 2c-2.779 0-6.586 0-8.293 1.707a.3.3 0 0 0-.064.082c.023.157.571.764 1.807 1.189c1.571.541 3.676.559 4.837-.623c2.319-2.361 6.461-2.644 9.128-1.554C28.058 15.473 29 16.639 29 18c0 3.706-3.634 6-7 6m-7 0c-7.605 0-10-5.456-10-7a1 1 0 0 1 2-.005C7.036 17.658 8.701 22 15 22a1 1 0 1 1 0 2"></path><path fill="#AA695B" d="m35.092 3.053l-23.005.886a1 1 0 1 1-.179-1.992L34.824.066a1 1 0 0 1 1.086.906c.048.549-.267 2.031-.818 2.081M35 8L12 7a1 1 0 0 1 0-2h23c.553 0 1 .448 1 1s-.447 2-1 2"></path><path fill="#FFD983" d="M14 15a1 1 0 0 1-1-1V2a1 1 0 0 1 2 0v12a1 1 0 0 1-1 1m4 2a1 1 0 0 1-1-1V1a1 1 0 0 1 2 0v15a1 1 0 0 1-1 1"></path>',7)])])}const Gj=rt({name:"twemoji-steaming-bowl",render:Kj}),Jj={},Xj=["href","aria-label","title"];function Yj(t,e){var s,i,o;const r=Gj,n=qt;return J(),Se(Ze,null,[Oe("a",{target:"_blank",href:(s=t.$cookbook.ramen)==null?void 0:s.url,"aria-label":t.$t("cookbook.seeRamen",{url:(i=t.$cookbook.ramen)==null?void 0:i.url}),title:t.$t("cookbook.seeRamen",{url:(o=t.$cookbook.ramen)==null?void 0:o.url})},[ue(r,{class:"size-40"})],8,Xj),ue(n,{class:"text-center text-4xl leading-snug font-light","lang-key":"cookbook.ramen"})],64)}const Qj=Gs(Jj,[["render",Yj]]),Zj={viewBox:"0 0 36 36","aria-hidden":"true",width:"1.2em",height:"1.2em"};function e5(t,e){return J(),Se("svg",Zj,[...e[0]||(e[0]=[da('<path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18c-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"></path><ellipse cx="11.5" cy="17" fill="#664500" rx="2.5" ry="3.5"></ellipse><ellipse cx="24.5" cy="17" fill="#664500" rx="2.5" ry="3.5"></ellipse><path fill="#664500" d="M5.999 13.5a1 1 0 0 1-.799-1.6c3.262-4.35 7.616-4.4 7.8-4.4a1 1 0 0 1 .004 2c-.155.002-3.568.086-6.204 3.6a1 1 0 0 1-.801.4m24.002 0a1 1 0 0 1-.801-.4c-2.641-3.521-6.061-3.599-6.206-3.6a1 1 0 0 1-.991-1.005A.997.997 0 0 1 23 7.5c.184 0 4.537.05 7.8 4.4a1 1 0 0 1-.799 1.6m-6.516 14.879C23.474 28.335 22.34 24 18 24s-5.474 4.335-5.485 4.379a.5.5 0 0 0 .232.544a.51.51 0 0 0 .596-.06C13.352 28.855 14.356 28 18 28c3.59 0 4.617.83 4.656.863a.5.5 0 0 0 .829-.484"></path><path fill="#5DADEC" d="M16 31c0 2.762-2.238 5-5 5s-5-2.238-5-5s4-10 5-10s5 7.238 5 10"></path>',5)])])}const t5=rt({name:"twemoji-crying-face",render:e5}),r5={};function n5(t,e){const r=t5,n=qt,s=Nt;return J(),Se(Ze,null,[ue(r,{class:"size-20"}),ue(n,{"lang-key":"cookbook.noRamen",class:"text-center text-3xl leading-snug font-light"}),ue(s,{onClick:e[0]||(e[0]=i=>t.$ui.loading(t.$t("cookbook.addingRamen"),t.$cookbook.learnRamen()))},{default:de(()=>[tt(je(t.$t("cookbook.addRamen")),1)]),_:1})],64)}const s5=Gs(r5,[["render",n5]]),i5={viewBox:"0 0 20 20","aria-hidden":"true",width:"1.2em",height:"1.2em"};function o5(t,e){return J(),Se("svg",i5,[...e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"m9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828L5.757 6.586L4.343 8z"},null,-1)])])}const a5=rt({name:"zondicons-cheveron-down",render:o5}),l5=be({__name:"InlineSelect",props:{as:{},options:{},placeholder:{},renderOption:{type:Function},compareOptions:{type:Function},labelClass:{},optionsClass:{},align:{},side:{},name:{},label:{},description:{},modelValue:{}},setup(t){const e=t;return(r,n)=>{const s=sp,i=a5,o=ip,a=op,l=qw;return J(),ge(l,Ve(e,{ref:"$selectRef",as:"div",class:"relative inline"}),{default:de(()=>[ue(o,{class:"inline-flex items-center"},{default:de(()=>[ue(s),ue(i,{class:"size-4"})]),_:1}),ue(a)]),_:1},16)}}}),c5={viewBox:"0 0 36 36","aria-hidden":"true",width:"1.2em",height:"1.2em"};function u5(t,e){return J(),Se("svg",c5,[...e[0]||(e[0]=[da('<path fill="#E1E8ED" d="M36 36v-2a6 6 0 0 0-6-6H14a6 6 0 0 0-6 6v2z"></path><path fill="#269" d="m22 36l5-8H17z"></path><path fill="#FFDC5D" d="M17.64 28.038c0 1.962 8.72 1.962 8.72 0v-3.749h-8.72z"></path><path fill="#F9CA55" d="M17.632 25.973c1.216 1.374 2.724 1.746 4.364 1.746s3.146-.373 4.363-1.746v-3.491h-8.728v3.491z"></path><path fill="#FFAC33" d="M23.157 6.984c-1.925-.623 1.444-3.7.312-2.228c-2.944.057-7.652 3.158-9.802 5.97c-2.317 3.03-1.824 4.933-1.469 7.546c.403 2.96 2.067 3.907 3.397 4.303c1.914 2.529 3.949 2.421 7.366 2.421c6.672 0 9.24-4.913 8.884-11.106c-.267-2.981-3.848-5.34-8.688-6.906"></path><path fill="#FFDC5D" d="M29.547 13.273c-.646-.894-1.472-1.614-3.284-1.868c.68.311 1.725 1.727 1.81 2.321s.082 1.75-.386 1.099c-2.049-2.851-4.878-2.401-7.204-3.856c-1.624-1.016-2.119-2.141-2.119-2.141s-.198 1.5-2.661 3.029c-.714.443-1.566 1.43-2.038 2.888c-.34 1.048-.234 1.982-.234 3.578c0 4.66 3.841 8.578 8.578 8.578s8.578-3.953 8.578-8.578c-.001-2.898-.304-4.031-1.04-5.05"></path><path fill="#C1694F" d="M22.961 20.706h-1.906a.477.477 0 1 1 0-.954h1.906a.477.477 0 1 1 0 .954"></path><path fill="#662113" d="M18.195 17.37a.953.953 0 0 1-.953-.953v-.953a.953.953 0 0 1 1.906 0v.953a.95.95 0 0 1-.953.953m7.626 0a.953.953 0 0 1-.953-.953v-.953a.953.953 0 0 1 1.906 0v.953a.953.953 0 0 1-.953.953"></path><path fill="#C1694F" d="M22.134 24.686c-2.754 0-3.6-.705-3.741-.848a.655.655 0 0 1 .902-.95c.052.037.721.487 2.839.487c2.2 0 2.836-.485 2.842-.49a.64.64 0 0 1 .913.015a.67.67 0 0 1-.014.938c-.142.143-.987.848-3.741.848"></path><path fill="#CCD6DD" d="M31.178 12S28.556 13 22 13s-9.178-1-9.178-1V6h18.355v6z"></path><path fill="#99AAB5" d="M16 11.25a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 1 0zm13 0a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 1 0zm-10 .4a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 1 0zm3.5.1a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 1 0zm3.5-.1a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 1 0z"></path><path fill="#E1E8ED" d="M28.25 0c-1.157 0-2.237.32-3.167.869a6.21 6.21 0 0 0-6.25-.051A6.2 6.2 0 0 0 15.75 0C12.298 0 9.5 2.798 9.5 6.25S20.794 9.5 21.916 9.5c1.157 0 12.584.202 12.584-3.25S31.701 0 28.25 0"></path><path fill="#99AAB5" d="M10 24.75C10 28.202 7.985 30 5.5 30S1 28.202 1 24.75s2.015-7.25 4.5-7.25s4.5 3.798 4.5 7.25"></path><path fill="#99AAB5" d="M4.5 28h2v8h-2z"></path><path fill="#C1694F" d="M10 24.75C10 28.202 7.985 30 5.5 30S1 28.202 1 24.75s2.015-7.25 4.5-7.25s4.5 3.798 4.5 7.25"></path><path fill="#C1694F" d="M4.5 28h2v8h-2z"></path><path fill="#CCD6DD" d="M14.894 4.489a.5.5 0 0 0 .594-.383c.031-.145.334-1.441 1.319-2.212c.76-.595 1.749-.987 2.007-1.084a6.2 6.2 0 0 0-1.268-.535c-.423.21-.914.486-1.355.832c-1.236.967-1.617 2.492-1.681 2.788a.5.5 0 0 0 .384.594m12.157-2.586c.986.772 1.289 2.066 1.319 2.211a.5.5 0 0 0 .978-.21c-.064-.296-.443-1.82-1.681-2.789a8 8 0 0 0-1.309-.809a6.2 6.2 0 0 0-1.237.542c.337.132 1.227.504 1.93 1.055"></path>',17)])])}const d5=rt({name:"twemoji-cook",render:u5}),f5=be({__name:"NoCookbook",setup(t){const e=ea("cookbook.addUrl"),r=Ae(),n=Ae([...or.requireUser().storageUrls,e]),s=Pc({url:lp(n.value[0])});function i(){s.url=prompt(ea("cookbook.addUrlPrompt"))??r.value,!n.value.includes(s.url)&&n.value.splice(-1,0,s.url)}function o(){r.value=s.url}return Bt(()=>s.url===e?i():o()),(a,l)=>{const c=d5,u=qt,d=Nt,f=l5,h=$c;return J(),Se(Ze,null,[ue(c,{class:"size-20"}),ue(u,{"lang-key":"cookbook.notFound",class:"text-center text-3xl leading-snug font-light"}),ue(h,{form:C(s),class:"mt-6 flex flex-col items-center gap-2 md:mt-0 md:flex-row",onSubmit:l[0]||(l[0]=m=>a.$ui.loading(a.$t("cookbook.creating"),a.$cookbook.create(C(s).url)))},{default:de(()=>[ue(d,{submit:""},{default:de(()=>[tt(je(a.$t("cookbook.create")),1)]),_:1}),Oe("span",null,je(a.$t("cookbook.createSeparator")),1),ue(f,{name:"url",options:n.value},null,8,["options"])]),_:1},8,["form"])],64)}}}),h5={},p5={class:"flex flex-col items-center gap-4"};function m5(t,e){const r=f5,n=s5,s=Qj;return J(),Se("div",p5,[t.$cookbook.hasCookbook()?t.$cookbook.hasRamen()?(J(),ge(s,{key:2})):(J(),ge(n,{key:1})):(J(),ge(r,{key:0}))])}const g5=Gs(h5,[["render",m5]]),y5={viewBox:"0 0 36 36","aria-hidden":"true",width:"1.2em",height:"1.2em"};function b5(t,e){return J(),Se("svg",y5,[...e[0]||(e[0]=[da('<path fill="#FFCC4D" d="M18 0C8.06 0 0 8.06 0 18c0 6.051 2.996 11.392 7.574 14.655C7.678 26.217 5.337 19 1.404 19c-.464 0-.84.066-1.153.183C.554 18.426 1.211 18 2.44 18c4.27 0 6.666 8.506 6.092 15.288A17.9 17.9 0 0 0 18 36c3.479 0 6.716-1.004 9.47-2.713C26.893 26.48 29.288 18 33.561 18c1.233 0 1.892.426 2.192 1.183c-.314-.117-.691-.183-1.157-.183c-3.938 0-6.278 7.199-6.17 13.655C33.005 29.392 36 24.051 36 18c0-9.94-8.059-18-18-18"></path><path fill="#BDDDF4" d="M18 0C8.06 0 0 8.06 0 18c0 1.192.123 2.356.344 3.484c.234-.863.6-1.691 1.058-2.484c-.463 0-.838.066-1.15.183c.264-.659.822-1.048 1.768-1.142C5.012 13.862 11.037 11 18 11s12.988 2.861 15.98 7.04c.95.094 1.51.482 1.772 1.143c-.312-.117-.689-.183-1.153-.183a10.5 10.5 0 0 1 1.058 2.484C35.878 20.356 36 19.192 36 18c0-9.94-8.059-18-18-18"></path><path fill="#F5F8FA" d="M7.347 11.91c-.946 3.176.107 6.293 2.353 6.962c2.246.67 4.834-1.362 5.779-4.538c.946-3.175-.106-6.293-2.351-6.962S8.294 8.735 7.347 11.91m21.305 0c.946 3.176-.107 6.293-2.352 6.962c-2.246.67-4.834-1.362-5.779-4.538c-.946-3.175.107-6.293 2.351-6.962c2.245-.669 4.833 1.363 5.78 4.538"></path><path fill="#664500" d="M18 18c-2.757 0-5 2.243-5 5v6c0 2.757 2.243 5 5 5s5-2.243 5-5v-6c0-2.757-2.243-5-5-5"></path><path fill="#FCAB40" d="M1.404 19c-.464 0-.84.066-1.153.183q.109-.267.281-.476C-1.33 20.998 2.849 28.54.818 36h6.46c1.19-6.96-1.235-17-5.874-17m34.349.183c-.314-.117-.691-.183-1.157-.183c-4.641 0-7.065 10.002-5.873 17h6.46c-1.906-7.045 1.656-14.089.57-16.817"></path>',5)])])}const v5=rt({name:"twemoji-face-screaming-in-fear",render:b5}),_5={key:0,class:"flex flex-col items-center gap-4 p-8"},w5={class:"flex flex-col gap-3"},x5=be({__name:"AppLoginError",setup(t){const e=re(()=>{if(!or.error)return;const r=Nw(or.error);return ea("login.errorInfo",{message:r})});return(r,n)=>{const s=v5,i=qt,o=Nt;return e.value?(J(),Se("div",_5,[ue(s,{class:"size-20"}),ue(i,{as:"h1",inline:"",class:"overflow-hidden text-center text-3xl overflow-ellipsis text-red-600",text:e.value},null,8,["text"]),Oe("div",w5,[ue(o,{variant:"danger",onClick:n[0]||(n[0]=a=>r.$ui.loading(r.$solid.reconnect({force:!0})))},{default:de(()=>[tt(je(r.$t("login.errorReconnect")),1)]),_:1}),ue(o,{variant:"danger",onClick:n[1]||(n[1]=a=>r.$ui.loading(r.$solid.logout(!0).then(()=>r.$app.reload())))},{default:de(()=>[tt(je(r.$t("login.errorLogout")),1)]),_:1}),ue(o,{variant:"danger",onClick:n[2]||(n[2]=a=>r.$errors.inspect(r.$solid.error))},{default:de(()=>[tt(je(r.$t("login.errorInspect")),1)]),_:1})])])):Ge("",!0)}}}),E5={},A5={class:"flex flex-grow items-center justify-center self-stretch p-10"};function S5(t,e){const r=x5,n=g5,s=zj;return J(),Se("div",A5,[t.$solid.error?(J(),ge(r,{key:0})):t.$solid.isLoggedIn()?(J(),ge(n,{key:1})):(J(),ge(s,{key:2}))])}const I5=Gs(E5,[["render",S5]]),T5={viewBox:"0 0 24 24","aria-hidden":"true",width:"1.2em",height:"1.2em"};function R5(t,e){return J(),Se("svg",T5,[...e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"m17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5M4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"},null,-1)])])}const O5=rt({name:"mdi-logout",render:R5}),C5={viewBox:"0 0 20 20","aria-hidden":"true",width:"1.2em",height:"1.2em"};function k5(t,e){return J(),Se("svg",C5,[...e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M6 4H5a1 1 0 1 1 0-2h11V1a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V5a1 1 0 0 0-1-1h-7v8l-2-2l-2 2z"},null,-1)])])}const D5=rt({name:"zondicons-book-reference",render:k5}),P5={viewBox:"0 0 20 20","aria-hidden":"true",width:"1.2em",height:"1.2em"};function $5(t,e){return J(),Se("svg",P5,[...e[0]||(e[0]=[Oe("path",{fill:"currentColor",d:"M5 5a5 5 0 0 1 10 0v2A5 5 0 0 1 5 7zM0 16.68A19.9 19.9 0 0 1 10 14c3.64 0 7.06.97 10 2.68V20H0z"},null,-1)])])}const L5=rt({name:"zondicons-user",render:$5}),N5={},M5={key:0,class:"flex w-full justify-between p-4"},F5={class:"flex flex-col"},j5=["title"],U5={class:"sr-only"},B5=["title"],q5={class:"sr-only"};function V5(t,e){const r=L5,n=CM,s=D5,i=O5,o=Nt;return t.$solid.isLoggedIn()?(J(),Se("div",M5,[Oe("div",F5,[Oe("div",{class:"flex items-center text-sm",title:t.$t("header.account",{webId:t.$solid.user.webId})},[ue(r,{class:"mr-2 size-4"}),Oe("span",U5,je(t.$t("header.account",{webId:t.$solid.user.webId})),1),ue(n,{href:t.$solid.user.webId,class:"font-normal text-current"},{default:de(()=>[tt(je(t.$solid.user.name??t.$solid.user.webId),1)]),_:1},8,["href"])],8,j5),t.$cookbook.hasCookbook()?(J(),Se("div",{key:0,class:"flex items-center text-sm",title:t.$t("header.cookbook",{url:t.$cookbook.container.url})},[ue(s,{class:"mr-2 size-4"}),Oe("span",q5,je(t.$t("header.cookbook",{url:t.$cookbook.container.url})),1),ue(n,{href:t.$cookbook.container.url,class:"font-normal text-current"},{default:de(()=>[tt(je(t.$cookbook.container.name??t.$cookbook.container.url),1)]),_:1},8,["href"])],8,B5)):Ge("",!0)]),ue(o,{variant:"ghost",class:"translate-x-2 rounded-full","aria-label":t.$t("header.logout"),title:t.$t("header.logout"),onClick:e[0]||(e[0]=a=>t.$solid.logout())},{default:de(()=>[ue(i,{class:"size-7 text-red-500"})]),_:1},8,["aria-label","title"])])):Ge("",!0)}const H5=Gs(N5,[["render",V5]]),z5={},W5={class:"flex h-screen w-screen flex-col items-center overflow-auto"};function K5(t,e){const r=H5,n=I5,s=Dj,i=SM;return J(),ge(i,{class:"bg-yellow-50"},{default:de(()=>[Oe("div",W5,[ue(r),ue(n),ue(s)])]),_:1})}const G5=Gs(z5,[["render",K5]]);wM(G5,{services:Sj,plugins:[MF({messages:Object.assign({"/src/lang/en.yaml":()=>sn(()=>import("./en-DG8ZsRvU.js"),[])})}),VF({models:Object.assign({"/src/models/Recipe.schema.ts":cI,"/src/models/Recipe.ts":GI,"/src/models/RecipeInstructionsStep.schema.ts":WI,"/src/models/RecipeInstructionsStep.ts":KI,"/src/models/RecipesContainer.ts":JI})}),cj({autoReconnect:!1,...fj})]});export{sm as c,jp as d,uE as g,Fp as o};
//# sourceMappingURL=index-D-YdvASG.js.map
